/*! For license information please see main.2a99be77.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},64:function(e){e.exports=function(){"use strict";function e(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(t,n){return t.get(e(t,n))}function r(e,n,r){t(e,n),n.set(e,r)}function s(t,n,r){return t.set(e(t,n),r),r}const a=100,i={},l=()=>{i.previousActiveElement instanceof HTMLElement?(i.previousActiveElement.focus(),i.previousActiveElement=null):document.body&&document.body.focus()},o=e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,r=window.scrollY;i.restoreFocusTimeout=setTimeout(()=>{l(),t()},a),window.scrollTo(n,r)}),c="swal2-",d=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((e,t)=>(e[t]=c+t,e),{}),u=["success","warning","info","question","error"].reduce((e,t)=>(e[t]=c+t,e),{}),m="SweetAlert2:",h=e=>e.charAt(0).toUpperCase()+e.slice(1),p=e=>{console.warn(`${m} ${"object"===typeof e?e.join(" "):e}`)},f=e=>{console.error(`${m} ${e}`)},v=[],g=e=>{v.includes(e)||(v.push(e),p(e))},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;g(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},b=e=>"function"===typeof e?e():e,y=e=>e&&"function"===typeof e.toPromise,j=e=>y(e)?e.toPromise():Promise.resolve(e),w=e=>e&&Promise.resolve(e)===e,N=()=>document.body.querySelector(`.${d.container}`),C=e=>{const t=N();return t?t.querySelector(e):null},E=e=>C(`.${e}`),S=()=>E(d.popup),k=()=>E(d.icon),_=()=>E(d["icon-content"]),O=()=>E(d.title),P=()=>E(d["html-container"]),z=()=>E(d.image),T=()=>E(d["progress-steps"]),A=()=>E(d["validation-message"]),R=()=>C(`.${d.actions} .${d.confirm}`),L=()=>C(`.${d.actions} .${d.cancel}`),M=()=>C(`.${d.actions} .${d.deny}`),B=()=>E(d["input-label"]),I=()=>C(`.${d.loader}`),D=()=>E(d.actions),$=()=>E(d.footer),F=()=>E(d["timer-progress-bar"]),U=()=>E(d.close),H='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',V=()=>{const e=S();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((e,t)=>{const n=parseInt(e.getAttribute("tabindex")||"0"),r=parseInt(t.getAttribute("tabindex")||"0");return n>r?1:n<r?-1:0}),r=e.querySelectorAll(H),s=Array.from(r).filter(e=>"-1"!==e.getAttribute("tabindex"));return[...new Set(n.concat(s))].filter(e=>de(e))},q=()=>Y(document.body,d.shown)&&!Y(document.body,d["toast-shown"])&&!Y(document.body,d["no-backdrop"]),W=()=>{const e=S();return!!e&&Y(e,d.toast)},G=()=>{const e=S();return!!e&&e.hasAttribute("data-loading")},K=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html"),r=n.querySelector("head");r&&Array.from(r.childNodes).forEach(t=>{e.appendChild(t)});const s=n.querySelector("body");s&&Array.from(s.childNodes).forEach(t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)})}},Y=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},X=(e,t)=>{Array.from(e.classList).forEach(n=>{Object.values(d).includes(n)||Object.values(u).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)})},Q=(e,t,n)=>{if(X(e,t),!t.customClass)return;const r=t.customClass[n];r&&("string"===typeof r||r.forEach?te(e,r):p(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`))},J=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${d.popup} > .${d[t]}`);case"checkbox":return e.querySelector(`.${d.popup} > .${d.checkbox} input`);case"radio":return e.querySelector(`.${d.popup} > .${d.radio} input:checked`)||e.querySelector(`.${d.popup} > .${d.radio} input:first-child`);case"range":return e.querySelector(`.${d.popup} > .${d.range} input`);default:return e.querySelector(`.${d.popup} > .${d.input}`)}},Z=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},ee=(e,t,n)=>{e&&t&&("string"===typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(t=>{Array.isArray(e)?e.forEach(e=>{n?e.classList.add(t):e.classList.remove(t)}):n?e.classList.add(t):e.classList.remove(t)}))},te=(e,t)=>{ee(e,t,!0)},ne=(e,t)=>{ee(e,t,!1)},re=(e,t)=>{const n=Array.from(e.children);for(let r=0;r<n.length;r++){const e=n[r];if(e instanceof HTMLElement&&Y(e,t))return e}},se=(e,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||0===parseInt(n)?e.style.setProperty(t,"number"===typeof n?`${n}px`:n):e.style.removeProperty(t)},ae=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},ie=e=>{e&&(e.style.display="none")},le=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver(()=>{ce(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},oe=(e,t,n,r)=>{const s=e.querySelector(t);s&&s.style.setProperty(n,r)},ce=function(e,t){t?ae(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ie(e)},de=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),ue=()=>!de(R())&&!de(M())&&!de(L()),me=e=>!!(e.scrollHeight>e.clientHeight),he=(e,t)=>{let n=e;for(;n&&n!==t;){if(me(n))return!0;n=n.parentElement}return!1},pe=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},fe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=F();n&&de(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"},10))},ve=()=>{const e=F();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width=`${n}%`},ge=()=>"undefined"===typeof window||"undefined"===typeof document,xe=`\n <div aria-labelledby="${d.title}" aria-describedby="${d["html-container"]}" class="${d.popup}" tabindex="-1">\n   <button type="button" class="${d.close}"></button>\n   <ul class="${d["progress-steps"]}"></ul>\n   <div class="${d.icon}"></div>\n   <img class="${d.image}" />\n   <h2 class="${d.title}" id="${d.title}"></h2>\n   <div class="${d["html-container"]}" id="${d["html-container"]}"></div>\n   <input class="${d.input}" id="${d.input}" />\n   <input type="file" class="${d.file}" />\n   <div class="${d.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${d.select}" id="${d.select}"></select>\n   <div class="${d.radio}"></div>\n   <label class="${d.checkbox}">\n     <input type="checkbox" id="${d.checkbox}" />\n     <span class="${d.label}"></span>\n   </label>\n   <textarea class="${d.textarea}" id="${d.textarea}"></textarea>\n   <div class="${d["validation-message"]}" id="${d["validation-message"]}"></div>\n   <div class="${d.actions}">\n     <div class="${d.loader}"></div>\n     <button type="button" class="${d.confirm}"></button>\n     <button type="button" class="${d.deny}"></button>\n     <button type="button" class="${d.cancel}"></button>\n   </div>\n   <div class="${d.footer}"></div>\n   <div class="${d["timer-progress-bar-container"]}">\n     <div class="${d["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),be=()=>{const e=N();return!!e&&(e.remove(),ne([document.documentElement,document.body],[d["no-backdrop"],d["toast-shown"],d["has-column"]]),!0)},ye=()=>{i.currentInstance.resetValidationMessage()},je=()=>{const e=S(),t=re(e,d.input),n=re(e,d.file),r=e.querySelector(`.${d.range} input`),s=e.querySelector(`.${d.range} output`),a=re(e,d.select),i=e.querySelector(`.${d.checkbox} input`),l=re(e,d.textarea);t.oninput=ye,n.onchange=ye,a.onchange=ye,i.onchange=ye,l.oninput=ye,r.oninput=()=>{ye(),s.value=r.value},r.onchange=()=>{ye(),s.value=r.value}},we=e=>"string"===typeof e?document.querySelector(e):e,Ne=e=>{const t=S();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Ce=e=>{"rtl"===window.getComputedStyle(e).direction&&te(N(),d.rtl)},Ee=e=>{const t=be();if(ge())return void f("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=d.container,t&&te(n,d["no-transition"]),K(n,xe),n.dataset.swal2Theme=e.theme;const r=we(e.target);r.appendChild(n),e.topLayer&&(n.setAttribute("popover",""),n.showPopover()),Ne(e),Ce(r),je()},Se=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"===typeof e?ke(e,t):e&&K(t,e)},ke=(e,t)=>{e.jquery?_e(t,e):K(t,e.toString())},_e=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Oe=(e,t)=>{const n=D(),r=I();n&&r&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?ae(n):ie(n),Q(n,t,"actions"),Pe(n,r,t),K(r,t.loaderHtml||""),Q(r,t,"loader"))};function Pe(e,t,n){const r=R(),s=M(),a=L();r&&s&&a&&(Ae(r,"confirm",n),Ae(s,"deny",n),Ae(a,"cancel",n),ze(r,s,a,n),n.reverseButtons&&(n.toast?(e.insertBefore(a,r),e.insertBefore(s,r)):(e.insertBefore(a,t),e.insertBefore(s,t),e.insertBefore(r,t))))}function ze(e,t,n,r){r.buttonsStyling?(te([e,t,n],d.styled),r.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Te(e),Te(t),Te(n)):ne([e,t,n],d.styled)}function Te(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Ae(e,t,n){const r=h(t);ce(e,n[`show${r}Button`],"inline-block"),K(e,n[`${t}ButtonText`]||""),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),e.className=d[t],Q(e,n,`${t}Button`)}const Re=(e,t)=>{const n=U();n&&(K(n,t.closeButtonHtml||""),Q(n,t,"closeButton"),ce(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},Le=(e,t)=>{const n=N();n&&(Me(n,t.backdrop),Be(n,t.position),Ie(n,t.grow),Q(n,t,"container"))};function Me(e,t){"string"===typeof t?e.style.background=t:t||te([document.documentElement,document.body],d["no-backdrop"])}function Be(e,t){t&&(t in d?te(e,d[t]):(p('The "position" parameter is not valid, defaulting to "center"'),te(e,d.center)))}function Ie(e,t){t&&te(e,d[`grow-${t}`])}var De={innerParams:new WeakMap,domCache:new WeakMap};const $e=["input","file","range","select","radio","checkbox","textarea"],Fe=(e,t)=>{const n=S();if(!n)return;const r=De.innerParams.get(e),s=!r||t.input!==r.input;$e.forEach(e=>{const r=re(n,d[e]);r&&(Ve(e,t.inputAttributes),r.className=d[e],s&&ie(r))}),t.input&&(s&&Ue(t),qe(t))},Ue=e=>{if(!e.input)return;if(!Xe[e.input])return void f(`Unexpected type of input! Expected ${Object.keys(Xe).join(" | ")}, got "${e.input}"`);const t=Ke(e.input);if(!t)return;const n=Xe[e.input](t,e);ae(t),e.inputAutoFocus&&setTimeout(()=>{Z(n)})},He=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},Ve=(e,t)=>{const n=S();if(!n)return;const r=J(n,e);if(r){He(r);for(const e in t)r.setAttribute(e,t[e])}},qe=e=>{if(!e.input)return;const t=Ke(e.input);t&&Q(t,e,"input")},We=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},Ge=(e,t,n)=>{if(n.inputLabel){const r=document.createElement("label"),s=d["input-label"];r.setAttribute("for",e.id),r.className=s,"object"===typeof n.customClass&&te(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},Ke=e=>{const t=S();if(t)return re(t,d[e]||d.input)},Ye=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:w(t)||p(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Xe={};Xe.text=Xe.email=Xe.password=Xe.number=Xe.tel=Xe.url=Xe.search=Xe.date=Xe["datetime-local"]=Xe.time=Xe.week=Xe.month=(e,t)=>(Ye(e,t.inputValue),Ge(e,e,t),We(e,t),e.type=t.input,e),Xe.file=(e,t)=>(Ge(e,e,t),We(e,t),e),Xe.range=(e,t)=>{const n=e.querySelector("input"),r=e.querySelector("output");return Ye(n,t.inputValue),n.type=t.input,Ye(r,t.inputValue),Ge(n,e,t),e},Xe.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");K(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Ge(e,e,t),e},Xe.radio=e=>(e.textContent="",e),Xe.checkbox=(e,t)=>{const n=J(S(),"checkbox");n.value="1",n.checked=Boolean(t.inputValue);const r=e.querySelector("span");return K(r,t.inputPlaceholder||t.inputLabel),n},Xe.textarea=(e,t)=>{Ye(e,t.inputValue),We(e,t),Ge(e,e,t);const n=e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(S()).width);new MutationObserver(()=>{if(!document.body.contains(e))return;const s=e.offsetWidth+n(e);s>r?S().style.width=`${s}px`:se(S(),"width",t.width)}).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const Qe=(e,t)=>{const n=P();n&&(le(n),Q(n,t,"htmlContainer"),t.html?(Se(t.html,n),ae(n,"block")):t.text?(n.textContent=t.text,ae(n,"block")):ie(n),Fe(e,t))},Je=(e,t)=>{const n=$();n&&(le(n),ce(n,t.footer,"block"),t.footer&&Se(t.footer,n),Q(n,t,"footer"))},Ze=(e,t)=>{const n=De.innerParams.get(e),r=k();if(r){if(n&&t.icon===n.icon)return st(r,t),void et(r,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(u).indexOf(t.icon))return f(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),void ie(r);ae(r),st(r,t),et(r,t),te(r,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",tt)}else ie(r)}},et=(e,t)=>{for(const[n,r]of Object.entries(u))t.icon!==n&&ne(e,r);te(e,t.icon&&u[t.icon]),at(e,t),tt(),Q(e,t,"icon")},tt=()=>{const e=S();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=t},nt=e=>`\n  ${e.animation?'<div class="swal2-success-circular-line-left"></div>':""}\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div>\n  ${e.animation?'<div class="swal2-success-fix"></div>':""}\n  ${e.animation?'<div class="swal2-success-circular-line-right"></div>':""}\n`,rt='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',st=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,r="";t.iconHtml?r=it(t.iconHtml):"success"===t.icon?(r=nt(t),n=n.replace(/ style=".*?"/g,"")):"error"===t.icon?r=rt:t.icon&&(r=it({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==r.trim()&&K(e,r)},at=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])oe(e,n,"background-color",t.iconColor);oe(e,".swal2-success-ring","border-color",t.iconColor)}},it=e=>`<div class="${d["icon-content"]}">${e}</div>`,lt=(e,t)=>{const n=z();n&&(t.imageUrl?(ae(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),se(n,"width",t.imageWidth),se(n,"height",t.imageHeight),n.className=d.image,Q(n,t,"image")):ie(n))};let ot=!1,ct=0,dt=0,ut=0,mt=0;const ht=e=>{e.addEventListener("mousedown",ft),document.body.addEventListener("mousemove",vt),e.addEventListener("mouseup",gt),e.addEventListener("touchstart",ft),document.body.addEventListener("touchmove",vt),e.addEventListener("touchend",gt)},pt=e=>{e.removeEventListener("mousedown",ft),document.body.removeEventListener("mousemove",vt),e.removeEventListener("mouseup",gt),e.removeEventListener("touchstart",ft),document.body.removeEventListener("touchmove",vt),e.removeEventListener("touchend",gt)},ft=e=>{const t=S();if(e.target===t||k().contains(e.target)){ot=!0;const n=xt(e);ct=n.clientX,dt=n.clientY,ut=parseInt(t.style.insetInlineStart)||0,mt=parseInt(t.style.insetBlockStart)||0,te(t,"swal2-dragging")}},vt=e=>{const t=S();if(ot){let{clientX:n,clientY:r}=xt(e);t.style.insetInlineStart=`${ut+(n-ct)}px`,t.style.insetBlockStart=`${mt+(r-dt)}px`}},gt=()=>{const e=S();ot=!1,ne(e,"swal2-dragging")},xt=e=>{let t=0,n=0;return e.type.startsWith("mouse")?(t=e.clientX,n=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,n=e.touches[0].clientY),{clientX:t,clientY:n}},bt=(e,t)=>{const n=N(),r=S();if(n&&r){if(t.toast){se(n,"width",t.width),r.style.width="100%";const e=I();e&&r.insertBefore(e,k())}else se(r,"width",t.width);se(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),ie(A()),yt(r,t),t.draggable&&!t.toast?(te(r,d.draggable),ht(r)):(ne(r,d.draggable),pt(r))}},yt=(e,t)=>{const n=t.showClass||{};e.className=`${d.popup} ${de(e)?n.popup:""}`,t.toast?(te([document.documentElement,document.body],d["toast-shown"]),te(e,d.toast)):te(e,d.modal),Q(e,t,"popup"),"string"===typeof t.customClass&&te(e,t.customClass),t.icon&&te(e,d[`icon-${t.icon}`])},jt=(e,t)=>{const n=T();if(!n)return;const{progressSteps:r,currentProgressStep:s}=t;r&&0!==r.length&&void 0!==s?(ae(n),n.textContent="",s>=r.length&&p("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((e,a)=>{const i=wt(e);if(n.appendChild(i),a===s&&te(i,d["active-progress-step"]),a!==r.length-1){const e=Nt(t);n.appendChild(e)}})):ie(n)},wt=e=>{const t=document.createElement("li");return te(t,d["progress-step"]),K(t,e),t},Nt=e=>{const t=document.createElement("li");return te(t,d["progress-step-line"]),e.progressStepsDistance&&se(t,"width",e.progressStepsDistance),t},Ct=(e,t)=>{const n=O();n&&(le(n),ce(n,t.title||t.titleText,"block"),t.title&&Se(t.title,n),t.titleText&&(n.innerText=t.titleText),Q(n,t,"title"))},Et=(e,t)=>{bt(e,t),Le(e,t),jt(e,t),Ze(e,t),lt(e,t),Ct(e,t),Re(e,t),Qe(e,t),Oe(e,t),Je(e,t);const n=S();"function"===typeof t.didRender&&n&&t.didRender(n),i.eventEmitter.emit("didRender",n)},St=()=>de(S()),kt=()=>{var e;return null===(e=R())||void 0===e?void 0:e.click()},_t=()=>{var e;return null===(e=M())||void 0===e?void 0:e.click()},Ot=()=>{var e;return null===(e=L())||void 0===e?void 0:e.click()},Pt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),zt=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Tt=(e,t,n)=>{zt(e),t.toast||(e.keydownHandler=e=>Mt(t,e,n),e.keydownTarget=t.keydownListenerCapture?window:S(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},At=(e,t)=>{var n;const r=V();if(r.length)return-2===(e+=t)&&(e=r.length-1),e===r.length?e=0:-1===e&&(e=r.length-1),void r[e].focus();null===(n=S())||void 0===n||n.focus()},Rt=["ArrowRight","ArrowDown"],Lt=["ArrowLeft","ArrowUp"],Mt=(e,t,n)=>{e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Bt(t,e):"Tab"===t.key?It(t):[...Rt,...Lt].includes(t.key)?Dt(t.key):"Escape"===t.key&&$t(t,e,n)))},Bt=(e,t)=>{if(!b(t.allowEnterKey))return;const n=J(S(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;kt(),e.preventDefault()}},It=e=>{const t=e.target,n=V();let r=-1;for(let s=0;s<n.length;s++)if(t===n[s]){r=s;break}e.shiftKey?At(r,-1):At(r,1),e.stopPropagation(),e.preventDefault()},Dt=e=>{const t=D(),n=R(),r=M(),s=L();if(!t||!n||!r||!s)return;const a=[n,r,s];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const i=Rt.includes(e)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let e=0;e<t.children.length;e++){if(l=l[i],!l)return;if(l instanceof HTMLButtonElement&&de(l))break}l instanceof HTMLButtonElement&&l.focus()}},$t=(e,t,n)=>{e.preventDefault(),b(t.allowEscapeKey)&&n(Pt.esc)};var Ft={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ut=()=>{const e=N();Array.from(document.body.children).forEach(t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},Ht=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Vt="undefined"!==typeof window&&!!window.GestureEvent,qt=()=>{if(Vt&&!Y(document.body,d.iosfix)){const e=document.body.scrollTop;document.body.style.top=-1*e+"px",te(document.body,d.iosfix),Wt()}},Wt=()=>{const e=N();if(!e)return;let t;e.ontouchstart=e=>{t=Gt(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},Gt=e=>{const t=e.target,n=N(),r=P();return!(!n||!r)&&!Kt(e)&&!Yt(e)&&(t===n||!(me(n)||!(t instanceof HTMLElement)||he(t,r)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||me(r)&&r.contains(t)))},Kt=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,Yt=e=>e.touches&&e.touches.length>1,Xt=()=>{if(Y(document.body,d.iosfix)){const e=parseInt(document.body.style.top,10);ne(document.body,d.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Qt=()=>{const e=document.createElement("div");e.className=d["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Jt=null;const Zt=e=>{null===Jt&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(Jt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Jt+Qt()}px`)},en=()=>{null!==Jt&&(document.body.style.paddingRight=`${Jt}px`,Jt=null)};function tn(e,t,n,r){W()?un(e,r):(o(n).then(()=>un(e,r)),zt(i)),Vt?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),q()&&(en(),Xt(),Ht()),nn()}function nn(){ne([document.documentElement,document.body],[d.shown,d["height-auto"],d["no-backdrop"],d["toast-shown"]])}function rn(e){e=on(e);const t=Ft.swalPromiseResolve.get(this),n=sn(this);this.isAwaitingPromise?e.isDismissed||(ln(this),t(e)):n&&t(e)}const sn=e=>{const t=S();if(!t)return!1;const n=De.innerParams.get(e);if(!n||Y(t,n.hideClass.popup))return!1;ne(t,n.showClass.popup),te(t,n.hideClass.popup);const r=N();return ne(r,n.showClass.backdrop),te(r,n.hideClass.backdrop),cn(e,t,n),!0};function an(e){const t=Ft.swalPromiseReject.get(this);ln(this),t&&t(e)}const ln=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,De.innerParams.get(e)||e._destroy())},on=e=>"undefined"===typeof e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),cn=(e,t,n)=>{var r;const s=N(),a=pe(t);"function"===typeof n.willClose&&n.willClose(t),null===(r=i.eventEmitter)||void 0===r||r.emit("willClose",t),a?dn(e,t,s,n.returnFocus,n.didClose):tn(e,s,n.returnFocus,n.didClose)},dn=(e,t,n,r,s)=>{i.swalCloseEventFinishedCallback=tn.bind(null,e,n,r,s);const a=function(e){var n;e.target===t&&(null===(n=i.swalCloseEventFinishedCallback)||void 0===n||n.call(i),delete i.swalCloseEventFinishedCallback,t.removeEventListener("animationend",a),t.removeEventListener("transitionend",a))};t.addEventListener("animationend",a),t.addEventListener("transitionend",a)},un=(e,t)=>{setTimeout(()=>{var n;"function"===typeof t&&t.bind(e.params)(),null===(n=i.eventEmitter)||void 0===n||n.emit("didClose"),e._destroy&&e._destroy()})},mn=e=>{let t=S();if(t||new fs,t=S(),!t)return;const n=I();W()?ie(k()):hn(t,e),ae(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},hn=(e,t)=>{const n=D(),r=I();n&&r&&(!t&&de(R())&&(t=R()),ae(n),t&&(ie(t),r.setAttribute("data-button-to-replace",t.className),n.insertBefore(r,t)),te([e,n],d.loading))},pn=(e,t)=>{"select"===t.input||"radio"===t.input?bn(e,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&(y(t.inputValue)||w(t.inputValue))&&(mn(R()),yn(e,t))},fn=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return vn(n);case"radio":return gn(n);case"file":return xn(n);default:return t.inputAutoTrim?n.value.trim():n.value}},vn=e=>e.checked?1:0,gn=e=>e.checked?e.value:null,xn=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,bn=(e,t)=>{const n=S();if(!n)return;const r=e=>{"select"===t.input?jn(n,Nn(e),t):"radio"===t.input&&wn(n,Nn(e),t)};y(t.inputOptions)||w(t.inputOptions)?(mn(R()),j(t.inputOptions).then(t=>{e.hideLoading(),r(t)})):"object"===typeof t.inputOptions?r(t.inputOptions):f("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof t.inputOptions)},yn=(e,t)=>{const n=e.getInput();n&&(ie(n),j(t.inputValue).then(r=>{n.value="number"===t.input?`${parseFloat(r)||0}`:`${r}`,ae(n),n.focus(),e.hideLoading()}).catch(t=>{f(`Error in inputValue promise: ${t}`),n.value="",ae(n),n.focus(),e.hideLoading()}))};function jn(e,t,n){const r=re(e,d.select);if(!r)return;const s=(e,t,r)=>{const s=document.createElement("option");s.value=r,K(s,t),s.selected=Cn(r,n.inputValue),e.appendChild(s)};t.forEach(e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,r.appendChild(e),n.forEach(t=>s(e,t[1],t[0]))}else s(r,n,t)}),r.focus()}function wn(e,t,n){const r=re(e,d.radio);if(!r)return;t.forEach(e=>{const t=e[0],s=e[1],a=document.createElement("input"),i=document.createElement("label");a.type="radio",a.name=d.radio,a.value=t,Cn(t,n.inputValue)&&(a.checked=!0);const l=document.createElement("span");K(l,s),l.className=d.label,i.appendChild(a),i.appendChild(l),r.appendChild(i)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const Nn=e=>{const t=[];return e instanceof Map?e.forEach((e,n)=>{let r=e;"object"===typeof r&&(r=Nn(r)),t.push([n,r])}):Object.keys(e).forEach(n=>{let r=e[n];"object"===typeof r&&(r=Nn(r)),t.push([n,r])}),t},Cn=(e,t)=>!!t&&t.toString()===e.toString(),En=e=>{const t=De.innerParams.get(e);e.disableButtons(),t.input?_n(e,"confirm"):An(e,!0)},Sn=e=>{const t=De.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?_n(e,"deny"):Pn(e,!1)},kn=(e,t)=>{e.disableButtons(),t(Pt.cancel)},_n=(e,t)=>{const n=De.innerParams.get(e);if(!n.input)return void f(`The "input" parameter is needed to be set when using returnInputValueOn${h(t)}`);const r=e.getInput(),s=fn(e,n);n.inputValidator?On(e,s,t):r&&!r.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||r.validationMessage)):"deny"===t?Pn(e,s):An(e,s)},On=(e,t,n)=>{const r=De.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>j(r.inputValidator(t,r.validationMessage))).then(r=>{e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?Pn(e,t):An(e,t)})},Pn=(e,t)=>{const n=De.innerParams.get(e||void 0);n.showLoaderOnDeny&&mn(M()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>j(n.preDeny(t,n.validationMessage))).then(n=>{!1===n?(e.hideLoading(),ln(e)):e.close({isDenied:!0,value:"undefined"===typeof n?t:n})}).catch(t=>Tn(e||void 0,t))):e.close({isDenied:!0,value:t})},zn=(e,t)=>{e.close({isConfirmed:!0,value:t})},Tn=(e,t)=>{e.rejectPromise(t)},An=(e,t)=>{const n=De.innerParams.get(e||void 0);n.showLoaderOnConfirm&&mn(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>j(n.preConfirm(t,n.validationMessage))).then(n=>{de(A())||!1===n?(e.hideLoading(),ln(e)):zn(e,"undefined"===typeof n?t:n)}).catch(t=>Tn(e||void 0,t))):zn(e,t)};function Rn(){const e=De.innerParams.get(this);if(!e)return;const t=De.domCache.get(this);ie(t.loader),W()?e.icon&&ae(k()):Ln(t),ne([t.popup,t.actions],d.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Ln=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ae(t[0],"inline-block"):ue()&&ie(e.actions)};function Mn(){const e=De.innerParams.get(this),t=De.domCache.get(this);return t?J(t.popup,e.input):null}function Bn(e,t,n){const r=De.domCache.get(e);t.forEach(e=>{r[e].disabled=n})}function In(e,t){const n=S();if(n&&e)if("radio"===e.type){const e=n.querySelectorAll(`[name="${d.radio}"]`);for(let n=0;n<e.length;n++)e[n].disabled=t}else e.disabled=t}function Dn(){Bn(this,["confirmButton","denyButton","cancelButton"],!1)}function $n(){Bn(this,["confirmButton","denyButton","cancelButton"],!0)}function Fn(){In(this.getInput(),!1)}function Un(){In(this.getInput(),!0)}function Hn(e){const t=De.domCache.get(this),n=De.innerParams.get(this);K(t.validationMessage,e),t.validationMessage.className=d["validation-message"],n.customClass&&n.customClass.validationMessage&&te(t.validationMessage,n.customClass.validationMessage),ae(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",d["validation-message"]),Z(r),te(r,d.inputerror))}function Vn(){const e=De.domCache.get(this);e.validationMessage&&ie(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ne(t,d.inputerror))}const qn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Wn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Gn={allowEnterKey:void 0},Kn=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Yn=e=>Object.prototype.hasOwnProperty.call(qn,e),Xn=e=>-1!==Wn.indexOf(e),Qn=e=>Gn[e],Jn=e=>{Yn(e)||p(`Unknown parameter "${e}"`)},Zn=e=>{Kn.includes(e)&&p(`The parameter "${e}" is incompatible with toasts`)},er=e=>{const t=Qn(e);t&&x(e,t)},tr=e=>{!1===e.backdrop&&e.allowOutsideClick&&p('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&p(`Invalid theme "${e.theme}"`);for(const t in e)Jn(t),e.toast&&Zn(t),er(t)};function nr(e){const t=N(),n=S(),r=De.innerParams.get(this);if(!n||Y(n,r.hideClass.popup))return void p("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const s=rr(e),a=Object.assign({},r,s);tr(a),t.dataset.swal2Theme=a.theme,Et(this,a),De.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const rr=e=>{const t={};return Object.keys(e).forEach(n=>{Xn(n)?t[n]=e[n]:p(`Invalid parameter to update: ${n}`)}),t};function sr(){const e=De.domCache.get(this),t=De.innerParams.get(this);t?(e.popup&&i.swalCloseEventFinishedCallback&&(i.swalCloseEventFinishedCallback(),delete i.swalCloseEventFinishedCallback),"function"===typeof t.didDestroy&&t.didDestroy(),i.eventEmitter.emit("didDestroy"),ar(this)):ir(this)}const ar=e=>{ir(e),delete e.params,delete i.keydownHandler,delete i.keydownTarget,delete i.currentInstance},ir=e=>{e.isAwaitingPromise?(lr(De,e),e.isAwaitingPromise=!0):(lr(Ft,e),lr(De,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},lr=(e,t)=>{for(const n in e)e[n].delete(t)};var or=Object.freeze({__proto__:null,_destroy:sr,close:rn,closeModal:rn,closePopup:rn,closeToast:rn,disableButtons:$n,disableInput:Un,disableLoading:Rn,enableButtons:Dn,enableInput:Fn,getInput:Mn,handleAwaitingPromise:ln,hideLoading:Rn,rejectPromise:an,resetValidationMessage:Vn,showValidationMessage:Hn,update:nr});const cr=(e,t,n)=>{e.toast?dr(e,t,n):(hr(t),pr(t),fr(e,t,n))},dr=(e,t,n)=>{t.popup.onclick=()=>{e&&(ur(e)||e.timer||e.input)||n(Pt.close)}},ur=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let mr=!1;const hr=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(mr=!0)}}},pr=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(mr=!0)}}},fr=(e,t,n)=>{t.container.onclick=r=>{mr?mr=!1:r.target===t.container&&b(e.allowOutsideClick)&&n(Pt.backdrop)}},vr=e=>"object"===typeof e&&e.jquery,gr=e=>e instanceof Element||vr(e),xr=e=>{const t={};return"object"!==typeof e[0]||gr(e[0])?["title","html","icon"].forEach((n,r)=>{const s=e[r];"string"===typeof s||gr(s)?t[n]=s:void 0!==s&&f(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}):Object.assign(t,e[0]),t};function br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this(...t)}function yr(e){class t extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}return t}const jr=()=>i.timeout&&i.timeout.getTimerLeft(),wr=()=>{if(i.timeout)return ve(),i.timeout.stop()},Nr=()=>{if(i.timeout){const e=i.timeout.start();return fe(e),e}},Cr=()=>{const e=i.timeout;return e&&(e.running?wr():Nr())},Er=e=>{if(i.timeout){const t=i.timeout.increase(e);return fe(t,!0),t}},Sr=()=>!(!i.timeout||!i.timeout.isRunning());let kr=!1;const _r={};function Or(){_r[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,kr||(document.body.addEventListener("click",Pr),kr=!0)}const Pr=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in _r){const n=t.getAttribute(e);if(n)return void _r[e].fire({template:n})}};class zr{constructor(){this.events={}}_getHandlersByEventName(e){return"undefined"===typeof this.events[e]&&(this.events[e]=[]),this.events[e]}on(e,t){const n=this._getHandlersByEventName(e);n.includes(t)||n.push(t)}once(e,t){var n=this;const r=function(){n.removeListener(e,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];t.apply(n,a)};this.on(e,r)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._getHandlersByEventName(e).forEach(e=>{try{e.apply(this,n)}catch(f){console.error(f)}})}removeListener(e,t){const n=this._getHandlersByEventName(e),r=n.indexOf(t);r>-1&&n.splice(r,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}}i.eventEmitter=new zr;const Tr=(e,t)=>{i.eventEmitter.on(e,t)},Ar=(e,t)=>{i.eventEmitter.once(e,t)},Rr=(e,t)=>{e?t?i.eventEmitter.removeListener(e,t):i.eventEmitter.removeAllListeners(e):i.eventEmitter.reset()};var Lr=Object.freeze({__proto__:null,argsToParams:xr,bindClickHandler:Or,clickCancel:Ot,clickConfirm:kt,clickDeny:_t,enableLoading:mn,fire:br,getActions:D,getCancelButton:L,getCloseButton:U,getConfirmButton:R,getContainer:N,getDenyButton:M,getFocusableElements:V,getFooter:$,getHtmlContainer:P,getIcon:k,getIconContent:_,getImage:z,getInputLabel:B,getLoader:I,getPopup:S,getProgressSteps:T,getTimerLeft:jr,getTimerProgressBar:F,getTitle:O,getValidationMessage:A,increaseTimer:Er,isDeprecatedParameter:Qn,isLoading:G,isTimerRunning:Sr,isUpdatableParameter:Xn,isValidParameter:Yn,isVisible:St,mixin:yr,off:Rr,on:Tr,once:Ar,resumeTimer:Nr,showLoading:mn,stopTimer:wr,toggleTimer:Cr});class Mr{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Br=["swal-title","swal-html","swal-footer"],Ir=e=>{const t="string"===typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Wr(n),Object.assign(Dr(n),$r(n),Fr(n),Ur(n),Hr(n),Vr(n),qr(n,Br))},Dr=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(e=>{Gr(e,["name","value"]);const n=e.getAttribute("name"),r=e.getAttribute("value");n&&r&&("boolean"===typeof qn[n]?t[n]="false"!==r:"object"===typeof qn[n]?t[n]=JSON.parse(r):t[n]=r)}),t},$r=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(e=>{const n=e.getAttribute("name"),r=e.getAttribute("value");n&&r&&(t[n]=new Function(`return ${r}`)())}),t},Fr=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(e=>{Gr(e,["type","color","aria-label"]);const n=e.getAttribute("type");n&&["confirm","cancel","deny"].includes(n)&&(t[`${n}ButtonText`]=e.innerHTML,t[`show${h(n)}Button`]=!0,e.hasAttribute("color")&&(t[`${n}ButtonColor`]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t[`${n}ButtonAriaLabel`]=e.getAttribute("aria-label")))}),t},Ur=e=>{const t={},n=e.querySelector("swal-image");return n&&(Gr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},Hr=e=>{const t={},n=e.querySelector("swal-icon");return n&&(Gr(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Vr=e=>{const t={},n=e.querySelector("swal-input");n&&(Gr(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach(e=>{Gr(e,["value"]);const n=e.getAttribute("value");if(!n)return;const r=e.innerHTML;t.inputOptions[n]=r})),t},qr=(e,t)=>{const n={};for(const r in t){const s=t[r],a=e.querySelector(s);a&&(Gr(a,[]),n[s.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},Wr=e=>{const t=Br.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(e=>{const n=e.tagName.toLowerCase();t.includes(n)||p(`Unrecognized element <${n}>`)})},Gr=(e,t)=>{Array.from(e.attributes).forEach(n=>{-1===t.indexOf(n.name)&&p([`Unrecognized attribute "${n.name}" on <${e.tagName.toLowerCase()}>.`,t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."])})},Kr=10,Yr=e=>{const t=N(),n=S();"function"===typeof e.willOpen&&e.willOpen(n),i.eventEmitter.emit("willOpen",n);const r=window.getComputedStyle(document.body).overflowY;Zr(t,n,e),setTimeout(()=>{Qr(t,n)},Kr),q()&&(Jr(t,e.scrollbarPadding,r),Ut()),W()||i.previousActiveElement||(i.previousActiveElement=document.activeElement),"function"===typeof e.didOpen&&setTimeout(()=>e.didOpen(n)),i.eventEmitter.emit("didOpen",n),ne(t,d["no-transition"])},Xr=e=>{const t=S();if(e.target!==t)return;const n=N();t.removeEventListener("animationend",Xr),t.removeEventListener("transitionend",Xr),n.style.overflowY="auto"},Qr=(e,t)=>{pe(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",Xr),t.addEventListener("transitionend",Xr)):e.style.overflowY="auto"},Jr=(e,t,n)=>{qt(),t&&"hidden"!==n&&Zt(n),setTimeout(()=>{e.scrollTop=0})},Zr=(e,t,n)=>{te(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),ae(t,"grid"),setTimeout(()=>{te(t,n.showClass.popup),t.style.removeProperty("opacity")},Kr)):ae(t,"grid"),te([document.documentElement,document.body],d.shown),n.heightAuto&&n.backdrop&&!n.toast&&te([document.documentElement,document.body],d["height-auto"])};var es={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function ts(e){e.inputValidator||("email"===e.input&&(e.inputValidator=es.email),"url"===e.input&&(e.inputValidator=es.url))}function ns(e){(!e.target||"string"===typeof e.target&&!document.querySelector(e.target)||"string"!==typeof e.target&&!e.target.appendChild)&&(p('Target parameter is not valid, defaulting to "body"'),e.target="body")}function rs(e){ts(e),e.showLoaderOnConfirm&&!e.preConfirm&&p("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),ns(e),"string"===typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Ee(e)}let ss;var as=new WeakMap;class is{constructor(){if(r(this,as,void 0),"undefined"===typeof window)return;ss=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const a=Object.freeze(this.constructor.argsToParams(t));this.params=a,this.isAwaitingPromise=!1,s(as,this,this._main(ss.params))}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(tr(Object.assign({},t,e)),i.currentInstance){const e=Ft.swalPromiseResolve.get(i.currentInstance),{isAwaitingPromise:t}=i.currentInstance;i.currentInstance._destroy(),t||e({isDismissed:!0}),q()&&Ht()}i.currentInstance=ss;const n=os(e,t);rs(n),Object.freeze(n),i.timeout&&(i.timeout.stop(),delete i.timeout),clearTimeout(i.restoreFocusTimeout);const r=cs(ss);return Et(ss,n),De.innerParams.set(ss,n),ls(ss,r,n)}then(e){return n(as,this).then(e)}finally(e){return n(as,this).finally(e)}}const ls=(e,t,n)=>new Promise((r,s)=>{const a=t=>{e.close({isDismissed:!0,dismiss:t})};Ft.swalPromiseResolve.set(e,r),Ft.swalPromiseReject.set(e,s),t.confirmButton.onclick=()=>{En(e)},t.denyButton.onclick=()=>{Sn(e)},t.cancelButton.onclick=()=>{kn(e,a)},t.closeButton.onclick=()=>{a(Pt.close)},cr(n,t,a),Tt(i,n,a),pn(e,n),Yr(n),ds(i,n,a),us(t,n),setTimeout(()=>{t.container.scrollTop=0})}),os=(e,t)=>{const n=Ir(e),r=Object.assign({},qn,t,n,e);return r.showClass=Object.assign({},qn.showClass,r.showClass),r.hideClass=Object.assign({},qn.hideClass,r.hideClass),!1===r.animation&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},cs=e=>{const t={popup:S(),container:N(),actions:D(),confirmButton:R(),denyButton:M(),cancelButton:L(),loader:I(),closeButton:U(),validationMessage:A(),progressSteps:T()};return De.domCache.set(e,t),t},ds=(e,t,n)=>{const r=F();ie(r),t.timer&&(e.timeout=new Mr(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(ae(r),Q(r,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&fe(t.timer)})))},us=(e,t)=>{if(!t.toast)return b(t.allowEnterKey)?void(ms(e)||hs(e,t)||At(-1,1)):(x("allowEnterKey"),void ps())},ms=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&de(n))return n.focus(),!0;return!1},hs=(e,t)=>t.focusDeny&&de(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&de(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!de(e.confirmButton))&&(e.confirmButton.focus(),!0),ps=()=>{document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!==typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout(()=>{e.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}is.prototype.disableButtons=$n,is.prototype.enableButtons=Dn,is.prototype.getInput=Mn,is.prototype.disableInput=Un,is.prototype.enableInput=Fn,is.prototype.hideLoading=Rn,is.prototype.disableLoading=Rn,is.prototype.showValidationMessage=Hn,is.prototype.resetValidationMessage=Vn,is.prototype.close=rn,is.prototype.closePopup=rn,is.prototype.closeModal=rn,is.prototype.closeToast=rn,is.prototype.rejectPromise=an,is.prototype.update=nr,is.prototype._destroy=sr,Object.assign(is,Lr),Object.keys(or).forEach(e=>{is[e]=function(){return ss&&ss[e]?ss[e](...arguments):null}}),is.DismissReason=Pt,is.version="11.22.2";const fs=is;return fs.default=fs,fs}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},153:(e,t,n)=>{"use strict";var r=n(43),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!o.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:d,props:a,_owner:l.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=g.prototype;var y=b.prototype=new x;y.constructor=b,f(y,g.prototype),y.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var s,a={},i=null,l=null;if(null!=t)for(s in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,s)&&!C.hasOwnProperty(s)&&(a[s]=t[s]);var o=arguments.length-2;if(1===o)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps)void 0===a[s]&&(a[s]=o[s]);return{$$typeof:n,type:e,key:i,ref:l,props:a,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,s,a,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case r:o=!0}}if(o)return i=i(o=e),e=""===a?"."+_(o,0):a,j(i)?(s="",null!=e&&(s=e.replace(k,"$&/")+"/"),O(i,t,s,"",function(e){return e})):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(k,"$&/")+"/")+e)),t.push(i)),1;if(o=0,a=""===a?".":a+":",j(e))for(var c=0;c<e.length;c++){var d=a+_(l=e[c],c);o+=O(l,t,s,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)o+=O(l=l.value,t,s,d=a+_(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function P(e,t,n){if(null==e)return e;var r=[],s=0;return O(e,r,"","",function(e){return t.call(n,e,s++)}),r}function z(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},A={transition:null},R={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:A,ReactCurrentOwner:N};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),a=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)w.call(t,c)&&!C.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}return{$$typeof:n,type:e.type,key:a,ref:i,props:s,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:z}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var l=2*(r+1)-1,o=e[l],c=l+1,d=e[c];if(0>a(o,n))c<s&&0>a(d,o)?(e[r]=d,e[c]=n,r=c):(e[r]=o,e[l]=n,r=l);else{if(!(c<s&&0>a(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,h=3,p=!1,f=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(v=!1,y(e),!f)if(null!==r(c))f=!0,A(w);else{var t=r(d);null!==t&&R(j,t.startTime-e)}}function w(e,n){f=!1,v&&(v=!1,x(S),S=-1),p=!0;var a=h;try{for(y(n),m=r(c);null!==m&&(!(m.expirationTime>n)||e&&!O());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var l=i(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?m.callback=l:m===r(c)&&s(c),y(n)}else s(c);m=r(c)}if(null!==m)var o=!0;else{var u=r(d);null!==u&&R(j,u.startTime-n),o=!1}return o}finally{m=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,C=!1,E=null,S=-1,k=5,_=-1;function O(){return!(t.unstable_now()-_<k)}function P(){if(null!==E){var e=t.unstable_now();_=e;var n=!0;try{n=E(!0,e)}finally{n?N():(C=!1,E=null)}}else C=!1}if("function"===typeof b)N=function(){b(P)};else if("undefined"!==typeof MessageChannel){var z=new MessageChannel,T=z.port2;z.port1.onmessage=P,N=function(){T.postMessage(null)}}else N=function(){g(P,0)};function A(e){E=e,C||(C=!0,N())}function R(e,n){S=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,A(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>i?(e.sortIndex=a,n(d,e),null===r(c)&&e===r(d)&&(v?(x(S),S=-1):v=!0,R(j,a-i))):(e.sortIndex=l,n(c,e),f||p||(f=!0,A(w))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},440:e=>{"use strict";var t=function(){};e.exports=t},497:(e,t,n)=>{"use strict";var r=n(218);function s(){}function a(){}a.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,a,i){if(i!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:s};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),s=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function f(e,t,n,r,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=v.hasOwnProperty(t)?v[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!u.call(p,e)||!u.call(h,e)&&(m.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,x);v[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,x);v[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,x);v[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,B=Object.assign;function I(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var D=!1;function $(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),a=r.stack.split("\n"),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(1!==i||1!==l)do{if(i--,0>--l||s[i]!==a[l]){var o="\n"+s[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=i&&0<=l);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?I(e):""}function F(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case E:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case z:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ae(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,Ce=null;function Ee(e){if(e=bs(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=js(t),we(e.stateNode,e.type,t))}}function Se(e){Ne?Ce?Ce.push(e):Ce=[e]:Ne=e}function ke(){if(Ne){var e=Ne,t=Ce;if(Ce=Ne=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function _e(e,t){return e(t)}function Oe(){}var Pe=!1;function ze(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return _e(e,t,n)}finally{Pe=!1,(null!==Ne||null!==Ce)&&(Oe(),ke())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=js(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Ae=!1}function Le(e,t,n,r,s,a,i,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Me=!1,Be=null,Ie=!1,De=null,$e={onError:function(e){Me=!0,Be=e}};function Fe(e,t,n,r,s,a,i,l,o){Me=!1,Be=null,Le.apply($e,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ve(s),e;if(i===r)return Ve(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=s.unstable_scheduleCallback,Ke=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,Xe=s.unstable_requestPaint,Qe=s.unstable_now,Je=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~s;0!==l?r=ut(l):0!==(a&=i)&&(r=ut(a))}else 0!==(i=n&~s)?r=ut(i):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-it(t)),r|=e[n],t&=~s;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,Ct,Et,St=!1,kt=[],_t=null,Ot=null,Pt=null,zt=new Map,Tt=new Map,At=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":zt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Mt(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Bt(e){var t=xs(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Dt(e,t,n){It(e)&&n.delete(t)}function $t(){St=!1,null!==_t&&It(_t)&&(_t=null),null!==Ot&&It(Ot)&&(Ot=null),null!==Pt&&It(Pt)&&(Pt=null),zt.forEach(Dt),Tt.forEach(Dt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$t)))}function Ut(e){function t(t){return Ft(t,e)}if(0<kt.length){Ft(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Ft(_t,e),null!==Ot&&Ft(Ot,e),null!==Pt&&Ft(Pt,e),zt.forEach(t),Tt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Bt(n),null===n.blockedOn&&At.shift()}var Ht=y.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,n,r){var s=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=s,Ht.transition=a}}function Wt(e,t,n,r){var s=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=s,Ht.transition=a}}function Gt(e,t,n,r){if(Vt){var s=Yt(e,t,n,r);if(null===s)Vr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return _t=Mt(_t,e,t,n,r,s),!0;case"dragenter":return Ot=Mt(Ot,e,t,n,r,s),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return zt.set(a,Mt(zt.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Tt.set(a,Mt(Tt.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==s;){var a=bs(s);if(null!==a&&jt(a),null===(a=Yt(e,t,n,r))&&Vr(e,t,r,Kt,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=xs(e=je(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,s="value"in Qt?Qt.value:Qt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[a-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(cn),un=B({},cn,{view:0,detail:0}),mn=sn(un),hn=B({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(an=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=an=0,on=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),pn=sn(hn),fn=sn(B({},hn,{dataTransfer:0})),vn=sn(B({},un,{relatedTarget:0})),gn=sn(B({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=B({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(xn),yn=sn(B({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function En(){return Cn}var Sn=B({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=sn(Sn),_n=sn(B({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(B({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=sn(B({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=B({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=sn(zn),An=[9,13,27,32],Rn=d&&"CompositionEvent"in window,Ln=null;d&&"documentMode"in document&&(Ln=document.documentMode);var Mn=d&&"TextEvent"in window&&!Ln,Bn=d&&(!Rn||Ln&&8<Ln&&11>=Ln),In=String.fromCharCode(32),Dn=!1;function $n(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Kn(e){Ir(e,0)}function Yn(e){if(G(ys(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(d){var Jn;if(d){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];qn(t,Gn,e,je(e)),ze(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function ir(e,t){if("input"===e||"change"===e)return Yn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!u.call(t,s)||!lr(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=dr(n,a);var i=dr(n,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,xr=null,br=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==K(r)||("selectionStart"in(r=vr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&or(xr,r)||(xr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},Nr={},Cr={};function Er(e){if(Nr[e])return Nr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Nr[e]=n[t];return e}d&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Sr=Er("animationend"),kr=Er("animationiteration"),_r=Er("animationstart"),Or=Er("transitionend"),Pr=new Map,zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Pr.set(e,t),o(t,[e])}for(var Ar=0;Ar<zr.length;Ar++){var Rr=zr[Ar];Tr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Tr(Sr,"onAnimationEnd"),Tr(kr,"onAnimationIteration"),Tr(_r,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,i,l,o,c){if(Fe.apply(this,arguments),Me){if(!Me)throw Error(a(198));var d=Be;Me=!1,Be=null,Ie||(Ie=!0,De=d)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==a&&s.isPropagationStopped())break e;Br(s,l,c),a=o}else for(i=0;i<r.length;i++){if(o=(l=r[i]).instance,c=l.currentTarget,l=l.listener,o!==a&&s.isPropagationStopped())break e;Br(s,l,c),a=o}}}if(Ie)throw e=De,Ie=!1,De=null,e}function Dr(e,t){var n=t[fs];void 0===n&&(n=t[fs]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Fr]){e[Fr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||$r(t,!1,e),$r(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,$r("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var s=qt;break;case 4:s=Wt;break;default:s=Gt}n=s.bind(null,t,n,e),s=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===s||8===l.nodeType&&l.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===s||8===o.nodeType&&o.parentNode===s))return;i=i.return}for(;null!==l;){if(null===(i=xs(l)))return;if(5===(o=i.tag)||6===o){r=a=i;continue e}l=l.parentNode}}r=r.return}ze(function(){var r=a,s=je(n),i=[];e:{var l=Pr.get(e);if(void 0!==l){var o=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=kn;break;case"focusin":c="focus",o=vn;break;case"focusout":c="blur",o=vn;break;case"beforeblur":case"afterblur":o=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=On;break;case Sr:case kr:case _r:o=gn;break;case Or:o=Pn;break;case"scroll":o=mn;break;case"wheel":o=Tn;break;case"copy":case"cut":case"paste":o=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=_n}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==l?l+"Capture":null:l;d=[];for(var h,p=r;null!==p;){var f=(h=p).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==m&&(null!=(f=Te(p,m))&&d.push(qr(p,f,h)))),u)break;p=p.return}0<d.length&&(l=new o(l,c,null,n,s),i.push({event:l,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!xs(c)&&!c[ps])&&(o||l)&&(l=s.window===s?s:(l=s.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=r,null!==(c=(c=n.relatedTarget||n.toElement)?xs(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=r),o!==c)){if(d=pn,f="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=_n,f="onPointerLeave",m="onPointerEnter",p="pointer"),u=null==o?l:ys(o),h=null==c?l:ys(c),(l=new d(f,p+"leave",o,n,s)).target=u,l.relatedTarget=h,f=null,xs(s)===r&&((d=new d(m,p+"enter",c,n,s)).target=h,d.relatedTarget=u,f=d),u=f,o&&c)e:{for(m=c,p=0,h=d=o;h;h=Gr(h))p++;for(h=0,f=m;f;f=Gr(f))h++;for(;0<p-h;)d=Gr(d),p--;for(;0<h-p;)m=Gr(m),h--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Gr(d),m=Gr(m)}d=null}else d=null;null!==o&&Kr(i,l,o,d,!1),null!==c&&null!==u&&Kr(i,u,c,d,!0)}if("select"===(o=(l=r?ys(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var v=Xn;else if(Vn(l))if(Qn)v=ir;else{v=sr;var g=rr}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(v=ar);switch(v&&(v=v(e,r))?qn(i,v,n,s):(g&&g(e,l,r),"focusout"===e&&(g=l._wrapperState)&&g.controlled&&"number"===l.type&&ee(l,"number",l.value)),g=r?ys(r):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,xr=null);break;case"focusout":xr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,yr(i,n,s);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":yr(i,n,s)}var x;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?$n(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(x=en()):(Jt="value"in(Qt=s)?Qt.value:Qt.textContent,Un=!0)),0<(g=Wr(r,b)).length&&(b=new yn(b,e,null,n,s),i.push({event:b,listeners:g}),x?b.data=x:null!==(x=Fn(n))&&(b.data=x))),(x=Mn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Dn=!0,In);case"textInput":return(e=t.data)===In&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Rn&&$n(e,t)?(e=en(),Zt=Jt=Qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(s=new yn("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=x))}Ir(i,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Te(e,n))&&r.unshift(qr(e,a,s)),null!=(a=Te(e,t))&&r.push(qr(e,a,s))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,s){for(var a=t._reactName,i=[];null!==n&&n!==r;){var l=n,o=l.alternate,c=l.stateNode;if(null!==o&&o===r)break;5===l.tag&&null!==c&&(l=c,s?null!=(o=Te(n,a))&&i.unshift(qr(n,o,l)):s||null!=(o=Te(n,a))&&i.push(qr(n,o,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,is="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(ls)}:rs;function ls(e){setTimeout(function(){throw e})}function os(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Ut(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),ms="__reactFiber$"+us,hs="__reactProps$"+us,ps="__reactContainer$"+us,fs="__reactEvents$"+us,vs="__reactListeners$"+us,gs="__reactHandles$"+us;function xs(e){var t=e[ms];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[ms]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[ms])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[ms]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ys(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function js(e){return e[hs]||null}var ws=[],Ns=-1;function Cs(e){return{current:e}}function Es(e){0>Ns||(e.current=ws[Ns],ws[Ns]=null,Ns--)}function Ss(e,t){Ns++,ws[Ns]=e.current,e.current=t}var ks={},_s=Cs(ks),Os=Cs(!1),Ps=ks;function zs(e,t){var n=e.type.contextTypes;if(!n)return ks;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ts(e){return null!==(e=e.childContextTypes)&&void 0!==e}function As(){Es(Os),Es(_s)}function Rs(e,t,n){if(_s.current!==ks)throw Error(a(168));Ss(_s,t),Ss(Os,n)}function Ls(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(a(108,H(e)||"Unknown",s));return B({},n,r)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ks,Ps=_s.current,Ss(_s,e),Ss(Os,Os.current),!0}function Bs(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ls(e,t,Ps),r.__reactInternalMemoizedMergedChildContext=e,Es(Os),Es(_s),Ss(_s,e)):Es(Os),Ss(Os,n)}var Is=null,Ds=!1,$s=!1;function Fs(e){null===Is?Is=[e]:Is.push(e)}function Us(){if(!$s&&null!==Is){$s=!0;var e=0,t=bt;try{var n=Is;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Is=null,Ds=!1}catch(s){throw null!==Is&&(Is=Is.slice(e+1)),Ge(Ze,Us),s}finally{bt=t,$s=!1}}return null}var Hs=[],Vs=0,qs=null,Ws=0,Gs=[],Ks=0,Ys=null,Xs=1,Qs="";function Js(e,t){Hs[Vs++]=Ws,Hs[Vs++]=qs,qs=e,Ws=t}function Zs(e,t,n){Gs[Ks++]=Xs,Gs[Ks++]=Qs,Gs[Ks++]=Ys,Ys=e;var r=Xs;e=Qs;var s=32-it(r)-1;r&=~(1<<s),n+=1;var a=32-it(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Xs=1<<32-it(t)+s|n<<s|r,Qs=a+e}else Xs=1<<a|n<<s|r,Qs=e}function ea(e){null!==e.return&&(Js(e,1),Zs(e,1,0))}function ta(e){for(;e===qs;)qs=Hs[--Vs],Hs[Vs]=null,Ws=Hs[--Vs],Hs[Vs]=null;for(;e===Ys;)Ys=Gs[--Ks],Gs[Ks]=null,Qs=Gs[--Ks],Gs[Ks]=null,Xs=Gs[--Ks],Gs[Ks]=null}var na=null,ra=null,sa=!1,aa=null;function ia(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function la(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ys?{id:Xs,overflow:Qs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(sa){var t=ra;if(t){var n=t;if(!la(e,t)){if(oa(e))throw Error(a(418));t=cs(n.nextSibling);var r=na;t&&la(e,t)?ia(r,n):(e.flags=-4097&e.flags|2,sa=!1,na=e)}}else{if(oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,na=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ua(e){if(e!==na)return!1;if(!sa)return da(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ra)){if(oa(e))throw ma(),Error(a(418));for(;t;)ia(e,t),t=cs(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?cs(e.stateNode.nextSibling):null;return!0}function ma(){for(var e=ra;e;)e=cs(e.nextSibling)}function ha(){ra=na=null,sa=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var fa=y.ReactCurrentBatchConfig;function va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xa(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&xa(a)===t.type)?((r=s(t,n.props)).ref=va(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=va(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=va(e,null,t),n.return=e,n;case w:return(t=Ic(t,e.mode,n)).return=e,t;case T:return m(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;ga(e,t)}return null}function h(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:o(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===s?c(e,t,n,r):null;case w:return n.key===s?d(e,t,n,r):null;case T:return h(e,t,(s=n._init)(n._payload),r)}if(te(n)||L(n))return null!==s?null:u(e,t,n,r,null);ga(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return o(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case w:return d(t,e=e.get(null===r.key?n:r.key)||null,r,s);case T:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||L(r))return u(t,e=e.get(n)||null,r,s,null);ga(t,r)}return null}function f(s,a,l,o){for(var c=null,d=null,u=a,f=a=0,v=null;null!==u&&f<l.length;f++){u.index>f?(v=u,u=null):v=u.sibling;var g=h(s,u,l[f],o);if(null===g){null===u&&(u=v);break}e&&u&&null===g.alternate&&t(s,u),a=i(g,a,f),null===d?c=g:d.sibling=g,d=g,u=v}if(f===l.length)return n(s,u),sa&&Js(s,f),c;if(null===u){for(;f<l.length;f++)null!==(u=m(s,l[f],o))&&(a=i(u,a,f),null===d?c=u:d.sibling=u,d=u);return sa&&Js(s,f),c}for(u=r(s,u);f<l.length;f++)null!==(v=p(u,s,f,l[f],o))&&(e&&null!==v.alternate&&u.delete(null===v.key?f:v.key),a=i(v,a,f),null===d?c=v:d.sibling=v,d=v);return e&&u.forEach(function(e){return t(s,e)}),sa&&Js(s,f),c}function v(s,l,o,c){var d=L(o);if("function"!==typeof d)throw Error(a(150));if(null==(o=d.call(o)))throw Error(a(151));for(var u=d=null,f=l,v=l=0,g=null,x=o.next();null!==f&&!x.done;v++,x=o.next()){f.index>v?(g=f,f=null):g=f.sibling;var b=h(s,f,x.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(s,f),l=i(b,l,v),null===u?d=b:u.sibling=b,u=b,f=g}if(x.done)return n(s,f),sa&&Js(s,v),d;if(null===f){for(;!x.done;v++,x=o.next())null!==(x=m(s,x.value,c))&&(l=i(x,l,v),null===u?d=x:u.sibling=x,u=x);return sa&&Js(s,v),d}for(f=r(s,f);!x.done;v++,x=o.next())null!==(x=p(f,s,v,x.value,c))&&(e&&null!==x.alternate&&f.delete(null===x.key?v:x.key),l=i(x,l,v),null===u?d=x:u.sibling=x,u=x);return e&&f.forEach(function(e){return t(s,e)}),sa&&Js(s,v),d}return function e(r,a,i,o){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){n(r,d.sibling),(a=s(d,i.props.children)).return=r,r=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&xa(c)===d.type){n(r,d.sibling),(a=s(d,i.props)).ref=va(r,d,i),a.return=r,r=a;break e}n(r,d);break}t(r,d),d=d.sibling}i.type===N?((a=Lc(i.props.children,r.mode,o,i.key)).return=r,r=a):((o=Rc(i.type,i.key,i.props,null,r.mode,o)).ref=va(r,a,i),o.return=r,r=o)}return l(r);case w:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(r,a.sibling),(a=s(a,i.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ic(i,r.mode,o)).return=r,r=a}return l(r);case T:return e(r,a,(d=i._init)(i._payload),o)}if(te(i))return f(r,a,i,o);if(L(i))return v(r,a,i,o);ga(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(r,a.sibling),(a=s(a,i)).return=r,r=a):(n(r,a),(a=Bc(i,r.mode,o)).return=r,r=a),l(r)):n(r,a)}}var ya=ba(!0),ja=ba(!1),wa=Cs(null),Na=null,Ca=null,Ea=null;function Sa(){Ea=Ca=Na=null}function ka(e){var t=wa.current;Es(wa),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oa(e,t){Na=e,Ea=Ca=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xl=!0),e.firstContext=null)}function Pa(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},null===Ca){if(null===Na)throw Error(a(308));Ca=e,Na.dependencies={lanes:0,firstContext:e}}else Ca=Ca.next=e;return t}var za=null;function Ta(e){null===za?za=[e]:za.push(e)}function Aa(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ta(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ra(e,r)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ba(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_o)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ra(e,n)}return null===(s=r.interleaved)?(t.next=t,Ta(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ra(e,n)}function $a(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var s=e.updateQueue;La=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?a=c:i.next=c,i=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==a){var u=s.baseState;for(i=0,d=c=o=null,l=a;;){var m=l.lane,h=l.eventTime;if((r&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,f=l;switch(m=t,h=n,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(h,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=f.payload)?p.call(h,u,m):p)||void 0===m)break e;u=B({},u,m);break e;case 2:La=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(m=s.effects)?s.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,i|=m;if(null===(l=l.next)){if(null===(l=s.shared.pending))break;l=(m=l).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}if(null===d&&(o=u),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Mo|=i,e.lanes=i,e.memoizedState=u}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(a(191,s));s.call(r)}}}var Va={},qa=Cs(Va),Wa=Cs(Va),Ga=Cs(Va);function Ka(e){if(e===Va)throw Error(a(174));return e}function Ya(e,t){switch(Ss(Ga,t),Ss(Wa,e),Ss(qa,Va),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Es(qa),Ss(qa,t)}function Xa(){Es(qa),Es(Wa),Es(Ga)}function Qa(e){Ka(Ga.current);var t=Ka(qa.current),n=oe(t,e.type);t!==n&&(Ss(Wa,e),Ss(qa,n))}function Ja(e){Wa.current===e&&(Es(qa),Es(Wa))}var Za=Cs(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=y.ReactCurrentDispatcher,si=y.ReactCurrentBatchConfig,ai=0,ii=null,li=null,oi=null,ci=!1,di=!1,ui=0,mi=0;function hi(){throw Error(a(321))}function pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function fi(e,t,n,r,s,i){if(ai=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Ji:Zi,e=n(r,s),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(a(301));i+=1,oi=li=null,t.updateQueue=null,ri.current=el,e=n(r,s)}while(di)}if(ri.current=Qi,t=null!==li&&null!==li.next,ai=0,oi=li=ii=null,ci=!1,t)throw Error(a(300));return e}function vi(){var e=0!==ui;return ui=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oi?ii.memoizedState=oi=e:oi=oi.next=e,oi}function xi(){if(null===li){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===oi?ii.memoizedState:oi.next;if(null!==t)oi=t,li=e;else{if(null===e)throw Error(a(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===oi?ii.memoizedState=oi=e:oi=oi.next=e}return oi}function bi(e,t){return"function"===typeof t?t(e):t}function yi(e){var t=xi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=li,s=r.baseQueue,i=n.pending;if(null!==i){if(null!==s){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(null!==s){i=s.next,r=r.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((ai&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,l=r):c=c.next=m,ii.lanes|=u,Mo|=u}d=d.next}while(null!==d&&d!==i);null===c?l=r:c.next=o,lr(r,t.memoizedState)||(xl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{i=s.lane,ii.lanes|=i,Mo|=i,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ji(e){var t=xi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var l=s=s.next;do{i=e(i,l.action),l=l.next}while(l!==s);lr(i,t.memoizedState)||(xl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function wi(){}function Ni(e,t){var n=ii,r=xi(),s=t(),i=!lr(r.memoizedState,s);if(i&&(r.memoizedState=s,xl=!0),r=r.queue,Li(Si.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==oi&&1&oi.memoizedState.tag){if(n.flags|=2048,Pi(9,Ei.bind(null,n,r,s,t),void 0,null),null===Oo)throw Error(a(349));0!==(30&ai)||Ci(n,t,s)}return s}function Ci(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ei(e,t,n,r){t.value=n,t.getSnapshot=r,ki(t)&&_i(e)}function Si(e,t,n){return n(function(){ki(t)&&_i(e)})}function ki(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function _i(e){var t=Ra(e,1);null!==t&&nc(t,e,1,-1)}function Oi(e){var t=gi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Gi.bind(null,ii,e),[t.memoizedState,e]}function Pi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zi(){return xi().memoizedState}function Ti(e,t,n,r){var s=gi();ii.flags|=e,s.memoizedState=Pi(1|t,n,void 0,void 0===r?null:r)}function Ai(e,t,n,r){var s=xi();r=void 0===r?null:r;var a=void 0;if(null!==li){var i=li.memoizedState;if(a=i.destroy,null!==r&&pi(r,i.deps))return void(s.memoizedState=Pi(t,n,a,r))}ii.flags|=e,s.memoizedState=Pi(1|t,n,a,r)}function Ri(e,t){return Ti(8390656,8,e,t)}function Li(e,t){return Ai(2048,8,e,t)}function Mi(e,t){return Ai(4,2,e,t)}function Bi(e,t){return Ai(4,4,e,t)}function Ii(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Di(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ai(4,4,Ii.bind(null,t,e),n)}function $i(){}function Fi(e,t){var n=xi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ui(e,t){var n=xi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hi(e,t,n){return 0===(21&ai)?(e.baseState&&(e.baseState=!1,xl=!0),e.memoizedState=n):(lr(n,t)||(n=ft(),ii.lanes|=n,Mo|=n,e.baseState=!0),t)}function Vi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=si.transition;si.transition={};try{e(!1),t()}finally{bt=n,si.transition=r}}function qi(){return xi().memoizedState}function Wi(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ki(e))Yi(t,n);else if(null!==(n=Aa(e,t,n,r))){nc(n,e,r,ec()),Xi(n,t,r)}}function Gi(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))Yi(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,lr(l,i)){var o=t.interleaved;return null===o?(s.next=s,Ta(t)):(s.next=o.next,o.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Aa(e,t,s,r))&&(nc(n,e,r,s=ec()),Xi(n,t,r))}}function Ki(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Yi(e,t){di=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}var Qi={readContext:Pa,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Ji={readContext:Pa,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:Ri,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ti(4194308,4,Ii.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var n=gi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Oi,useDebugValue:$i,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Oi(!1),t=e[0];return e=Vi.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,s=gi();if(sa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Oo)throw Error(a(349));0!==(30&ai)||Ci(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ri(Si.bind(null,r,i,e),[e]),r.flags|=2048,Pi(9,Ei.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=gi(),t=Oo.identifierPrefix;if(sa){var n=Qs;t=":"+t+"R"+(n=(Xs&~(1<<32-it(Xs)-1)).toString(32)+n),0<(n=ui++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Pa,useCallback:Fi,useContext:Pa,useEffect:Li,useImperativeHandle:Di,useInsertionEffect:Mi,useLayoutEffect:Bi,useMemo:Ui,useReducer:yi,useRef:zi,useState:function(){return yi(bi)},useDebugValue:$i,useDeferredValue:function(e){return Hi(xi(),li.memoizedState,e)},useTransition:function(){return[yi(bi)[0],xi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:qi,unstable_isNewReconciler:!1},el={readContext:Pa,useCallback:Fi,useContext:Pa,useEffect:Li,useImperativeHandle:Di,useInsertionEffect:Mi,useLayoutEffect:Bi,useMemo:Ui,useReducer:ji,useRef:zi,useState:function(){return ji(bi)},useDebugValue:$i,useDeferredValue:function(e){var t=xi();return null===li?t.memoizedState=e:Hi(t,li.memoizedState,e)},useTransition:function(){return[ji(bi)[0],xi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:qi,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function nl(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rl={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=Ia(r,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,s))&&(nc(t,e,s,r),$a(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=Ia(r,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,s))&&(nc(t,e,s,r),$a(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=Ia(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Da(e,s,r))&&(nc(t,e,r,n),$a(t,e,r))}};function sl(e,t,n,r,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(s,a))}function al(e,t,n){var r=!1,s=ks,a=t.contextType;return"object"===typeof a&&null!==a?a=Pa(a):(s=Ts(t)?Ps:_s.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?zs(e,s):ks),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rl,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function il(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rl.enqueueReplaceState(t,t.state,null)}function ll(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ma(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Pa(a):(a=Ts(t)?Ps:_s.current,s.context=zs(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(nl(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&rl.enqueueReplaceState(s,s.state,null),Ua(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function cl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ul="function"===typeof WeakMap?WeakMap:Map;function ml(e,t,n){(n=Ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vo||(Vo=!0,qo=r),dl(0,t)},n}function hl(e,t,n){(n=Ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){dl(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!==typeof r&&(null===Wo?Wo=new Set([this]):Wo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ul;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function fl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vl(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ia(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var gl=y.ReactCurrentOwner,xl=!1;function bl(e,t,n,r){t.child=null===e?ja(t,null,n,r):ya(t,e.child,n,r)}function yl(e,t,n,r,s){n=n.render;var a=t.ref;return Oa(t,s),r=fi(e,t,n,r,a,s),n=vi(),null===e||xl?(sa&&n&&ea(t),t.flags|=1,bl(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hl(e,t,s))}function jl(e,t,n,r,s){if(null===e){var a=n.type;return"function"!==typeof a||Tc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wl(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(i,r)&&e.ref===t.ref)return Hl(e,t,s)}return t.flags|=1,(e=Ac(a,r)).ref=t.ref,e.return=t,t.child=e}function wl(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(or(a,r)&&e.ref===t.ref){if(xl=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,Hl(e,t,s);0!==(131072&e.flags)&&(xl=!0)}}return El(e,t,n,r,s)}function Nl(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ss(Ao,To),To|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ss(Ao,To),To|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ss(Ao,To),To|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ss(Ao,To),To|=r;return bl(e,t,s,n),t.child}function Cl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function El(e,t,n,r,s){var a=Ts(n)?Ps:_s.current;return a=zs(t,a),Oa(t,s),n=fi(e,t,n,r,a,s),r=vi(),null===e||xl?(sa&&r&&ea(t),t.flags|=1,bl(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hl(e,t,s))}function Sl(e,t,n,r,s){if(Ts(n)){var a=!0;Ms(t)}else a=!1;if(Oa(t,s),null===t.stateNode)Ul(e,t),al(t,n,r),ll(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var o=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Pa(c):c=zs(t,c=Ts(n)?Ps:_s.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==r||o!==c)&&il(t,i,r,c),La=!1;var m=t.memoizedState;i.state=m,Ua(t,r,i,s),o=t.memoizedState,l!==r||m!==o||Os.current||La?("function"===typeof d&&(nl(t,n,d,r),o=t.memoizedState),(l=La||sl(t,n,l,r,m,o,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),i.props=r,i.state=o,i.context=c,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ba(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(o=n.contextType)&&null!==o?o=Pa(o):o=zs(t,o=Ts(n)?Ps:_s.current);var h=n.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==u||m!==o)&&il(t,i,r,o),La=!1,m=t.memoizedState,i.state=m,Ua(t,r,i,s);var p=t.memoizedState;l!==u||m!==p||Os.current||La?("function"===typeof h&&(nl(t,n,h,r),p=t.memoizedState),(c=La||sl(t,n,c,r,m,p,o)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,o),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,o)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=o,r=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return kl(e,t,n,r,a,s)}function kl(e,t,n,r,s,a){Cl(e,t);var i=0!==(128&t.flags);if(!r&&!i)return s&&Bs(t,n,!1),Hl(e,t,a);r=t.stateNode,gl.current=t;var l=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ya(t,e.child,null,a),t.child=ya(t,null,l,a)):bl(e,t,l,a),t.memoizedState=r.state,s&&Bs(t,n,!0),t.child}function _l(e){var t=e.stateNode;t.pendingContext?Rs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rs(0,t.context,!1),Ya(e,t.containerInfo)}function Ol(e,t,n,r,s){return ha(),pa(s),t.flags|=256,bl(e,t,n,r),t.child}var Pl,zl,Tl,Al,Rl={dehydrated:null,treeContext:null,retryLane:0};function Ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ml(e,t,n){var r,s=t.pendingProps,i=Za.current,l=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ss(Za,1&i),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=s.children,e=s.fallback,l?(s=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&s)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Mc(o,s,0,null),e=Lc(e,s,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ll(n),t.memoizedState=Rl,e):Bl(t,o));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,s,i,l){if(n)return 256&t.flags?(t.flags&=-257,Il(e,t,l,r=cl(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Mc({mode:"visible",children:r.children},s,0,null),(i=Lc(i,s,l,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ya(t,e.child,null,l),t.child.memoizedState=Ll(l),t.memoizedState=Rl,i);if(0===(1&t.mode))return Il(e,t,l,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var o=r.dgst;return r=o,Il(e,t,l,r=cl(i=Error(a(419)),r,void 0))}if(o=0!==(l&e.childLanes),xl||o){if(null!==(r=Oo)){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|l))?0:s)&&s!==i.retryLane&&(i.retryLane=s,Ra(e,s),nc(r,e,s,-1))}return fc(),Il(e,t,l,r=cl(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ra=cs(s.nextSibling),na=t,sa=!0,aa=null,null!==e&&(Gs[Ks++]=Xs,Gs[Ks++]=Qs,Gs[Ks++]=Ys,Xs=e.id,Qs=e.overflow,Ys=t),t=Bl(t,r.children),t.flags|=4096,t)}(e,t,o,s,r,i,n);if(l){l=s.fallback,o=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&o)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ac(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?l=Ac(r,l):(l=Lc(l,o,n,null)).flags|=2,l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,o=null===(o=e.child.memoizedState)?Ll(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Rl,s}return e=(l=e.child).sibling,s=Ac(l,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Bl(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Il(e,t,n,r){return null!==r&&pa(r),ya(t,e.child,null,n),(e=Bl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Dl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function $l(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Fl(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(bl(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Dl(e,n,t);else if(19===e.tag)Dl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ss(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),$l(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ei(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}$l(t,!0,n,null,a);break;case"together":$l(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ul(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vl(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wl(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ql(t),null;case 1:case 17:return Ts(t.type)&&As(),ql(t),null;case 3:return r=t.stateNode,Xa(),Es(Os),Es(_s),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ic(aa),aa=null))),zl(e,t),ql(t),null;case 5:Ja(t);var s=Ka(Ga.current);if(n=t.type,null!==e&&null!=t.stateNode)Tl(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ql(t),null}if(e=Ka(qa.current),ua(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ms]=t,r[hs]=i,e=0!==(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(s=0;s<Lr.length;s++)Dr(Lr[s],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":X(r,i),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Dr("invalid",r);break;case"textarea":se(r,i),Dr("invalid",r)}for(var o in xe(n,i),s=null,i)if(i.hasOwnProperty(o)){var c=i[o];"children"===o?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),s=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Dr("scroll",r)}switch(n){case"input":W(r),Z(r,i,!0);break;case"textarea":W(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ms]=t,e[hs]=r,Pl(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),s=r;break;case"iframe":case"object":case"embed":Dr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Lr.length;s++)Dr(Lr[s],e);s=r;break;case"source":Dr("error",e),s=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),s=r;break;case"details":Dr("toggle",e),s=r;break;case"input":X(e,r),s=Y(e,r),Dr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=B({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Dr("invalid",e)}for(i in xe(n,s),c=s)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?ve(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Dr("scroll",e):null!=d&&b(e,i,d,o))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ql(t),null;case 6:if(e&&null!=t.stateNode)Al(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ka(Ga.current),Ka(qa.current),ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[ms]=t,(i=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ms]=t,t.stateNode=r}return ql(t),null;case 13:if(Es(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ma(),ha(),t.flags|=98560,i=!1;else if(i=ua(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[ms]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ql(t),i=!1}else null!==aa&&(ic(aa),aa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Ro&&(Ro=3):fc())),null!==t.updateQueue&&(t.flags|=4),ql(t),null);case 4:return Xa(),zl(e,t),null===e&&Ur(t.stateNode.containerInfo),ql(t),null;case 10:return ka(t.type._context),ql(t),null;case 19:if(Es(Za),null===(i=t.memoizedState))return ql(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)Vl(i,!1);else{if(0!==Ro||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ei(e))){for(t.flags|=128,Vl(i,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ss(Za,1&Za.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>Uo&&(t.flags|=128,r=!0,Vl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!sa)return ql(t),null}else 2*Qe()-i.renderingStartTime>Uo&&1073741824!==n&&(t.flags|=128,r=!0,Vl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=i.last)?n.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,n=Za.current,Ss(Za,r?1&n|2:1&n),t):(ql(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&To)&&(ql(t),6&t.subtreeFlags&&(t.flags|=8192)):ql(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gl(e,t){switch(ta(t),t.tag){case 1:return Ts(t.type)&&As(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),Es(Os),Es(_s),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(Es(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Es(Za),null;case 4:return Xa(),null;case 10:return ka(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Pl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zl=function(){},Tl=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ka(qa.current);var a,i=null;switch(n){case"input":s=Y(e,s),r=Y(e,r),i=[];break;case"select":s=B({},s,{value:void 0}),r=B({},r,{value:void 0}),i=[];break;case"textarea":s=re(e,s),r=re(e,r),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(d in xe(n,r),n=null,s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var o=s[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(o=null!=s?s[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Dr("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Al=function(e,t,n,r){n!==r&&(t.flags|=4)};var Kl=!1,Yl=!1,Xl="function"===typeof WeakSet?WeakSet:Set,Ql=null;function Jl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function Zl(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var eo=!1;function to(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&Zl(t,n,a)}s=s.next}while(s!==r)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ro(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ms],delete t[hs],delete t[fs],delete t[vs],delete t[gs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ao(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ao(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lo(e,t,n),e=e.sibling;null!==e;)lo(e,t,n),e=e.sibling}function oo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function mo(e,t,n){for(n=n.child;null!==n;)ho(e,t,n),n=n.sibling}function ho(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(l){}switch(n.tag){case 5:Yl||Jl(n,t);case 6:var r=co,s=uo;co=null,mo(e,t,n),uo=s,null!==(co=r)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?os(e.parentNode,n):1===e.nodeType&&os(e,n),Ut(e)):os(co,n.stateNode));break;case 4:r=co,s=uo,co=n.stateNode.containerInfo,uo=!0,mo(e,t,n),co=r,uo=s;break;case 0:case 11:case 14:case 15:if(!Yl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&Zl(n,t,i),s=s.next}while(s!==r)}mo(e,t,n);break;case 1:if(!Yl&&(Jl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Cc(n,t,l)}mo(e,t,n);break;case 21:mo(e,t,n);break;case 22:1&n.mode?(Yl=(r=Yl)||null!==n.memoizedState,mo(e,t,n),Yl=r):mo(e,t,n);break;default:mo(e,t,n)}}function po(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xl),t.forEach(function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fo(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(a(160));ho(i,l,s),co=null,uo=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){Cc(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vo(t,e),t=t.sibling}function vo(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fo(t,e),go(e),4&r){try{to(3,e,e.return),no(3,e)}catch(v){Cc(e,e.return,v)}try{to(5,e,e.return)}catch(v){Cc(e,e.return,v)}}break;case 1:fo(t,e),go(e),512&r&&null!==n&&Jl(n,n.return);break;case 5:if(fo(t,e),go(e),512&r&&null!==n&&Jl(n,n.return),32&e.flags){var s=e.stateNode;try{me(s,"")}catch(v){Cc(e,e.return,v)}}if(4&r&&null!=(s=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===i.type&&null!=i.name&&Q(s,i),be(o,l);var d=be(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];"style"===u?ve(s,m):"dangerouslySetInnerHTML"===u?ue(s,m):"children"===u?me(s,m):b(s,u,m,d)}switch(o){case"input":J(s,i);break;case"textarea":ae(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(s,!!i.multiple,p,!1):h!==!!i.multiple&&(null!=i.defaultValue?ne(s,!!i.multiple,i.defaultValue,!0):ne(s,!!i.multiple,i.multiple?[]:"",!1))}s[hs]=i}catch(v){Cc(e,e.return,v)}}break;case 6:if(fo(t,e),go(e),4&r){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){Cc(e,e.return,v)}}break;case 3:if(fo(t,e),go(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(v){Cc(e,e.return,v)}break;case 4:default:fo(t,e),go(e);break;case 13:fo(t,e),go(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(Fo=Qe())),4&r&&po(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Yl=(d=Yl)||u,fo(t,e),Yl=d):fo(t,e),go(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Ql=e,u=e.child;null!==u;){for(m=Ql=u;null!==Ql;){switch(p=(h=Ql).child,h.tag){case 0:case 11:case 14:case 15:to(4,h,h.return);break;case 1:Jl(h,h.return);var f=h.stateNode;if("function"===typeof f.componentWillUnmount){r=h,n=h.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){Cc(r,n,v)}}break;case 5:Jl(h,h.return);break;case 22:if(null!==h.memoizedState){jo(m);continue}}null!==p?(p.return=h,Ql=p):jo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{s=m.stateNode,d?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=m.stateNode,l=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=fe("display",l))}catch(v){Cc(e,e.return,v)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(v){Cc(e,e.return,v)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:fo(t,e),go(e),4&r&&po(e);case 21:}}function go(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ao(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(me(s,""),r.flags&=-33),oo(e,io(e),s);break;case 3:case 4:var i=r.stateNode.containerInfo;lo(e,io(e),i);break;default:throw Error(a(161))}}catch(l){Cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xo(e,t,n){Ql=e,bo(e,t,n)}function bo(e,t,n){for(var r=0!==(1&e.mode);null!==Ql;){var s=Ql,a=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||Kl;if(!i){var l=s.alternate,o=null!==l&&null!==l.memoizedState||Yl;l=Kl;var c=Yl;if(Kl=i,(Yl=o)&&!c)for(Ql=s;null!==Ql;)o=(i=Ql).child,22===i.tag&&null!==i.memoizedState?wo(s):null!==o?(o.return=i,Ql=o):wo(s);for(;null!==a;)Ql=a,bo(a,t,n),a=a.sibling;Ql=s,Kl=l,Yl=c}yo(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Ql=a):yo(e)}}function yo(e){for(;null!==Ql;){var t=Ql;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yl||no(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yl)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:tl(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ha(t,i,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,l,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Ut(m)}}}break;default:throw Error(a(163))}Yl||512&t.flags&&ro(t)}catch(h){Cc(t,t.return,h)}}if(t===e){Ql=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ql=n;break}Ql=t.return}}function jo(e){for(;null!==Ql;){var t=Ql;if(t===e){Ql=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ql=n;break}Ql=t.return}}function wo(e){for(;null!==Ql;){var t=Ql;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){Cc(t,n,o)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(o){Cc(t,s,o)}}var a=t.return;try{ro(t)}catch(o){Cc(t,a,o)}break;case 5:var i=t.return;try{ro(t)}catch(o){Cc(t,i,o)}}}catch(o){Cc(t,t.return,o)}if(t===e){Ql=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Ql=l;break}Ql=t.return}}var No,Co=Math.ceil,Eo=y.ReactCurrentDispatcher,So=y.ReactCurrentOwner,ko=y.ReactCurrentBatchConfig,_o=0,Oo=null,Po=null,zo=0,To=0,Ao=Cs(0),Ro=0,Lo=null,Mo=0,Bo=0,Io=0,Do=null,$o=null,Fo=0,Uo=1/0,Ho=null,Vo=!1,qo=null,Wo=null,Go=!1,Ko=null,Yo=0,Xo=0,Qo=null,Jo=-1,Zo=0;function ec(){return 0!==(6&_o)?Qe():-1!==Jo?Jo:Jo=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_o)&&0!==zo?zo&-zo:null!==fa.transition?(0===Zo&&(Zo=ft()),Zo):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xo)throw Xo=0,Qo=null,Error(a(185));gt(e,n,r),0!==(2&_o)&&e===Oo||(e===Oo&&(0===(2&_o)&&(Bo|=n),4===Ro&&lc(e,zo)),rc(e,r),1===n&&0===_o&&0===(1&t.mode)&&(Uo=Qe()+500,Ds&&Us()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),l=1<<i,o=s[i];-1===o?0!==(l&n)&&0===(l&r)||(s[i]=ht(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var r=mt(e,e===Oo?zo:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ds=!0,Fs(e)}(oc.bind(null,e)):Fs(oc.bind(null,e)),is(function(){0===(6&_o)&&Us()}),n=null;else{switch(yt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Jo=-1,Zo=0,0!==(6&_o))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=mt(e,e===Oo?zo:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var s=_o;_o|=2;var i=pc();for(Oo===e&&zo===t||(Ho=null,Uo=Qe()+500,mc(e,t));;)try{xc();break}catch(o){hc(e,o)}Sa(),Eo.current=i,_o=s,null!==Po?t=0:(Oo=null,zo=0,t=Ro)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=ac(e,s))),1===t)throw n=Lo,mc(e,0),lc(e,r),rc(e,Qe()),n;if(6===t)lc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!lr(a(),s))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=vc(e,r))&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t))throw n=Lo,mc(e,0),lc(e,r),rc(e,Qe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:jc(e,$o,Ho);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Fo+500-Qe())){if(0!==mt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(jc.bind(null,e,$o,Ho),t);break}jc(e,$o,Ho);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-it(r);i=1<<l,(l=t[l])>s&&(s=l),r&=~i}if(r=s,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Co(r/1960))-r)){e.timeoutHandle=rs(jc.bind(null,e,$o,Ho),r);break}jc(e,$o,Ho);break;default:throw Error(a(329))}}}return rc(e,Qe()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Do;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=$o,$o=n,null!==t&&ic(t)),e}function ic(e){null===$o?$o=e:$o.push.apply($o,e)}function lc(e,t){for(t&=~Io,t&=~Bo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&_o))throw Error(a(327));wc();var t=mt(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lo,mc(e,0),lc(e,t),rc(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,$o,Ho),rc(e,Qe()),null}function cc(e,t){var n=_o;_o|=1;try{return e(t)}finally{0===(_o=n)&&(Uo=Qe()+500,Ds&&Us())}}function dc(e){null!==Ko&&0===Ko.tag&&0===(6&_o)&&wc();var t=_o;_o|=1;var n=ko.transition,r=bt;try{if(ko.transition=null,bt=1,e)return e()}finally{bt=r,ko.transition=n,0===(6&(_o=t))&&Us()}}function uc(){To=Ao.current,Es(Ao)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Po)for(n=Po.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&As();break;case 3:Xa(),Es(Os),Es(_s),ni();break;case 5:Ja(r);break;case 4:Xa();break;case 13:case 19:Es(Za);break;case 10:ka(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Oo=e,Po=e=Ac(e.current,null),zo=To=t,Ro=0,Lo=null,Io=Bo=Mo=0,$o=Do=null,null!==za){for(t=0;t<za.length;t++)if(null!==(r=(n=za[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=s,r.next=i}n.pending=r}za=null}return e}function hc(e,t){for(;;){var n=Po;try{if(Sa(),ri.current=Qi,ci){for(var r=ii.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ci=!1}if(ai=0,oi=li=ii=null,di=!1,ui=0,So.current=null,null===n||null===n.return){Ro=1,Lo=t,Po=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=zo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=fl(l);if(null!==p){p.flags&=-257,vl(p,l,o,0,t),1&p.mode&&pl(i,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var v=new Set;v.add(c),t.updateQueue=v}else f.add(c);break e}if(0===(1&t)){pl(i,d,t),fc();break e}c=Error(a(426))}else if(sa&&1&o.mode){var g=fl(l);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),vl(g,l,o,0,t),pa(ol(c,o));break e}}i=c=ol(c,o),4!==Ro&&(Ro=2),null===Do?Do=[i]:Do.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Fa(i,ml(0,c,t));break e;case 1:o=c;var x=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wo||!Wo.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Fa(i,hl(i,o,t));break e}}i=i.return}while(null!==i)}yc(n)}catch(y){t=y,Po===n&&null!==n&&(Po=n=n.return);continue}break}}function pc(){var e=Eo.current;return Eo.current=Qi,null===e?Qi:e}function fc(){0!==Ro&&3!==Ro&&2!==Ro||(Ro=4),null===Oo||0===(268435455&Mo)&&0===(268435455&Bo)||lc(Oo,zo)}function vc(e,t){var n=_o;_o|=2;var r=pc();for(Oo===e&&zo===t||(Ho=null,mc(e,t));;)try{gc();break}catch(s){hc(e,s)}if(Sa(),_o=n,Eo.current=r,null!==Po)throw Error(a(261));return Oo=null,zo=0,Ro}function gc(){for(;null!==Po;)bc(Po)}function xc(){for(;null!==Po&&!Ye();)bc(Po)}function bc(e){var t=No(e.alternate,e,To);e.memoizedProps=e.pendingProps,null===t?yc(e):Po=t,So.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wl(n,t,To)))return void(Po=n)}else{if(null!==(n=Gl(n,t)))return n.flags&=32767,void(Po=n);if(null===e)return Ro=6,void(Po=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Po=t);Po=t=e}while(null!==t);0===Ro&&(Ro=5)}function jc(e,t,n){var r=bt,s=ko.transition;try{ko.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==Ko);if(0!==(6&_o))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,i),e===Oo&&(Po=Oo=null,zo=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Go||(Go=!0,Oc(tt,function(){return wc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=ko.transition,ko.transition=null;var l=bt;bt=1;var o=_o;_o|=4,So.current=null,function(e,t){if(es=Vt,hr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(j){n=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==n||0!==s&&3!==m.nodeType||(o=l+s),m!==i||0!==r&&3!==m.nodeType||(c=l+r),3===m.nodeType&&(l+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===n&&++d===s&&(o=l),h===i&&++u===r&&(c=l),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Vt=!1,Ql=t;null!==Ql;)if(e=(t=Ql).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ql=e;else for(;null!==Ql;){t=Ql;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var v=f.memoizedProps,g=f.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:tl(t.type,v),g);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(a(163))}}catch(j){Cc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Ql=e;break}Ql=t.return}f=eo,eo=!1}(e,n),vo(n,e),pr(ts),Vt=!!es,ts=es=null,e.current=n,xo(n,e,s),Xe(),_o=o,bt=l,ko.transition=i}else e.current=n;if(Go&&(Go=!1,Ko=e,Yo=s),i=e.pendingLanes,0===i&&(Wo=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vo)throw Vo=!1,e=qo,qo=null,e;0!==(1&Yo)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Qo?Xo++:(Xo=0,Qo=e):Xo=0,Us()}(e,t,n,r)}finally{ko.transition=s,bt=r}return null}function wc(){if(null!==Ko){var e=yt(Yo),t=ko.transition,n=bt;try{if(ko.transition=null,bt=16>e?16:e,null===Ko)var r=!1;else{if(e=Ko,Ko=null,Yo=0,0!==(6&_o))throw Error(a(331));var s=_o;for(_o|=4,Ql=e.current;null!==Ql;){var i=Ql,l=i.child;if(0!==(16&Ql.flags)){var o=i.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Ql=d;null!==Ql;){var u=Ql;switch(u.tag){case 0:case 11:case 15:to(8,u,i)}var m=u.child;if(null!==m)m.return=u,Ql=m;else for(;null!==Ql;){var h=(u=Ql).sibling,p=u.return;if(so(u),u===d){Ql=null;break}if(null!==h){h.return=p,Ql=h;break}Ql=p}}}var f=i.alternate;if(null!==f){var v=f.child;if(null!==v){f.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Ql=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,Ql=l;else e:for(;null!==Ql;){if(0!==(2048&(i=Ql).flags))switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var x=i.sibling;if(null!==x){x.return=i.return,Ql=x;break e}Ql=i.return}}var b=e.current;for(Ql=b;null!==Ql;){var y=(l=Ql).child;if(0!==(2064&l.subtreeFlags)&&null!==y)y.return=l,Ql=y;else e:for(l=b;null!==Ql;){if(0!==(2048&(o=Ql).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(w){Cc(o,o.return,w)}if(o===l){Ql=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Ql=j;break e}Ql=o.return}}if(_o=s,Us(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(w){}r=!0}return r}finally{bt=n,ko.transition=t}}return!1}function Nc(e,t,n){e=Da(e,t=ml(0,t=ol(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Cc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wo||!Wo.has(r))){t=Da(t,e=hl(t,e=ol(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Oo===e&&(zo&n)===n&&(4===Ro||3===Ro&&(130023424&zo)===zo&&500>Qe()-Fo?mc(e,0):Io|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Ra(e,t))&&(gt(e,t,n),rc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Oc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,n,r){return new Pc(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,s,i){var l=2;if(r=e,"function"===typeof e)Tc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case N:return Lc(n.children,s,i,t);case C:l=8,s|=8;break;case E:return(e=zc(12,n,t,2|s)).elementType=E,e.lanes=i,e;case O:return(e=zc(13,n,t,s)).elementType=O,e.lanes=i,e;case P:return(e=zc(19,n,t,s)).elementType=P,e.lanes=i,e;case A:return Mc(n,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:l=10;break e;case k:l=9;break e;case _:l=11;break e;case z:l=14;break e;case T:l=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=zc(l,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Lc(e,t,n,r){return(e=zc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=zc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=zc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,r,s,a,i,l,o){return e=new Dc(e,t,n,l,o),1===t?(t=1,!0===a&&(t|=8)):t=0,a=zc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Fc(e){if(!e)return ks;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ts(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ts(n))return Ls(e,n,t)}return t}function Uc(e,t,n,r,s,a,i,l,o){return(e=$c(n,r,!0,e,0,a,0,l,o)).context=Fc(null),n=e.current,(a=Ia(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,s),e.current.lanes=s,gt(e,s,r),rc(e,r),e}function Hc(e,t,n,r){var s=t.current,a=ec(),i=tc(s);return n=Fc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ia(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(s,t,i))&&(nc(e,s,i,a),$a(e,s,i)),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}No=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Os.current)xl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xl=!1,function(e,t,n){switch(t.tag){case 3:_l(t),ha();break;case 5:Qa(t);break;case 1:Ts(t.type)&&Ms(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ss(wa,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ss(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ml(e,t,n):(Ss(Za,1&Za.current),null!==(e=Hl(e,t,n))?e.sibling:null);Ss(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Fl(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ss(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,Nl(e,t,n)}return Hl(e,t,n)}(e,t,n);xl=0!==(131072&e.flags)}else xl=!1,sa&&0!==(1048576&t.flags)&&Zs(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ul(e,t),e=t.pendingProps;var s=zs(t,_s.current);Oa(t,n),s=fi(null,t,r,e,s,n);var i=vi();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ts(r)?(i=!0,Ms(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Ma(t),s.updater=rl,t.stateNode=s,s._reactInternals=t,ll(t,r,e,n),t=kl(null,t,r,!0,i,n)):(t.tag=0,sa&&i&&ea(t),bl(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ul(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===z)return 14}return 2}(r),e=tl(r,e),s){case 0:t=El(null,t,r,e,n);break e;case 1:t=Sl(null,t,r,e,n);break e;case 11:t=yl(null,t,r,e,n);break e;case 14:t=jl(null,t,r,tl(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,El(e,t,r,s=t.elementType===r?s:tl(r,s),n);case 1:return r=t.type,s=t.pendingProps,Sl(e,t,r,s=t.elementType===r?s:tl(r,s),n);case 3:e:{if(_l(t),null===e)throw Error(a(387));r=t.pendingProps,s=(i=t.memoizedState).element,Ba(e,t),Ua(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ol(e,t,r,n,s=ol(Error(a(423)),t));break e}if(r!==s){t=Ol(e,t,r,n,s=ol(Error(a(424)),t));break e}for(ra=cs(t.stateNode.containerInfo.firstChild),na=t,sa=!0,aa=null,n=ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===s){t=Hl(e,t,n);break e}bl(e,t,r,n)}t=t.child}return t;case 5:return Qa(t),null===e&&ca(t),r=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,l=s.children,ns(r,s)?l=null:null!==i&&ns(r,i)&&(t.flags|=32),Cl(e,t),bl(e,t,l,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ml(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ya(t,null,r,n):bl(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,yl(e,t,r,s=t.elementType===r?s:tl(r,s),n);case 7:return bl(e,t,t.pendingProps,n),t.child;case 8:case 12:return bl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,Ss(wa,r._currentValue),r._currentValue=l,null!==i)if(lr(i.value,l)){if(i.children===s.children&&!Os.current){t=Hl(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var c=o.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Ia(-1,n&-n)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),_a(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(a(341));l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),_a(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}bl(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Oa(t,n),r=r(s=Pa(s)),t.flags|=1,bl(e,t,r,n),t.child;case 14:return s=tl(r=t.type,t.pendingProps),jl(e,t,r,s=tl(r.type,s),n);case 15:return wl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tl(r,s),Ul(e,t),t.tag=1,Ts(r)?(e=!0,Ms(t)):e=!1,Oa(t,n),al(t,r,s),ll(t,r,s,n),kl(null,t,r,!0,e,n);case 19:return Fl(e,t,n);case 22:return Nl(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof s){var l=s;s=function(){var e=Vc(i);l.call(e)}}Hc(t,i,e,s)}else i=function(e,t,n,r,s){if(s){if("function"===typeof r){var a=r;r=function(){var e=Vc(i);a.call(e)}}var i=Uc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[ps]=i.current,Ur(8===e.nodeType?e.parentNode:e),dc(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var l=r;r=function(){var e=Vc(o);l.call(e)}}var o=$c(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=o,e[ps]=o.current,Ur(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,o,n,r)}),o}(n,t,e,s,r);return Vc(i)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[ps]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Bt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(xt(t,1|n),rc(t,Qe()),0===(6&_o)&&(Uo=Qe()+500,Us()))}break;case 13:dc(function(){var t=Ra(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Wc(e,1)}},wt=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Ra(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},Ct=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=js(r);if(!s)throw Error(a(90));G(r),J(r,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,Oe=dc;var ed={usingClientEntryPoint:!1,Events:[bs,ys,js,Se,ke,cc]},td={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{st=rd.inject(nd),at=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",s=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,s=!1,i="",l=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,s,0,i,l),e[ps]=t.current,Ur(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},740:e=>{"use strict";e.exports=function(e,t,n,r,s,a,i,l){if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,s,a,i,l],d=0;(o=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw o.framesToPop=1,o}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&s&&r;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{"use strict";var e,t=n(43),r=n.t(t,2),s=n(391),a=n(950),i=n.t(a,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const o="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(t,n,r,s){void 0===s&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,d=a.history,p=e.Pop,f=null,v=g();function g(){return(d.state||{idx:null}).idx}function x(){p=e.Pop;let t=g(),n=null==t?null:t-v;v=t,f&&f({action:p,location:y.location,delta:n})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==v&&(v=0,d.replaceState(l({},d.state,{idx:v}),""));let y={get action(){return p},get location(){return t(a,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(o,x),f=e,()=>{a.removeEventListener(o,x),f=null}},createHref:e=>n(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let s=m(y.location,t,n);r&&r(s,t),v=g()+1;let l=u(s,v),o=y.createHref(s);try{d.pushState(l,"",o)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(o)}i&&f&&f({action:p,location:y.location,delta:1})},replace:function(t,n){p=e.Replace;let s=m(y.location,t,n);r&&r(s,t),v=g();let a=u(s,v),l=y.createHref(s);d.replaceState(a,"",l),i&&f&&f({action:p,location:y.location,delta:0})},go:e=>d.go(e)};return y}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),x(e,t,n,!1)}function x(e,t,n,r){let s=T(("string"===typeof t?p(t):t).pathname||"/",n);if(null==s)return null;let a=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let l=0;null==i&&l<a.length;++l){let e=z(s);i=O(a[l],e,r)}return i}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(c(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let l=B([r,i.relativePath]),o=n.concat(i);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),b(e.children,t,o,l)),(null!=e.path||e.index)&&t.push({path:l,score:_(l,e.index),routesMeta:o})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))s(e,t,r);else s(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let i=y(r.join("/")),l=[];return l.push(...i.map(e=>""===e?a:[a,e].join("/"))),s&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,w=3,N=2,C=1,E=10,S=-2,k=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=S),t&&(r+=N),n.filter(e=>!k(e)).reduce((e,t)=>e+(j.test(t)?w:""===t?C:E),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},a="/",i=[];for(let l=0;l<r.length;++l){let e=r[l],o=l===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!r[r.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:B([a,d.pathname]),pathnameBase:I(B([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=B([a,d.pathnameBase]))}return i}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=l[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[n];return e[r]=s&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:i,pattern:e}}function z(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let n=R(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function M(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=p(e):(s=l({},e),c(!s.pathname||!s.pathname.includes("?"),A("?","pathname","search",s)),c(!s.pathname||!s.pathname.includes("#"),A("#","pathname","hash",s)),c(!s.search||!s.search.includes("#"),A("#","search","hash",s)));let a,i=""===e||""===s.pathname,o=i?"/":s.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?p(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:D(r),hash:$(s)}}(s,a),u=o&&"/"!==o&&o.endsWith("/"),m=(i||"."===o)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!m||(d.pathname+="/"),d}const B=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],H=(new Set(U),["get",...U]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const q=t.createContext(null);const W=t.createContext(null);const G=t.createContext(null);const K=t.createContext(null);const Y=t.createContext({outlet:null,matches:[],isDataRoute:!1});const X=t.createContext(null);function Q(){return null!=t.useContext(K)}function J(){return Q()||c(!1),t.useContext(K).location}function Z(e){t.useContext(G).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(Y);return e?function(){let{router:e}=ue(ce.UseNavigateStable),n=he(de.UseNavigateStable),r=t.useRef(!1);Z(()=>{r.current=!0});let s=t.useCallback(function(t,s){void 0===s&&(s={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,V({fromRouteId:n},s)))},[e,n]);return s}():function(){Q()||c(!1);let e=t.useContext(q),{basename:n,future:r,navigator:s}=t.useContext(G),{matches:a}=t.useContext(Y),{pathname:i}=J(),l=JSON.stringify(L(a,r.v7_relativeSplatPath)),o=t.useRef(!1);Z(()=>{o.current=!0});let d=t.useCallback(function(t,r){if(void 0===r&&(r={}),!o.current)return;if("number"===typeof t)return void s.go(t);let a=M(t,JSON.parse(l),i,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:B([n,a.pathname])),(r.replace?s.replace:s.push)(a,r.state,r)},[n,s,l,i,e]);return d}()}function te(){let{matches:e}=t.useContext(Y),n=e[e.length-1];return n?n.params:{}}function ne(e,n){let{relative:r}=void 0===n?{}:n,{future:s}=t.useContext(G),{matches:a}=t.useContext(Y),{pathname:i}=J(),l=JSON.stringify(L(a,s.v7_relativeSplatPath));return t.useMemo(()=>M(e,JSON.parse(l),i,"path"===r),[e,l,i,r])}function re(n,r,s,a){Q()||c(!1);let{navigator:i}=t.useContext(G),{matches:l}=t.useContext(Y),o=l[l.length-1],d=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let m,h=J();if(r){var f;let e="string"===typeof r?p(r):r;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),m=e}else m=h;let v=m.pathname||"/",x=v;if("/"!==u){let e=u.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=g(n,{pathname:x});let y=oe(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:B([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,s,a);return r&&y?t.createElement(K.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:e.Pop}},y):y}function se(){let e=function(){var e;let n=t.useContext(X),r=me(de.UseRouteError),s=he(de.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[s]}(),n=F(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}const ae=t.createElement(se,null);class ie extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Y.Provider,{value:this.props.routeContext},t.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:n,match:r,children:s}=e,a=t.useContext(q);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Y.Provider,{value:n},s)}function oe(e,n,r,s){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===s&&(s=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=s)&&i.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let l=e,o=null==(a=r)?void 0:a.errors;if(null!=o){let e=l.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||c(!1),l=l.slice(0,Math.min(l.length,e+1))}let d=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let t=0;t<l.length;t++){let e=l[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){d=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight((e,s,a)=>{let i,c=!1,m=null,h=null;r&&(i=o&&s.route.id?o[s.route.id]:void 0,m=s.route.errorElement||ae,d&&(u<0&&0===a?(!function(e,t){t||pe[e]||(pe[e]=!0)}("route-fallback",!1),c=!0,h=null):u===a&&(c=!0,h=s.route.hydrateFallbackElement||null)));let p=n.concat(l.slice(0,a+1)),f=()=>{let n;return n=i?m:c?h:s.route.Component?t.createElement(s.route.Component,null):s.route.element?s.route.element:e,t.createElement(le,{match:s,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(s.route.ErrorBoundary||s.route.errorElement||0===a)?t.createElement(ie,{location:r.location,revalidation:r.revalidation,component:m,error:i,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ue(e){let n=t.useContext(q);return n||c(!1),n}function me(e){let n=t.useContext(W);return n||c(!1),n}function he(e){let n=function(){let e=t.useContext(Y);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const pe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function ve(e){let{to:n,replace:r,state:s,relative:a}=e;Q()||c(!1);let{future:i,static:l}=t.useContext(G),{matches:o}=t.useContext(Y),{pathname:d}=J(),u=ee(),m=M(n,L(o,i.v7_relativeSplatPath),d,"path"===a),h=JSON.stringify(m);return t.useEffect(()=>u(JSON.parse(h),{replace:r,state:s,relative:a}),[u,h,a,r,s]),null}function ge(e){c(!1)}function xe(n){let{basename:r="/",children:s=null,location:a,navigationType:i=e.Pop,navigator:l,static:o=!1,future:d}=n;Q()&&c(!1);let u=r.replace(/^\/*/,"/"),m=t.useMemo(()=>({basename:u,navigator:l,static:o,future:V({v7_relativeSplatPath:!1},d)}),[u,d,l,o]);"string"===typeof a&&(a=p(a));let{pathname:h="/",search:f="",hash:v="",state:g=null,key:x="default"}=a,b=t.useMemo(()=>{let e=T(h,u);return null==e?null:{location:{pathname:e,search:f,hash:v,state:g,key:x},navigationType:i}},[u,h,f,v,g,x,i]);return null==b?null:t.createElement(G.Provider,{value:m},t.createElement(K.Provider,{children:s,value:b}))}function be(e){let{children:t,location:n}=e;return re(ye(t),n)}new Promise(()=>{});t.Component;function ye(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,(e,s)=>{if(!t.isValidElement(e))return;let a=[...n,s];if(e.type===t.Fragment)return void r.push.apply(r,ye(e.props.children,a));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ye(e.props.children,a)),r.push(i)}),r}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(yb){}new Map;const Ce=r.startTransition;i.flushSync,r.useId;function Ee(e){let{basename:n,children:r,future:s,window:a}=e,i=t.useRef();null==i.current&&(i.current=function(e){return void 0===e&&(e={}),f(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return m("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,e)}({window:a,v5Compat:!0}));let l=i.current,[o,c]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=s||{},u=t.useCallback(e=>{d&&Ce?Ce(()=>c(e)):c(e)},[c,d]);return t.useLayoutEffect(()=>l.listen(u),[l,u]),t.useEffect(()=>fe(s),[s]),t.createElement(xe,{basename:n,children:r,location:o.location,navigationType:o.action,navigator:l,future:s})}const Se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=t.forwardRef(function(e,n){let r,{onClick:s,relative:a,reloadDocument:i,replace:l,state:o,target:d,to:u,preventScrollReset:m,viewTransition:p}=e,f=we(e,Ne),{basename:v}=t.useContext(G),g=!1;if("string"===typeof u&&ke.test(u)&&(r=u,Se))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=T(t.pathname,v);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(yb){}let x=function(e,n){let{relative:r}=void 0===n?{}:n;Q()||c(!1);let{basename:s,navigator:a}=t.useContext(G),{hash:i,pathname:l,search:o}=ne(e,{relative:r}),d=l;return"/"!==s&&(d="/"===l?s:B([s,l])),a.createHref({pathname:d,search:o,hash:i})}(u,{relative:a}),b=function(e,n){let{target:r,replace:s,state:a,preventScrollReset:i,relative:l,viewTransition:o}=void 0===n?{}:n,c=ee(),d=J(),u=ne(e,{relative:l});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==s?s:h(d)===h(u);c(e,{replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,s,a,r,e,i,l,o])}(u,{replace:l,state:o,target:d,preventScrollReset:m,relative:a,viewTransition:p});return t.createElement("a",je({},f,{href:r||x,onClick:g||i?s:function(e){s&&s(e),e.defaultPrevented||b(e)},ref:n,target:d}))});var Oe,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oe||(Oe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));const ze="http://localhost:8000";const Te=new class{constructor(){this.baseURL=`${ze}/api/auth`,this.tokenKey="auth_token",this.userKey="user_data"}getHeaders(){const e={"Content-Type":"application/json",Accept:"application/json"};if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){const t=this.getToken();t&&(e.Authorization=`Bearer ${t}`)}return e}setToken(e){try{localStorage.setItem(this.tokenKey,e)}catch(t){console.error("Erreur lors du stockage du token:",t)}}getToken(){try{return localStorage.getItem(this.tokenKey)}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration du token:",e),null}}removeToken(){try{localStorage.removeItem(this.tokenKey),localStorage.removeItem(this.userKey),sessionStorage.clear()}catch(e){console.error("Erreur lors de la suppression du token:",e)}}isTokenExpired(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.getToken();if(!e)return!0;try{const t=JSON.parse(atob(e.split(".")[1])),n=Math.floor(Date.now()/1e3);return t.exp<n+300}catch(t){return console.error("Erreur lors de la v\xe9rification du token:",t),!0}}async makeRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.startsWith("http")?e:`${this.baseURL}${e}`;try{const e=await fetch(n,{...t,headers:{...this.getHeaders(!1!==t.includeAuth),...t.headers}});if(!e.ok){const n=await e.json().catch(()=>({}));if(401===e.status&&!1!==t.includeAuth)throw this.removeToken(),window.dispatchEvent(new CustomEvent("auth:unauthorized")),new Error("Session expir\xe9e. Veuillez vous reconnecter.");throw new Error(n.message||n.error||`Erreur HTTP ${e.status}: ${e.statusText}`)}return await e.json()}catch(r){if("TypeError"===r.name&&r.message.includes("fetch"))throw new Error("Impossible de se connecter au serveur. V\xe9rifiez votre connexion.");throw r}}async login(e){try{const t=await this.makeRequest("/login",{method:"POST",body:JSON.stringify({username:e.username.trim(),password:e.password}),includeAuth:!1});if(t.access_token&&t.user)return this.setToken(t.access_token),localStorage.setItem(this.userKey,JSON.stringify(t.user)),t;throw new Error("R\xe9ponse invalide du serveur")}catch(t){throw console.error("Erreur de connexion:",t),t}}async register(e){try{return await this.makeRequest("/register",{method:"POST",body:JSON.stringify(e),includeAuth:!1})}catch(t){throw console.error("Erreur d'inscription:",t),t}}async logout(){try{await this.makeRequest("/logout",{method:"POST"})}catch(e){console.error("Erreur lors de la d\xe9connexion:",e)}finally{this.removeToken()}}async refreshToken(){try{const e=await this.makeRequest("/refresh",{method:"POST"});if(e.access_token)return e.user&&localStorage.setItem(this.userKey,JSON.stringify(e.user)),e;throw new Error("Impossible de renouveler le token")}catch(e){throw console.error("Erreur lors du refresh du token:",e),this.removeToken(),e}}async getCurrentUser(){try{const e=await this.makeRequest("/me",{method:"GET"});if(e)return localStorage.setItem(this.userKey,JSON.stringify(e)),e;throw new Error("Impossible de r\xe9cup\xe9rer les informations utilisateur")}catch(e){throw console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es utilisateur:",e),e}}getCachedUser(){try{const e=localStorage.getItem(this.userKey);return e?JSON.parse(e):null}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es utilisateur en cache:",e),null}}isAuthenticated(){const e=this.getToken();return e&&!this.isTokenExpired(e)}getUserRole(){const e=this.getCachedUser();return(null===e||void 0===e?void 0:e.role)||null}hasRole(e){return this.getUserRole()===e}hasAnyRole(e){const t=this.getUserRole();return e.includes(t)}setupInterceptors(){var e=this;const t=window.fetch;window.fetch=async function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.includes(ze)||n.startsWith("/api")){const t=e.getToken();t&&!e.isTokenExpired(t)&&(r.headers={...r.headers,Authorization:`Bearer ${t}`})}return t(n,r)}}restoreInterceptors(){window.originalFetch&&(window.fetch=window.originalFetch,delete window.originalFetch)}};"undefined"!==typeof window&&Te.setupInterceptors();var Ae=n(579);const Re=(0,t.createContext)(null),Le={user:null,token:null,isAuthenticated:!1,isLoading:!0,error:null,refreshTokenTimeout:null,isLoggingOut:!1},Me=(e,t)=>{switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload,error:null};case"LOGIN_SUCCESS":return{...e,user:t.payload.user,token:t.payload.token,isAuthenticated:!0,isLoading:!1,error:null};case"LOGIN_FAILURE":return{...e,user:null,token:null,isAuthenticated:!1,isLoading:!1,error:t.payload};case"LOGOUT_START":return{...e,isLoggingOut:!0};case"LOGOUT":return{...Le,isLoading:!1};case"TOKEN_REFRESHED":return{...e,token:t.payload.token,user:t.payload.user||e.user,error:null};case"SET_ERROR":return{...e,error:t.payload,isLoading:!1};case"CLEAR_ERROR":return{...e,error:null};case"SET_REFRESH_TIMEOUT":return{...e,refreshTokenTimeout:t.payload};case"CLEAR_REFRESH_TIMEOUT":return e.refreshTokenTimeout&&clearTimeout(e.refreshTokenTimeout),{...e,refreshTokenTimeout:null};default:return e}},Be=e=>{let{children:n}=e;const[r,s]=(0,t.useReducer)(Me,Le),a=e=>{try{const t=1e3*JSON.parse(atob(e.split(".")[1])).exp,n=t-Date.now(),r=Math.max(n-3e5,0);if(r>0){const e=setTimeout(()=>{l()},r);s({type:"SET_REFRESH_TIMEOUT",payload:e})}}catch(t){console.error("Erreur lors du d\xe9codage du token:",t)}},i=async()=>{if(r.isLoggingOut)console.log("Logout d\xe9j\xe0 en cours, ignorer");else{s({type:"LOGOUT_START"}),s({type:"CLEAR_REFRESH_TIMEOUT"});try{await Te.logout()}catch(e){console.error("Erreur lors de la d\xe9connexion:",e)}finally{Te.removeToken(),s({type:"LOGOUT"})}}},l=async()=>{try{const e=await Te.refreshToken();if(e.access_token)return Te.setToken(e.access_token),s({type:"TOKEN_REFRESHED",payload:{token:e.access_token,user:e.user}}),a(e.access_token),e.access_token}catch(e){throw console.error("Erreur lors du refresh du token:",e),i(),e}};(0,t.useEffect)(()=>((async()=>{try{const t=Te.getToken();if(t){if(Te.isTokenExpired(t))return console.log("Token expir\xe9 d\xe9tect\xe9 lors de l'initialisation"),Te.removeToken(),void s({type:"LOGOUT"});try{const e=await Te.getCurrentUser();s({type:"LOGIN_SUCCESS",payload:{user:e,token:t}}),a(t)}catch(e){console.error("Token invalide c\xf4t\xe9 serveur:",e),s({type:"LOGOUT"})}}else s({type:"SET_LOADING",payload:!1})}catch(e){console.error("Erreur lors de l'initialisation de l'authentification:",e),Te.removeToken(),s({type:"LOGOUT"})}})(),()=>{r.refreshTokenTimeout&&clearTimeout(r.refreshTokenTimeout)}),[]),(0,t.useEffect)(()=>{const e=()=>{r.isAuthenticated&&(console.log("Session expir\xe9e d\xe9tect\xe9e, d\xe9connexion automatique"),s({type:"SET_ERROR",payload:"Session expir\xe9e"}),i())};return window.addEventListener("auth:unauthorized",e),()=>{window.removeEventListener("auth:unauthorized",e)}},[r.isAuthenticated,i]);const o={user:r.user,token:r.token,isAuthenticated:r.isAuthenticated,isLoading:r.isLoading,error:r.error,login:async e=>{s({type:"SET_LOADING",payload:!0}),s({type:"CLEAR_ERROR"});try{const t=await Te.login(e);if(t.access_token&&t.user)return Te.setToken(t.access_token),s({type:"LOGIN_SUCCESS",payload:{user:t.user,token:t.access_token}}),a(t.access_token),t;throw new Error("R\xe9ponse invalide du serveur")}catch(r){var t,n;const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||r.message||"Erreur de connexion";throw s({type:"LOGIN_FAILURE",payload:e}),r}},logout:i,refreshToken:l,getCurrentUser:async()=>{try{const e=await Te.getCurrentUser();return s({type:"TOKEN_REFRESHED",payload:{user:e,token:r.token}}),e}catch(e){throw console.error("Erreur lors de la r\xe9cup\xe9ration de l'utilisateur:",e),e}},hasRole:e=>{var t;return(null===(t=r.user)||void 0===t?void 0:t.role)===e},hasAnyRole:e=>{var t;return e.includes(null===(t=r.user)||void 0===t?void 0:t.role)},clearError:()=>{s({type:"CLEAR_ERROR"})}};return(0,Ae.jsx)(Re.Provider,{value:o,children:n})};const Ie=new class{constructor(){this.tokenKey="auth_token",this.refreshTokenKey="refresh_token",this.tokenPrefix="Bearer "}decodeToken(e){try{if(!e)return null;const t=e.split(".");if(3!==t.length)return null;return JSON.parse(atob(t[1]))}catch(t){return console.error("Erreur lors du d\xe9codage du token:",t),null}}isTokenExpired(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;const n=this.decodeToken(e);if(!n||!n.exp)return!0;return Math.floor(Date.now()/1e3)>=n.exp-t}getTimeUntilExpiry(e){const t=this.decodeToken(e);if(!t||!t.exp)return 0;const n=Math.floor(Date.now()/1e3);return Math.max(0,t.exp-n)}getUserFromToken(e){const t=this.decodeToken(e);return t?{id:t.sub||t.user_id||t.id,username:t.username||t.preferred_username,email:t.email,role:t.role||t.roles,permissions:t.permissions||[],exp:t.exp,iat:t.iat}:null}setToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(!e)return!1;if(!this.isValidTokenFormat(e))throw new Error("Format de token invalide");const n=t?localStorage:sessionStorage;return n.setItem(this.tokenKey,e),n.setItem(`${this.tokenKey}_persistent`,t.toString()),!0}catch(n){return console.error("Erreur lors du stockage du token:",n),!1}}getToken(){try{let e=localStorage.getItem(this.tokenKey),t="true"===localStorage.getItem(`${this.tokenKey}_persistent`);return e||(e=sessionStorage.getItem(this.tokenKey),t=!1),e?this.isTokenExpired(e)?(this.removeToken(),null):e:null}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration du token:",e),null}}removeToken(){try{return localStorage.removeItem(this.tokenKey),localStorage.removeItem(`${this.tokenKey}_persistent`),localStorage.removeItem(this.refreshTokenKey),sessionStorage.removeItem(this.tokenKey),sessionStorage.removeItem(`${this.tokenKey}_persistent`),sessionStorage.removeItem(this.refreshTokenKey),!0}catch(e){return console.error("Erreur lors de la suppression du token:",e),!1}}isValidTokenFormat(e){if(!e||"string"!==typeof e)return!1;const t=e.split(".");if(3!==t.length)return!1;try{return t.forEach(e=>{atob(e)}),!0}catch(n){return!1}}getAuthHeader(){const e=this.getToken();return e?`${this.tokenPrefix}${e}`:null}isAuthenticated(){const e=this.getToken();return e&&!this.isTokenExpired(e)}scheduleTokenRefresh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(!e||!t)return null;const r=this.getTimeUntilExpiry(e),s=Math.max(0,1e3*(r-60*n));if(s<=0)return t(),null;const a=setTimeout(()=>{t()},s);return console.log(`Token refresh planifi\xe9 dans ${Math.floor(s/1e3)} secondes`),a}clearTokenRefresh(e){e&&clearTimeout(e)}setRefreshToken(e){try{return!!e&&(localStorage.setItem(this.refreshTokenKey,e),!0)}catch(t){return console.error("Erreur lors du stockage du refresh token:",t),!1}}getRefreshToken(){try{return localStorage.getItem(this.refreshTokenKey)}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration du refresh token:",e),null}}validateTokenStructure(e){const t=this.decodeToken(e);if(!t)return!1;if(!["exp","iat"].every(e=>t.hasOwnProperty(e)&&t[e]))return!1;const n=Math.floor(Date.now()/1e3);return!(t.iat>n+60)&&!(t.exp<=t.iat)}getTokenInfo(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.getToken();if(!e)return null;const t=this.decodeToken(e);if(!t)return null;Math.floor(Date.now()/1e3);return{isValid:this.validateTokenStructure(e),isExpired:this.isTokenExpired(e),timeUntilExpiry:this.getTimeUntilExpiry(e),issuedAt:new Date(1e3*t.iat).toISOString(),expiresAt:new Date(1e3*t.exp).toISOString(),user:this.getUserFromToken(e),rawPayload:t}}},De=()=>(()=>{const e=(0,t.useContext)(Re);if(!e)throw new Error("useAuth doit \xeatre utilis\xe9 dans un AuthProvider");return e})(),$e=()=>{const{user:e,hasRole:n,hasAnyRole:r}=De(),s=(0,t.useCallback)(()=>n("admin"),[n]),a=(0,t.useCallback)(()=>n("teacher"),[n]),i=(0,t.useCallback)(()=>n("accountant"),[n]),l=(0,t.useCallback)(()=>n("user"),[n]),o=(0,t.useCallback)(e=>!e||0===e.length||r(e),[r]),c=(0,t.useCallback)(()=>r(["admin"]),[r]),d=(0,t.useCallback)(()=>r(["admin","teacher"]),[r]),u=(0,t.useCallback)(()=>r(["admin","accountant"]),[r]),m=(0,t.useCallback)(()=>r(["admin","teacher","accountant"]),[r]);return{user:e,userRole:null===e||void 0===e?void 0:e.role,isAdmin:s,isTeacher:a,isAccountant:i,isUser:l,canAccess:o,canManageUsers:c,canManageStudents:d,canManageFinances:u,canViewReports:m}};var Fe=n(173),Ue=n.n(Fe),He=["color","size","title","className"];function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(null,arguments)}var qe=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,He);return t.createElement("svg",Ve({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-check-circle-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"}))});qe.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const We=qe;var Ge=["color","size","title","className"];function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(null,arguments)}var Ye=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Ge);return t.createElement("svg",Ke({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-exclamation-triangle-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5m.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"}))});Ye.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Xe=Ye;var Qe=["color","size","title","className"];function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(null,arguments)}var Ze=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Qe);return t.createElement("svg",Je({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-x-circle-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"}))});Ze.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const et=Ze;var tt=["color","size","title","className"];function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nt.apply(null,arguments)}var rt=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,tt);return t.createElement("svg",nt({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-info-circle-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"}))});rt.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const st=rt;var at=["color","size","title","className"];function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(null,arguments)}var lt=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,at);return t.createElement("svg",it({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-x",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"}))});lt.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const ot=lt,ct=e=>{let{children:t,variant:n="info",title:r,dismissible:s=!1,onDismiss:a,className:i="",...l}=e;const o={success:(0,Ae.jsx)(We,{className:"alert-icon"}),warning:(0,Ae.jsx)(Xe,{className:"alert-icon"}),error:(0,Ae.jsx)(et,{className:"alert-icon"}),info:(0,Ae.jsx)(st,{className:"alert-icon"})},c=["alert",{success:"alert-success",warning:"alert-warning",error:"alert-error",info:"alert-info"}[n],i].filter(Boolean).join(" ");return(0,Ae.jsxs)("div",{className:c,...l,children:[o[n],(0,Ae.jsxs)("div",{className:"alert-content",children:[r&&(0,Ae.jsx)("div",{className:"alert-title",children:r}),(0,Ae.jsx)("div",{className:"alert-message",children:t})]}),s&&(0,Ae.jsx)("button",{className:"ml-auto text-current opacity-60 hover:opacity-100 transition-opacity",onClick:a,children:(0,Ae.jsx)(ot,{size:16})})]})},dt=e=>{let{children:t,variant:n="primary",size:r="default",disabled:s=!1,loading:a=!1,icon:i=null,iconPosition:l="left",fullWidth:o=!1,href:c=null,to:d=null,onClick:u,className:m="",...h}=e;const p=["btn",{primary:"btn-primary",secondary:"btn-secondary",success:"btn-success",warning:"btn-warning",error:"btn-error",ghost:"btn-ghost"}[n],{sm:"btn-sm",default:"",lg:"btn-lg"}[r],o?"btn-full":"",s?"opacity-50 cursor-not-allowed":"",m].filter(Boolean).join(" "),f=(0,Ae.jsxs)(Ae.Fragment,{children:[a&&(0,Ae.jsx)("div",{className:"loading-spinner",style:{width:"16px",height:"16px"}}),i&&"left"===l&&!a&&(0,Ae.jsx)("span",{className:"btn-icon",children:i}),(0,Ae.jsx)("span",{children:t}),i&&"right"===l&&!a&&(0,Ae.jsx)("span",{className:"btn-icon",children:i})]}),v={className:p,disabled:s||a,onClick:s||a?void 0:u,...h};return d?(0,Ae.jsx)(_e,{to:d,...v,children:f}):c?(0,Ae.jsx)("a",{href:c,...v,children:f}):(0,Ae.jsx)("button",{...v,children:f})},ut=e=>{let{children:t,className:n="",hover:r=!0,padding:s="default",border:a=!0,shadow:i="sm",...l}=e;const o=["card",r?"hover:shadow-lg hover:scale-105":"",{none:"",sm:"p-4",default:"p-6",lg:"p-8"}[s],{none:"",sm:"shadow",md:"shadow-md",lg:"shadow-lg"}[i],n].filter(Boolean).join(" ");return(0,Ae.jsx)("div",{className:o,...l,children:t})};ut.Header=e=>{let{children:t,className:n="",...r}=e;return(0,Ae.jsx)("div",{className:`card-header ${n}`,...r,children:t})},ut.Content=e=>{let{children:t,className:n="",...r}=e;return(0,Ae.jsx)("div",{className:`card-content ${n}`,...r,children:t})},ut.Footer=e=>{let{children:t,className:n="",...r}=e;return(0,Ae.jsx)("div",{className:`card-footer ${n}`,...r,children:t})},ut.Title=e=>{let{children:t,className:n="",...r}=e;return(0,Ae.jsx)("h3",{className:`card-title ${n}`,...r,children:t})},ut.Subtitle=e=>{let{children:t,className:n="",...r}=e;return(0,Ae.jsx)("p",{className:`card-subtitle ${n}`,...r,children:t})};const mt=ut,ht=(0,t.forwardRef)((e,t)=>{let{label:n,error:r,help:s,type:a="text",size:i="default",fullWidth:l=!0,icon:o=null,iconPosition:c="left",className:d="",containerClassName:u="",labelClassName:m="",children:h,...p}=e;const f=["form-control",r?"error":"",{sm:"text-sm py-2 px-3",default:"",lg:"text-lg py-4 px-4"}[i],o?"left"===c?"pl-10":"pr-10":"",l?"w-full":"",d,o&&"left"===c?"pl-10":"",o&&"right"===c?"pr-10":""].filter(Boolean).join(" ");return(0,Ae.jsxs)("div",{className:`form-group ${u}`,children:[n&&(0,Ae.jsx)("label",{className:`form-label ${m}`,children:n}),(0,Ae.jsxs)("div",{className:"relative",children:[o&&(0,Ae.jsx)("div",{className:`absolute inset-y-0 ${"left"===c?"left-0 pl-3":"right-0 pr-3"} flex items-center pointer-events-none`,children:(0,Ae.jsx)("span",{className:"text-gray-400",children:o})}),(0,Ae.jsx)("input",{ref:t,type:a,className:f,...p}),h]}),r&&(0,Ae.jsxs)("div",{className:"form-error",children:[(0,Ae.jsx)("span",{children:"\u26a0\ufe0f"}),r]}),s&&!r&&(0,Ae.jsx)("div",{className:"form-help",children:s})]})});ht.displayName="Input";const pt=ht;var ft=n(139),vt=n.n(ft);const gt=["xxl","xl","lg","md","sm","xs"],xt="xs",bt=t.createContext({prefixes:{},breakpoints:gt,minBreakpoint:xt}),{Consumer:yt,Provider:jt}=bt;function wt(e,n){const{prefixes:r}=(0,t.useContext)(bt);return e||r[n]||n}function Nt(){const{breakpoints:e}=(0,t.useContext)(bt);return e}function Ct(){const{minBreakpoint:e}=(0,t.useContext)(bt);return e}function Et(){const{dir:e}=(0,t.useContext)(bt);return"rtl"===e}const St=t.forwardRef((e,t)=>{let{bsPrefix:n,variant:r,animation:s="border",size:a,as:i="div",className:l,...o}=e;n=wt(n,"spinner");const c=`${n}-${s}`;return(0,Ae.jsx)(i,{ref:t,...o,className:vt()(l,c,a&&`${c}-${a}`,r&&`text-${r}`)})});St.displayName="Spinner";const kt=St,_t=e=>{let{size:t="default",variant:n="primary",overlay:r=!1,text:s=null,className:a=""}=e;const i="sm"===t?"sm":void 0,l=(0,Ae.jsxs)("div",{className:`d-flex flex-column align-items-center ${a}`,children:[(0,Ae.jsx)(kt,{animation:"border",size:i,variant:n}),s&&(0,Ae.jsx)("div",{className:"mt-2 text-muted small",children:s})]});return r?(0,Ae.jsx)("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-light bg-opacity-75",style:{zIndex:9999},children:l}):(0,Ae.jsx)("div",{className:"d-flex justify-content-center align-items-center py-4",children:l})},Ot=e=>{let{isOpen:n,onClose:r,children:s,title:a,size:i="default",showCloseButton:l=!0,closeOnOverlayClick:o=!0,className:c=""}=e;if((0,t.useEffect)(()=>(document.body.style.overflow=n?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[n]),(0,t.useEffect)(()=>{const e=e=>{27===e.keyCode&&r()};return n&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[n,r]),!n)return null;return(0,Ae.jsx)("div",{className:"modal-overlay animate-fade-in",onClick:e=>{o&&e.target===e.currentTarget&&r()},children:(0,Ae.jsxs)("div",{className:`modal-content ${{sm:"max-w-md",default:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-7xl"}[i]} ${c} animate-slide-in-right`,children:[(a||l)&&(0,Ae.jsxs)("div",{className:"modal-header",children:[a&&(0,Ae.jsx)("h2",{className:"modal-title",children:a}),l&&(0,Ae.jsx)("button",{className:"modal-close",onClick:r,children:(0,Ae.jsx)(ot,{size:20})})]}),(0,Ae.jsx)("div",{className:"modal-body",children:s})]})})};Ot.Header=e=>{let{children:t,className:n=""}=e;return(0,Ae.jsx)("div",{className:`modal-header ${n}`,children:t})},Ot.Body=e=>{let{children:t,className:n=""}=e;return(0,Ae.jsx)("div",{className:`modal-body ${n}`,children:t})},Ot.Footer=e=>{let{children:t,className:n=""}=e;return(0,Ae.jsx)("div",{className:`modal-footer ${n}`,children:t})};const Pt=Ot,zt=e=>{let{children:t,className:n="",striped:r=!1,hover:s=!0,responsive:a=!0,...i}=e;const l=["table",r?"table-striped":"",s?"table-hover":"",n].filter(Boolean).join(" "),o=(0,Ae.jsx)("table",{className:l,...i,children:t});return a?(0,Ae.jsx)("div",{className:"table-container",children:o}):o};zt.Head=e=>{let{children:t,className:n="",...r}=e;return(0,Ae.jsx)("thead",{className:n,...r,children:t})},zt.Body=e=>{let{children:t,className:n="",...r}=e;return(0,Ae.jsx)("tbody",{className:n,...r,children:t})},zt.Row=e=>{let{children:t,className:n="",...r}=e;return(0,Ae.jsx)("tr",{className:n,...r,children:t})},zt.Header=e=>{let{children:t,className:n="",...r}=e;return(0,Ae.jsx)("th",{className:n,...r,children:t})},zt.Cell=e=>{let{children:t,className:n="",...r}=e;return(0,Ae.jsx)("td",{className:n,...r,children:t})};const Tt=e=>{let{children:n}=e;const{autoAuthCompleted:r,isInitializing:s}=(()=>{const{getCurrentUser:e,isLoading:n}=De(),[r,s]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{(async()=>{if(r||n)return;const t=Ie.getToken();if(t&&!Ie.isTokenExpired(t))try{await e()}catch(a){console.error("\xc9chec de l'authentification automatique:",a),Ie.removeToken()}s(!0)})()},[e,n,r]),{autoAuthCompleted:r,isInitializing:!r&&n}})();return s?(0,Ae.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-violet-50 via-white to-primary-violet-100",children:(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r from-primary-violet to-primary-violet-dark shadow-lg mb-6",children:(0,Ae.jsx)(_t,{size:"lg",className:"text-white"})}),(0,Ae.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Initialisation..."}),(0,Ae.jsx)("p",{className:"text-gray-600",children:"V\xe9rification de l'authentification"})]})}):n},At=e=>{let{children:t}=e;return(0,Ae.jsx)(Be,{children:(0,Ae.jsx)(Tt,{children:t})})},Rt=e=>{let{children:t,requiredRoles:n=[],requireAuth:r=!0,fallbackPath:s="/login",unauthorizedComponent:a=null}=e;const{isAuthenticated:i,isLoading:l,user:o}=De(),{canAccess:c}=$e(),d=J();return l?(0,Ae.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ae.jsx)(_t,{text:"V\xe9rification des permissions...",size:"lg"})}):r&&!i?(0,Ae.jsx)(ve,{to:s,state:{from:d},replace:!0}):n.length>0&&!c(n)?a||(0,Ae.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Ae.jsx)("div",{className:"max-w-md w-full",children:(0,Ae.jsxs)(ct,{variant:"error",className:"text-center",children:[(0,Ae.jsxs)("div",{className:"mb-4",children:[(0,Ae.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Acc\xe8s non autoris\xe9"}),(0,Ae.jsx)("p",{className:"text-sm",children:"Vous n'avez pas les permissions n\xe9cessaires pour acc\xe9der \xe0 cette page."}),o&&(0,Ae.jsxs)("p",{className:"text-xs mt-2 opacity-75",children:["Connect\xe9 en tant que: ",o.username," (",o.role,")"]})]}),(0,Ae.jsx)("button",{onClick:()=>window.history.back(),className:"bg-white text-red-600 px-4 py-2 rounded-md hover:bg-red-50 transition-colors",children:"Retour"})]})})}):t},Lt=e=>{let{children:t,fallbackPath:n="/"}=e;return(0,Ae.jsx)(Rt,{requiredRoles:["admin"],fallbackPath:n,children:t})},Mt=e=>{let{children:t,fallbackPath:n="/"}=e;return(0,Ae.jsx)(Rt,{requiredRoles:["admin","accountant"],fallbackPath:n,children:t})},Bt=e=>{let{children:t,redirectPath:n="/"}=e;const{isAuthenticated:r,isLoading:s}=De();return s?(0,Ae.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ae.jsx)(_t,{text:"Chargement...",size:"lg"})}):r?(0,Ae.jsx)(ve,{to:n,replace:!0}):t},It=e=>{let{children:t}=e;const{user:n,isAuthenticated:r,isLoading:s}=De(),a=J();if(s)return(0,Ae.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ae.jsx)(_t,{text:"Redirection...",size:"lg"})});if(!r)return(0,Ae.jsx)(ve,{to:"/login",state:{from:a},replace:!0});if("/"===a.pathname&&null!==n&&void 0!==n&&n.role){const e={admin:"/sections",teacher:"/students",accountant:"/class-comp",user:"/profile"}[n.role]||"/dashboard";return(0,Ae.jsx)(ve,{to:e,replace:!0})}return t},Dt=Rt;const $t=new class{constructor(){this.baseURL=`${ze}/api`}async makeRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.startsWith("http")?e:`${this.baseURL}${e}`,r=Te.getToken(),s={"Content-Type":"application/json",Accept:"application/json",...t.headers};r&&(s.Authorization=`Bearer ${r}`);try{const e=await fetch(n,{...t,headers:s});if(!e.ok){const t=await e.json().catch(()=>({}));if(401===e.status)throw Te.removeToken(),window.dispatchEvent(new CustomEvent("auth:unauthorized")),new Error("Session expir\xe9e. Veuillez vous reconnecter.");throw new Error(t.message||t.error||`Erreur HTTP ${e.status}: ${e.statusText}`)}return await e.json()}catch(a){if("TypeError"===a.name&&a.message.includes("fetch"))throw new Error("Impossible de se connecter au serveur. V\xe9rifiez votre connexion.");throw a}}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.makeRequest(e,{method:"GET",...t})}async post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return await this.makeRequest(e,{method:"POST",body:t?JSON.stringify(t):null,...n})}async put(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return await this.makeRequest(e,{method:"PUT",body:t?JSON.stringify(t):null,...n})}async delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.makeRequest(e,{method:"DELETE",...t})}async patch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return await this.makeRequest(e,{method:"PATCH",body:t?JSON.stringify(t):null,...n})}},Ft={auth:{login:e=>Te.login(e),logout:()=>Te.logout(),refresh:()=>Te.refreshToken(),me:()=>Te.getCurrentUser()},users:{getAll:()=>$t.get("/users"),getById:e=>$t.get(`/users/${e}`),create:e=>$t.post("/users",e),update:(e,t)=>$t.put(`/users/${e}`,t),delete:e=>$t.delete(`/users/${e}`),getProfile:()=>$t.get("/users/profile"),updateProfile:e=>$t.put("/users/profile",e)},teachers:{getAll:function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return $t.get("/teachers"+(e?"?"+e:""))},getById:e=>$t.get(`/teachers/${e}`),create:e=>$t.post("/teachers",e),update:(e,t)=>$t.put(`/teachers/${e}`,t),delete:e=>$t.delete(`/teachers/${e}`),toggleStatus:e=>$t.post(`/teachers/${e}/toggle-status`),assignSubjects:(e,t)=>$t.post(`/teachers/${e}/assign-subjects`,t),removeAssignment:(e,t)=>$t.post(`/teachers/${e}/remove-assignment`,t),getStats:function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return $t.get(`/teachers/${e}/stats${t?"?"+t:""}`)}},subjects:{getAll:function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return $t.get("/subjects"+(e?"?"+e:""))},getById:e=>$t.get(`/subjects/${e}`),create:e=>$t.post("/subjects",e),update:(e,t)=>$t.put(`/subjects/${e}`,t),delete:e=>$t.delete(`/subjects/${e}`),toggleStatus:e=>$t.post(`/subjects/${e}/toggle-status`),getForSeries:e=>$t.get(`/subjects/series/${e}`),configureForSeries:(e,t)=>$t.post(`/subjects/series/${e}/configure`,t)},students:{getAll:()=>$t.get("/students"),getByClass:e=>$t.get(`/students/class/${e}`),getByClassSeries:e=>$t.get(`/students/class-series/${e}`),getById:e=>$t.get(`/students/${e}`),create:e=>$t.post("/students",e),createWithPhoto:e=>{const t=Te.getToken();return fetch(`${$t.baseURL}/students`,{method:"POST",headers:{Authorization:`Bearer ${t}`,Accept:"application/json"},body:e}).then(async e=>{if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||`HTTP Error ${e.status}`)}return e.json()})},update:(e,t)=>$t.put(`/students/${e}`,t),updateStatus:(e,t)=>$t.patch(`/students/${e}/status`,{student_status:t}),updateWithPhoto:(e,t)=>{const n=Te.getToken();return fetch(`${$t.baseURL}/students/${e}/update-with-photo`,{method:"POST",headers:{Authorization:`Bearer ${n}`,Accept:"application/json"},body:t}).then(async e=>{if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||`HTTP Error ${e.status}`)}return e.json()})},delete:e=>$t.delete(`/students/${e}`),exportCsv:async e=>{const t=Te.getToken(),n=await fetch(`${$t.baseURL}/students/export-csv/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"text/csv"}});if(!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.message||"Erreur lors de l'export CSV")}return await n.blob()},exportPdf:async e=>{const t=Te.getToken(),n=await fetch(`${$t.baseURL}/students/export-pdf/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"text/html"}});if(!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.message||"Erreur lors de l'export PDF")}return n},importCsv:e=>{const t=Te.getToken();return fetch(`${$t.baseURL}/students/import-csv`,{method:"POST",headers:{Authorization:`Bearer ${t}`,Accept:"application/json"},body:e}).then(async e=>{if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||`HTTP Error ${e.status}`)}return e.json()})},getSchoolYears:()=>$t.get("/students/school-years"),transfer:(e,t)=>$t.post(`/students/${e}/transfer`,{class_id:t}),transferToSeries:(e,t)=>$t.post(`/students/${e}/transfer-series`,{class_series_id:t}),getOrdered:e=>$t.get(`/students/class/${e}/ordered`),reorder:e=>$t.post("/students/reorder",e),sortAlphabetically:(e,t)=>$t.post(`/students/class-series/${e}/sort-alphabetically`,t)},classes:{getAll:()=>$t.get("/classes"),getById:e=>$t.get(`/classes/${e}`),getBySection:e=>$t.get(`/classes/section/${e}`),create:e=>$t.post("/classes",e),update:(e,t)=>$t.put(`/classes/${e}`,t),delete:e=>$t.delete(`/classes/${e}`)},sections:{getAll:()=>$t.get("/sections"),getById:e=>$t.get(`/sections/${e}`),create:e=>$t.post("/sections",e),update:(e,t)=>$t.put(`/sections/${e}`,t),delete:e=>$t.delete(`/sections/${e}`),getDashboard:()=>$t.get("/sections/dashboard"),toggleStatus:e=>$t.post(`/sections/${e}/toggle-status`)},levels:{getAll:()=>$t.get("/levels"),getById:e=>$t.get(`/levels/${e}`),create:e=>$t.post("/levels",e),update:(e,t)=>$t.put(`/levels/${e}`,t),delete:e=>$t.delete(`/levels/${e}`),getDashboard:()=>$t.get("/levels/dashboard"),toggleStatus:e=>$t.post(`/levels/${e}/toggle-status`),getBySection:e=>$t.get(`/levels?section_id=${e}`)},schoolClasses:{getAll:()=>$t.get("/school-classes"),getById:e=>$t.get(`/school-classes/${e}`),create:e=>$t.post("/school-classes",e),update:(e,t)=>$t.put(`/school-classes/${e}`,t),delete:e=>$t.delete(`/school-classes/${e}`),getDashboard:()=>$t.get("/school-classes/dashboard"),toggleStatus:e=>$t.post(`/school-classes/${e}/toggle-status`),configurePayments:(e,t)=>$t.post(`/school-classes/${e}/configure-payments`,t),getByLevel:e=>$t.get(`/school-classes?level_id=${e}`),getBySection:e=>$t.get(`/school-classes?section_id=${e}`)},grades:{getByStudent:e=>$t.get(`/grades/student/${e}`),getByClass:e=>$t.get(`/grades/class/${e}`),create:e=>$t.post("/grades",e),update:(e,t)=>$t.put(`/grades/${e}`,t),delete:e=>$t.delete(`/grades/${e}`)},paymentTranches:{getAll:()=>$t.get("/payment-tranches"),getById:e=>$t.get(`/payment-tranches/${e}`),create:e=>$t.post("/payment-tranches",e),update:(e,t)=>$t.put(`/payment-tranches/${e}`,t),delete:e=>$t.delete(`/payment-tranches/${e}`),reorder:e=>$t.post("/payment-tranches/reorder",e),getUsageStats:e=>$t.get(`/payment-tranches/${e}/usage-stats`)},settings:{get:()=>$t.get("/settings"),update:e=>$t.put("/settings",e)},reports:{getBulletin:(e,t)=>$t.get(`/reports/bulletin/${e}/${t}`),getClassReport:e=>$t.get(`/reports/class/${e}`),getFinancialReport:e=>$t.get(`/reports/financial/${e}`)},search:{global:e=>$t.get(`/search?q=${encodeURIComponent(e)}`),students:e=>$t.get(`/search/students?q=${encodeURIComponent(e)}`),teachers:e=>$t.get(`/search/teachers?q=${encodeURIComponent(e)}`)},accountant:{dashboard:()=>$t.get("/accountant/dashboard"),getClasses:()=>$t.get("/accountant/classes"),getClassSeries:e=>$t.get(`/accountant/classes/${e}/series`),getSeriesStudents:e=>$t.get(`/accountant/series/${e}/students`),getStudent:e=>$t.get(`/accountant/students/${e}`)},schoolYears:{getAll:()=>$t.get("/school-years"),create:e=>$t.post("/school-years",e),update:(e,t)=>$t.put(`/school-years/${e}`,t),setCurrent:e=>$t.post(`/school-years/${e}/set-current`),getActiveYears:()=>$t.get("/school-years/active"),getUserWorkingYear:()=>$t.get("/school-years/user-working-year"),setUserWorkingYear:e=>$t.post("/school-years/set-user-working-year",{school_year_id:e})},payments:{getStudentInfo:e=>$t.get(`/payments/student/${e}/info`),getStudentHistory:e=>$t.get(`/payments/student/${e}/history`),create:e=>$t.post("/payments",e),generateReceipt:e=>$t.get(`/payments/${e}/receipt`),getStats:function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return $t.get("/payments/stats"+(e?"?"+e:""))}},schoolSettings:{get:()=>$t.get("/school-settings"),update:e=>{if(e instanceof FormData){e.append("_method","PUT");const t=Te.getToken();return fetch(`${$t.baseURL}/school-settings`,{method:"POST",headers:{Authorization:`Bearer ${t}`,Accept:"application/json"},body:e}).then(async e=>{if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||`HTTP Error ${e.status}`)}return e.json()})}return $t.put("/school-settings",e)},getLogo:()=>$t.get("/school-settings/logo")},scholarships:{getAll:()=>$t.get("/class-scholarships"),getById:e=>$t.get(`/class-scholarships/${e}`),getByClass:e=>$t.get(`/class-scholarships/class/${e}`),create:e=>$t.post("/class-scholarships",e),update:(e,t)=>$t.put(`/class-scholarships/${e}`,t),delete:e=>$t.delete(`/class-scholarships/${e}`)},seriesSubjects:{getAll:function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return $t.get("/series-subjects"+(e?"?"+e:""))},getByClass:e=>$t.get(`/series-subjects/class/${e}`),create:e=>$t.post("/series-subjects",e),update:(e,t)=>$t.put(`/series-subjects/${e}`,t),delete:e=>$t.delete(`/series-subjects/${e}`),toggleStatus:e=>$t.post(`/series-subjects/${e}/toggle-status`),bulkConfigure:(e,t)=>$t.post(`/series-subjects/class/${e}/bulk-configure`,t)},teacherAssignments:{getAll:function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return $t.get("/teacher-assignments"+(e?"?"+e:""))},getByTeacher:function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return $t.get(`/teacher-assignments/teacher/${e}${t?"?"+t:""}`)},getAvailableSubjects:function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return $t.get(`/teacher-assignments/teacher/${e}/available-subjects${t?"?"+t:""}`)},create:e=>$t.post("/teacher-assignments",e),delete:e=>$t.delete(`/teacher-assignments/${e}`),toggleStatus:e=>$t.post(`/teacher-assignments/${e}/toggle-status`),bulkAssign:(e,t)=>$t.post(`/teacher-assignments/teacher/${e}/bulk-assign`,t)},mainTeachers:{getAll:function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return $t.get("/main-teachers"+(e?"?"+e:""))},getClassesWithoutMainTeacher:function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return $t.get("/main-teachers/classes-without-main-teacher"+(e?"?"+e:""))},getAvailableTeachers:function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return $t.get("/main-teachers/available-teachers"+(e?"?"+e:""))},create:e=>$t.post("/main-teachers",e),update:(e,t)=>$t.put(`/main-teachers/${e}`,t),delete:e=>$t.delete(`/main-teachers/${e}`),toggleStatus:e=>$t.post(`/main-teachers/${e}/toggle-status`)},needs:{getAll:function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return $t.get("/needs"+(e?"?"+e:""))},getMyNeeds:function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return $t.get("/needs/my-needs"+(e?"?"+e:""))},getById:e=>$t.get(`/needs/${e}`),create:e=>$t.post("/needs",e),approve:e=>$t.post(`/needs/${e}/approve`),reject:(e,t)=>$t.post(`/needs/${e}/reject`,t),getStatistics:()=>$t.get("/needs/statistics/summary"),testWhatsApp:()=>$t.post("/needs/test-whatsapp")},reports:{getInsolvableReport:e=>{const t=new URLSearchParams(e).toString();return $t.get(`/reports/insolvable?${t}`)},getPaymentsReport:e=>{const t=new URLSearchParams(e).toString();return $t.get(`/reports/payments?${t}`)},getRameReport:e=>{const t=new URLSearchParams(e).toString();return $t.get(`/reports/rame?${t}`)},getRecoveryReport:e=>{const t=new URLSearchParams(e).toString();return $t.get(`/reports/recovery?${t}`)},exportPdf:async e=>{const t=new URLSearchParams(e).toString(),n=Te.getToken(),r=await fetch(`${$t.baseURL}/reports/export-pdf?${t}`,{method:"GET",headers:{Authorization:`Bearer ${n}`,Accept:"text/html"}});if(!r.ok){const e=await r.json().catch(()=>({}));throw new Error(e.message||"Erreur lors de l'export PDF")}return{success:!0,data:await r.text()}}},userManagement:{getAll:()=>$t.get("/user-management"),getStats:()=>$t.get("/user-management/stats"),getById:e=>$t.get(`/user-management/${e}`),create:e=>$t.post("/user-management",e),update:(e,t)=>$t.put(`/user-management/${e}`,t),resetPassword:e=>$t.post(`/user-management/${e}/reset-password`),toggleStatus:e=>$t.post(`/user-management/${e}/toggle-status`),delete:e=>$t.delete(`/user-management/${e}`),uploadPhoto:e=>$t.makeRequest("/upload-photo",{method:"POST",headers:{},body:e})}},Ut=(0,t.createContext)(),Ht=()=>{const e=(0,t.useContext)(Ut);if(!e)throw new Error("useSchool must be used within a SchoolProvider");return e},Vt=e=>{let{children:n}=e;const[r,s]=(0,t.useState)({school_name:"COLL\xc8GE POLYVALENT BILINGUE DE DOUALA",school_motto:"",school_address:"",school_phone:"",school_email:"",school_website:"",school_logo:"",currency:"FCFA",bank_name:"",country:"",city:"",footer_text:"",scholarship_deadline:"",reduction_percentage:10,primary_color:"#007bff"}),[a,i]=(0,t.useState)(!0),[l,o]=(0,t.useState)(null),c=async()=>{try{i(!0),o(null);const e=await Ft.schoolSettings.get();e.success&&e.data&&s(e.data)}catch(e){console.error("Erreur lors du chargement des param\xe8tres \xe9cole:",e),o("Erreur lors du chargement des param\xe8tres de l'\xe9cole")}finally{i(!1)}};(0,t.useEffect)(()=>{c()},[]);const d={schoolSettings:r,loading:a,error:l,loadSchoolSettings:c,updateSchoolSettings:async e=>{try{const t=await Ft.schoolSettings.update(e);return t.success&&t.data?(s(t.data),{success:!0,data:t.data}):{success:!1,message:t.message||"Erreur lors de la mise \xe0 jour"}}catch(t){return console.error("Erreur lors de la mise \xe0 jour des param\xe8tres \xe9cole:",t),{success:!1,message:"Erreur lors de la mise \xe0 jour des param\xe8tres"}}},getLogoUrl:()=>r.school_logo?r.school_logo.startsWith("http")?r.school_logo:`${ze}/storage/${r.school_logo}`:null,formatCurrency:e=>e||0===e?`${e.toLocaleString()} ${r.currency||"FCFA"}`:""};return(0,Ae.jsx)(Ut.Provider,{value:d,children:n})},qt=(0,t.createContext)(),Wt=()=>{const e=(0,t.useContext)(qt);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Gt=e=>{let{children:n}=e;const{schoolSettings:r}=Ht(),[s,a]=(0,t.useState)("#007bff");(0,t.useEffect)(()=>{if(r.primary_color)a(r.primary_color);else{const e=localStorage.getItem("app_primary_color");e&&a(e)}},[r.primary_color]),(0,t.useEffect)(()=>{document.documentElement.style.setProperty("--bs-primary",s),document.documentElement.style.setProperty("--primary-color",s);const e=i(s,20),t=l(s,20),n=c(s,.1);document.documentElement.style.setProperty("--bs-primary-rgb",o(s)),document.documentElement.style.setProperty("--primary-light",e),document.documentElement.style.setProperty("--primary-dark",t),document.documentElement.style.setProperty("--primary-fade",n),localStorage.setItem("app_primary_color",s)},[s]);const i=(e,t)=>{const n=parseInt(e.replace("#",""),16),r=Math.round(2.55*t),s=(n>>16)+r,a=(n>>8&255)+r,i=(255&n)+r;return"#"+(16777216+65536*(s<255?s<1?0:s:255)+256*(a<255?a<1?0:a:255)+(i<255?i<1?0:i:255)).toString(16).slice(1)},l=(e,t)=>{const n=parseInt(e.replace("#",""),16),r=Math.round(2.55*t),s=(n>>16)-r,a=(n>>8&255)-r,i=(255&n)-r;return"#"+(16777216+65536*(s>255?255:s<0?0:s)+256*(a>255?255:a<0?0:a)+(i>255?255:i<0?0:i)).toString(16).slice(1)},o=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?`${parseInt(t[1],16)}, ${parseInt(t[2],16)}, ${parseInt(t[3],16)}`:"0, 123, 255"},c=(e,t)=>{const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?`rgba(${parseInt(n[1],16)}, ${parseInt(n[2],16)}, ${parseInt(n[3],16)}, ${t})`:`rgba(0, 123, 255, ${t})`},d={primaryColor:s,colorPresets:[{name:"Bleu Bootstrap",value:"#007bff",description:"Bleu classique de Bootstrap"},{name:"Bleu Marine",value:"#0056b3",description:"Bleu marine professionnel"},{name:"Vert \xc9meraude",value:"#28a745",description:"Vert \xe9meraude moderne"},{name:"Vert For\xeat",value:"#198754",description:"Vert for\xeat naturel"},{name:"Rouge Cardinal",value:"#dc3545",description:"Rouge cardinal vibrant"},{name:"Rouge Bordeaux",value:"#c82333",description:"Rouge bordeaux \xe9l\xe9gant"},{name:"Orange Tangerine",value:"#fd7e14",description:"Orange tangerine \xe9nergique"},{name:"Orange Fonc\xe9",value:"#e8590c",description:"Orange fonc\xe9 chaleureux"},{name:"Violet Royal",value:"#6f42c1",description:"Violet royal sophistiqu\xe9"},{name:"Indigo Profond",value:"#6610f2",description:"Indigo profond myst\xe9rieux"},{name:"Rose Magenta",value:"#e83e8c",description:"Rose magenta cr\xe9atif"},{name:"Teal Moderne",value:"#20c997",description:"Teal moderne et frais"},{name:"Cyan \xc9lectrique",value:"#17a2b8",description:"Cyan \xe9lectrique dynamique"},{name:"Jaune Soleil",value:"#ffc107",description:"Jaune soleil optimiste"},{name:"Gris Ardoise",value:"#6c757d",description:"Gris ardoise professionnel"},{name:"Marron Terre",value:"#795548",description:"Marron terre naturel"}],changePrimaryColor:e=>{a(e)},getPrimaryStyle:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"color";return{[e]:s}},getPrimaryClass:function(){return`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""} primary-themed`},lightenColor:i,darkenColor:l,hexToRgb:o,hexToRgba:c};return(0,Ae.jsx)(qt.Provider,{value:d,children:n})},Kt={en:{error:"La page que vous recherchez n'est pas disponible",help:"Aller dans les classes"},fr:{error:"La page que vous recherchez n'est pas disponible",help:"Aller dans les classes"}},Yt={error:"La langue choisie n'est pas autorise!! Veuillez choisir entre l'anglais et le fran\xe7ais."},Xt=["fr","en"],Qt=()=>{let e="fr";return void 0!==localStorage.lang||Xt.includes(localStorage.getItem("lang"))?e=localStorage.getItem("lang"):localStorage.setItem("lang",e),e};const Jt=function(){return(0,Ae.jsxs)("div",{className:"conError",children:[(0,Ae.jsx)("h1",{class:"text-center ",children:"404"}),(0,Ae.jsxs)("div",{class:"content_box_404",children:[(0,Ae.jsx)("h3",{class:"h2",children:Kt[Qt()].error}),(0,Ae.jsxs)(_e,{to:"/class",class:"link_404",children:[Kt[Qt()].help," "]})]})]})};var Zt=["color","size","title","className"];function en(){return en=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},en.apply(null,arguments)}var tn=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Zt);return t.createElement("svg",en({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-plus",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"}))});tn.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const nn=tn;var rn=["color","size","title","className"];function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sn.apply(null,arguments)}var an=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,rn);return t.createElement("svg",sn({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-book",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"}))});an.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const ln=an;var on=["color","size","title","className"];function cn(){return cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cn.apply(null,arguments)}var dn=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,on);return t.createElement("svg",cn({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-toggle-on",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M5 3a5 5 0 0 0 0 10h6a5 5 0 0 0 0-10zm6 9a4 4 0 1 1 0-8 4 4 0 0 1 0 8"}))});dn.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const un=dn;var mn=["color","size","title","className"];function hn(){return hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hn.apply(null,arguments)}var pn=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,mn);return t.createElement("svg",hn({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-toggle-off",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M11 4a4 4 0 0 1 0 8H8a5 5 0 0 0 2-4 5 5 0 0 0-2-4zm-6 8a4 4 0 1 1 0-8 4 4 0 0 1 0 8M0 8a5 5 0 0 0 5 5h6a5 5 0 0 0 0-10H5a5 5 0 0 0-5 5"}))});pn.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const fn=pn;var vn=["color","size","title","className"];function gn(){return gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gn.apply(null,arguments)}var xn=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,vn);return t.createElement("svg",gn({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-building",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M4 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM4 5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z"}),t.createElement("path",{d:"M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm11 0H3v14h3v-2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V15h3z"}))});xn.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const bn=xn;var yn=["color","size","title","className"];function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jn.apply(null,arguments)}var wn=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,yn);return t.createElement("svg",jn({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-search",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"}))});wn.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Nn=wn;var Cn=["color","size","title","className"];function En(){return En=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},En.apply(null,arguments)}var Sn=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Cn);return t.createElement("svg",En({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-grid",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5z"}))});Sn.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const kn=Sn;var _n=["color","size","title","className"];function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},On.apply(null,arguments)}var Pn=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,_n);return t.createElement("svg",On({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-list",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"}))});Pn.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const zn=Pn;var Tn=["color","size","title","className"];function An(){return An=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},An.apply(null,arguments)}var Rn=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Tn);return t.createElement("svg",An({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-pencil",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325"}))});Rn.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Ln=Rn;var Mn=["color","size","title","className"];function Bn(){return Bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bn.apply(null,arguments)}var In=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Mn);return t.createElement("svg",Bn({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-trash",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),t.createElement("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"}))});In.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Dn=In,$n=()=>{const{user:e}=De(),[n,r]=(0,t.useState)([]),[s,a]=(0,t.useState)([]),[i,l]=(0,t.useState)(null),[o,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[v,g]=(0,t.useState)("all"),[x,b]=(0,t.useState)("all"),[y,j]=(0,t.useState)("grid"),[w,N]=(0,t.useState)(!1),[C,E]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1),[_,O]=(0,t.useState)(null),[P,z]=(0,t.useState)({name:"",section_id:"",description:"",is_active:!0,order:0});(0,t.useEffect)(()=>{T(),A(),R()},[]);const T=async()=>{try{c(!0);const e=await Ft.levels.getAll();e.success?r(e.data):u(e.message||"Erreur lors du chargement des niveaux")}catch(d){u("Erreur lors du chargement des niveaux"),console.error("Error loading levels:",d)}finally{c(!1)}},A=async()=>{try{const e=await Ft.sections.getAll();e.success&&a(e.data)}catch(d){console.error("Error loading sections:",d)}},R=async()=>{try{const e=await Ft.levels.getDashboard();e.success&&l(e.data)}catch(d){console.error("Error loading dashboard:",d)}},L=async e=>{try{const t=await Ft.levels.toggleStatus(e.id);t.success?(h(t.message),T(),R()):u(t.message||"Erreur lors de la mise \xe0 jour")}catch(d){u("Erreur lors de la mise \xe0 jour du statut"),console.error("Error toggling status:",d)}},M=()=>{z({name:"",section_id:"",description:"",is_active:!0,order:0}),O(null)},B=e=>{O(e),z({name:e.name,section_id:e.section_id.toString(),description:e.description||"",is_active:e.is_active,order:e.order}),E(!0)},I=e=>{O(e),k(!0)},D=n.filter(e=>{const t=e.name.toLowerCase().includes(p.toLowerCase())||e.description&&e.description.toLowerCase().includes(p.toLowerCase())||e.section&&e.section.name.toLowerCase().includes(p.toLowerCase()),n="all"===v||"active"===v&&e.is_active||"inactive"===v&&!e.is_active,r="all"===x||e.section_id.toString()===x;return t&&n&&r});return o?(0,Ae.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,Ae.jsx)(_t,{text:"Chargement des niveaux...",size:"lg"})}):(0,Ae.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gestion des Niveaux"}),(0,Ae.jsxs)("p",{className:"text-gray-600",children:["Bienvenue ",null===e||void 0===e?void 0:e.name," - G\xe9rez les niveaux de classe de l'\xe9tablissement"]})]}),(0,Ae.jsxs)(dt,{onClick:()=>{M(),N(!0)},className:"flex items-center gap-2",children:[(0,Ae.jsx)(nn,{size:16}),"Nouveau Niveau"]})]}),d&&(0,Ae.jsx)(ct,{variant:"error",className:"mb-4",dismissible:!0,onDismiss:()=>u(""),children:d}),m&&(0,Ae.jsx)(ct,{variant:"success",className:"mb-4",dismissible:!0,onDismiss:()=>h(""),children:m}),i&&(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Ae.jsx)(mt,{className:"p-6",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-600",children:"Total Niveaux"}),(0,Ae.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:i.stats.total_levels})]}),(0,Ae.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Ae.jsx)(ln,{className:"text-blue-600",size:24})})]})}),(0,Ae.jsx)(mt,{className:"p-6",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-600",children:"Niveaux Actifs"}),(0,Ae.jsx)("p",{className:"text-2xl font-bold text-green-600",children:i.stats.active_levels})]}),(0,Ae.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,Ae.jsx)(un,{className:"text-green-600",size:24})})]})}),(0,Ae.jsx)(mt,{className:"p-6",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-600",children:"Niveaux Inactifs"}),(0,Ae.jsx)("p",{className:"text-2xl font-bold text-red-600",children:i.stats.inactive_levels})]}),(0,Ae.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:(0,Ae.jsx)(fn,{className:"text-red-600",size:24})})]})}),(0,Ae.jsx)(mt,{className:"p-6",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-600",children:"Avec Classes"}),(0,Ae.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:i.stats.levels_with_classes})]}),(0,Ae.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,Ae.jsx)(bn,{className:"text-purple-600",size:24})})]})})]}),(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"row g-3",children:[(0,Ae.jsxs)("div",{className:"col-md-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Rechercher"}),(0,Ae.jsxs)("div",{className:"position-relative",children:[(0,Ae.jsx)(Nn,{className:"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted",size:16}),(0,Ae.jsx)("input",{type:"text",className:"form-control ps-5",placeholder:"Rechercher un niveau...",value:p,onChange:e=>f(e.target.value)})]})]}),(0,Ae.jsxs)("div",{className:"col-md-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Section"}),(0,Ae.jsxs)("select",{className:"form-select",value:x,onChange:e=>b(e.target.value),children:[(0,Ae.jsx)("option",{value:"all",children:"Toutes les sections"}),s.map(e=>(0,Ae.jsx)("option",{value:e.id.toString(),children:e.name},e.id))]})]}),(0,Ae.jsxs)("div",{className:"col-md-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Statut"}),(0,Ae.jsxs)("select",{className:"form-select",value:v,onChange:e=>g(e.target.value),children:[(0,Ae.jsx)("option",{value:"all",children:"Tous les niveaux"}),(0,Ae.jsx)("option",{value:"active",children:"Niveaux actifs"}),(0,Ae.jsx)("option",{value:"inactive",children:"Niveaux inactifs"})]})]}),(0,Ae.jsxs)("div",{className:"col-md-3 d-flex align-items-end",children:[(0,Ae.jsxs)("div",{className:"btn-group me-3",role:"group",children:[(0,Ae.jsx)("button",{type:"button",className:"btn "+("grid"===y?"btn-primary":"btn-outline-secondary"),onClick:()=>j("grid"),title:"Vue grille",children:(0,Ae.jsx)(kn,{size:16})}),(0,Ae.jsx)("button",{type:"button",className:"btn "+("list"===y?"btn-primary":"btn-outline-secondary"),onClick:()=>j("list"),title:"Vue liste",children:(0,Ae.jsx)(zn,{size:16})})]}),(0,Ae.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>{f(""),g("all"),b("all")},children:"R\xe9initialiser"})]})]})})})})}),0===D.length?(0,Ae.jsxs)(mt,{className:"p-8 text-center",children:[(0,Ae.jsx)("p",{className:"text-gray-500 mb-4",children:"Aucun niveau trouv\xe9"}),(0,Ae.jsxs)(dt,{onClick:()=>{M(),N(!0)},className:"flex items-center gap-2 mx-auto",children:[(0,Ae.jsx)(nn,{size:16}),"Cr\xe9er le premier niveau"]})]}):"grid"===y?(0,Ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:D.map(e=>{var t;return(0,Ae.jsxs)(mt,{className:"p-4 hover:shadow-md transition-shadow duration-200",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Ae.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Ae.jsx)("div",{className:"flex items-center gap-1",children:(0,Ae.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Actif":"Inactif"})})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Section: ",(0,Ae.jsx)("span",{className:"font-medium text-blue-600",children:null===(t=e.section)||void 0===t?void 0:t.name})]}),e.description&&(0,Ae.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]}),(0,Ae.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ae.jsxs)("span",{className:"text-xs text-gray-500",children:["Ordre: ",e.order]}),(0,Ae.jsxs)("div",{className:"flex gap-1",children:[(0,Ae.jsx)(dt,{variant:"ghost",size:"sm",onClick:()=>L(e),title:e.is_active?"D\xe9sactiver":"Activer",children:e.is_active?(0,Ae.jsx)(un,{size:16}):(0,Ae.jsx)(fn,{size:16})}),(0,Ae.jsx)(dt,{variant:"ghost",size:"sm",onClick:()=>B(e),title:"Modifier",children:(0,Ae.jsx)(Ln,{size:16})}),(0,Ae.jsx)(dt,{variant:"ghost",size:"sm",onClick:()=>I(e),className:"text-red-600 hover:text-red-700",title:"Supprimer",children:(0,Ae.jsx)(Dn,{size:16})})]})]})]},e.id)})}):(0,Ae.jsx)("div",{className:"space-y-4",children:D.map(e=>{var t;return(0,Ae.jsx)(mt,{className:"p-4 hover:shadow-md transition-shadow duration-200",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsx)("div",{className:"flex items-center space-x-4 flex-1",children:(0,Ae.jsxs)("div",{className:"flex-1",children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,Ae.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Ae.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Actif":"Inactif"}),(0,Ae.jsx)("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded",children:null===(t=e.section)||void 0===t?void 0:t.name}),(0,Ae.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["Ordre: ",e.order]})]}),e.description&&(0,Ae.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]})}),(0,Ae.jsxs)("div",{className:"flex gap-1 ml-4",children:[(0,Ae.jsx)(dt,{variant:"ghost",size:"sm",onClick:()=>L(e),title:e.is_active?"D\xe9sactiver":"Activer",children:e.is_active?(0,Ae.jsx)(un,{size:16}):(0,Ae.jsx)(fn,{size:16})}),(0,Ae.jsx)(dt,{variant:"ghost",size:"sm",onClick:()=>B(e),title:"Modifier",children:(0,Ae.jsx)(Ln,{size:16})}),(0,Ae.jsx)(dt,{variant:"ghost",size:"sm",onClick:()=>I(e),className:"text-red-600 hover:text-red-700",title:"Supprimer",children:(0,Ae.jsx)(Dn,{size:16})})]})]})},e.id)})}),(0,Ae.jsx)(Pt,{isOpen:w||C,onClose:()=>{N(!1),E(!1),M()},title:_?"Modifier le Niveau":"Nouveau Niveau",children:(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{u(""),h("");const e=_?await Ft.levels.update(_.id,P):await Ft.levels.create(P);e.success?(h(e.message),M(),N(!1),E(!1),T(),R()):u(e.message||"Erreur lors de la sauvegarde")}catch(d){u("Erreur lors de la sauvegarde"),console.error("Error saving level:",d)}},className:"space-y-4",children:[(0,Ae.jsx)(pt,{label:"Nom du niveau",type:"text",value:P.name,onChange:e=>z({...P,name:e.target.value}),required:!0,placeholder:"Ex: CP, CE1, 6\xe8me..."}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section *"}),(0,Ae.jsxs)("select",{value:P.section_id,onChange:e=>z({...P,section_id:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner une section"}),s.filter(e=>e.is_active).map(e=>(0,Ae.jsx)("option",{value:e.id.toString(),children:e.name},e.id))]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ae.jsx)("textarea",{value:P.description,onChange:e=>z({...P,description:e.target.value}),placeholder:"Description du niveau...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Ae.jsx)(pt,{label:"Ordre d'affichage",type:"number",value:P.order,onChange:e=>z({...P,order:parseInt(e.target.value)}),min:"0",placeholder:"0"}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("input",{type:"checkbox",id:"is_active",checked:P.is_active,onChange:e=>z({...P,is_active:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Ae.jsx)("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Niveau actif"})]}),(0,Ae.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,Ae.jsx)(dt,{type:"button",variant:"outline",onClick:()=>{N(!1),E(!1),M()},children:"Annuler"}),(0,Ae.jsx)(dt,{type:"submit",children:_?"Modifier":"Cr\xe9er"})]})]})}),(0,Ae.jsx)(Pt,{isOpen:S,onClose:()=>{k(!1),O(null)},title:"Confirmer la suppression",children:(0,Ae.jsxs)("div",{className:"space-y-4",children:[(0,Ae.jsxs)("p",{className:"text-gray-700",children:["\xcates-vous s\xfbr de vouloir supprimer le niveau ",(0,Ae.jsx)("strong",{children:null===_||void 0===_?void 0:_.name})," ?"]}),(0,Ae.jsx)("p",{className:"text-sm text-red-600",children:"Cette action est irr\xe9versible et ne sera possible que si le niveau ne contient aucune classe."}),(0,Ae.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,Ae.jsx)(dt,{variant:"outline",onClick:()=>{k(!1),O(null)},children:"Annuler"}),(0,Ae.jsx)(dt,{variant:"danger",onClick:async()=>{if(_)try{u("");const e=await Ft.levels.delete(_.id);e.success?(h(e.message),k(!1),O(null),T(),R()):u(e.message||"Erreur lors de la suppression")}catch(d){u("Erreur lors de la suppression"),console.error("Error deleting level:",d)}},children:"Supprimer"})]})]})})]})};var Fn=["color","size","title","className"];function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Un.apply(null,arguments)}var Hn=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Fn);return t.createElement("svg",Un({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-person-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"}))});Hn.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Vn=Hn;var qn=["color","size","title","className"];function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wn.apply(null,arguments)}var Gn=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,qn);return t.createElement("svg",Wn({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-lock-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{fillRule:"evenodd",d:"M8 0a4 4 0 0 1 4 4v2.05a2.5 2.5 0 0 1 2 2.45v5a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 13.5v-5a2.5 2.5 0 0 1 2-2.45V4a4 4 0 0 1 4-4m0 1a3 3 0 0 0-3 3v2h6V4a3 3 0 0 0-3-3"}))});Gn.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Kn=Gn;var Yn=["color","size","title","className"];function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xn.apply(null,arguments)}var Qn=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Yn);return t.createElement("svg",Xn({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-eye-slash-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7 7 0 0 0 2.79-.588M5.21 3.088A7 7 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474z"}),t.createElement("path",{d:"M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12z"}))});Qn.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Jn=Qn;var Zn=["color","size","title","className"];function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er.apply(null,arguments)}var tr=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Zn);return t.createElement("svg",er({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-eye-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"}),t.createElement("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"}))});tr.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const nr=tr,rr=n.p+"static/media/logo.83727b5f090a51f6af10.png",sr={en:{emailOrPseudo:"Email ou pseudo :",login:"Se connecter",logining:"Connexion...",password:"Mot de passe : "},fr:{emailOrPseudo:"Email ou pseudo :",login:"Se connecter",logining:"Connexion...",password:"Mot de passe : "}},ar=()=>{const[e,n]=(0,t.useState)({username:"",password:"",remember:!1}),[r,s]=(0,t.useState)(!1),a=ee(),i=J(),{isAuthenticated:l,user:o}=De(),{handleLogin:c,isSubmitting:d,error:u,success:m,resetLoginState:h}=(()=>{const{login:e,isLoading:n,error:r,clearError:s}=De(),[a,i]=(0,t.useState)({isSubmitting:!1,error:null,success:!1}),l=(0,t.useCallback)(async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i({isSubmitting:!0,error:null,success:!1}),s();try{const r=await e(t);return i({isSubmitting:!1,error:null,success:!0}),n.onSuccess&&n.onSuccess(r),r}catch(r){const t=r.message||"Erreur de connexion";throw i({isSubmitting:!1,error:t,success:!1}),n.onError&&n.onError(r),r}},[e,s]);return{handleLogin:l,resetLoginState:(0,t.useCallback)(()=>{i({isSubmitting:!1,error:null,success:!1}),s()},[s]),isSubmitting:a.isSubmitting||n,error:a.error||r,success:a.success}})(),{persistenceEnabled:p,updatePersistencePreference:f}=(()=>{const{isAuthenticated:e,user:n}=De(),[r,s]=(0,t.useState)(()=>{try{return"true"===localStorage.getItem("auth_persistence_preference")}catch{return!1}}),a=(0,t.useCallback)(e=>{s(e);try{localStorage.setItem("auth_persistence_preference",e.toString())}catch(u){console.error("Erreur lors de la sauvegarde de la pr\xe9f\xe9rence:",u)}},[]);return(0,t.useEffect)(()=>{if(e&&n){const e=r?localStorage:sessionStorage;try{e.setItem("last_auth_state",JSON.stringify({timestamp:Date.now(),userId:n.id,username:n.username}))}catch(u){console.error("Erreur lors de la sauvegarde de l'\xe9tat:",u)}}},[e,n,r]),{persistenceEnabled:r,updatePersistencePreference:a}})();(0,t.useEffect)(()=>{if(l&&o){var e,t;const n=(null===(e=i.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/";a(n,{replace:!0})}},[l,o,a,i]);const v=e=>{switch(e){case"admin":default:return"/";case"accountant":return"/class-comp";case"teacher":return"/students"}},g=(e,t)=>{n(n=>({...n,[e]:t})),u&&h()};return(0,Ae.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-violet-50 via-white to-primary-violet-100 p-4",children:[(0,Ae.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Ae.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full bg-primary-violet-100 opacity-50"}),(0,Ae.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full bg-primary-violet-50 opacity-50"})]}),(0,Ae.jsxs)("div",{className:"relative w-full max-w-md",children:[(0,Ae.jsxs)("div",{className:"text-center mb-8",children:[(0,Ae.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r from-primary-violet to-primary-violet-dark shadow-lg mb-4",children:(0,Ae.jsx)("img",{src:rr,style:{objectFit:"cover",width:"70%",height:"70%"},alt:"GSBPL Logo",className:"w-12 h-12 rounded-full"})}),(0,Ae.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"CPBD"}),(0,Ae.jsx)("p",{className:"text-gray-600",children:"Syst\xe8me de Gestion de Coll\xe8ge"})]}),(0,Ae.jsx)(mt,{className:"shadow-xl border-0 backdrop-blur-sm bg-white/95",children:(0,Ae.jsxs)(mt.Content,{className:"p-8",children:[(0,Ae.jsxs)("div",{className:"text-center mb-6",children:[(0,Ae.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:sr[Qt()].login}),(0,Ae.jsx)("p",{className:"text-gray-600",children:"Connectez-vous \xe0 votre compte"})]}),u&&(0,Ae.jsx)(ct,{variant:"error",className:"mb-6",dismissible:!0,onDismiss:()=>h(),children:u}),m&&(0,Ae.jsx)(ct,{variant:"success",className:"mb-6",children:"Connexion r\xe9ussie ! Redirection en cours..."}),(0,Ae.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e.username.trim()&&e.password)try{await c(e,{onSuccess:t=>{var n,r;f(e.remember);const s=(null===(n=i.state)||void 0===n||null===(r=n.from)||void 0===r?void 0:r.pathname)||v(t.user.role);a(s,{replace:!0})}})}catch(u){console.error("Erreur de connexion:",u)}},className:"space-y-6",children:[(0,Ae.jsx)(pt,{label:sr[Qt()].emailOrPseudo,type:"text",value:e.username,onChange:e=>g("username",e.target.value),placeholder:"Entrez votre nom d'utilisateur",icon:(0,Ae.jsx)(Vn,{size:18}),iconPosition:"left",required:!0,disabled:d}),(0,Ae.jsx)(pt,{label:sr[Qt()].password,type:r?"text":"password",value:e.password,onChange:e=>g("password",e.target.value),placeholder:"Entrez votre mot de passe",icon:(0,Ae.jsx)(Kn,{size:18}),iconPosition:"left",required:!0,disabled:d,containerClassName:"relative",children:(0,Ae.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",onClick:()=>s(!r),disabled:d,children:r?(0,Ae.jsx)(Jn,{size:18}):(0,Ae.jsx)(nr,{size:18})})}),(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsxs)("label",{className:"flex items-center",children:[(0,Ae.jsx)("input",{type:"checkbox",checked:e.remember,onChange:e=>g("remember",e.target.checked),className:"w-4 h-4 text-primary-violet border-gray-300 rounded focus:ring-primary-violet focus:ring-2",disabled:d}),(0,Ae.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Se souvenir de moi"})]}),(0,Ae.jsx)("button",{type:"button",className:"text-sm text-primary-violet hover:text-primary-violet-dark transition-colors",disabled:d,children:"Mot de passe oubli\xe9?"})]}),(0,Ae.jsx)(dt,{type:"submit",variant:"primary",fullWidth:!0,size:"lg",disabled:d||!e.username.trim()||!e.password,loading:d,children:d?sr[Qt()].logining:sr[Qt()].login})]}),(0,Ae.jsx)("div",{className:"mt-6 text-center",children:(0,Ae.jsxs)("p",{className:"text-sm text-gray-600",children:["Probl\xe8me de connexion?"," ",(0,Ae.jsx)("button",{className:"text-primary-violet hover:text-primary-violet-dark font-medium transition-colors",disabled:d,children:"Contacter l'administrateur"})]})})]})}),(0,Ae.jsx)("div",{className:"text-center mt-8",children:(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:"\xa92025 Coll\xe8ge Polyvalent Bilingue de Douala. Tous droits r\xe9serv\xe9s."})})]}),d&&(0,Ae.jsx)("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:(0,Ae.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-xl",children:(0,Ae.jsx)(_t,{text:"Connexion en cours..."})})})]})};var ir=["color","size","title","className"];function lr(){return lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lr.apply(null,arguments)}var or=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,ir);return t.createElement("svg",lr({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-credit-card",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v1h14V4a1 1 0 0 0-1-1zm13 4H1v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1z"}),t.createElement("path",{d:"M2 10a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z"}))});or.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const cr=or;var dr=["color","size","title","className"];function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ur.apply(null,arguments)}var mr=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,dr);return t.createElement("svg",ur({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-grip-vertical",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0"}))});mr.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const hr=mr;var pr=["color","size","title","className"];function fr(){return fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fr.apply(null,arguments)}var vr=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,pr);return t.createElement("svg",fr({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-pencil-square",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),t.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"}))});vr.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const gr=vr;var xr=n(64),br=n.n(xr);const yr=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(null),[a,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[f,v]=(0,t.useState)(null),[g,x]=(0,t.useState)(null),[b,y]=(0,t.useState)(""),[j,w]=(0,t.useState)("all"),[N,C]=(0,t.useState)("grid"),[E,S]=(0,t.useState)({name:"",description:"",order:0});(0,t.useEffect)(()=>{k(),_()},[]);const k=async()=>{try{i(!0);const e=await Ft.paymentTranches.getAll();e.success?n(e.data):o(e.message||"Erreur lors du chargement des tranches")}catch(l){o("Erreur lors du chargement des tranches"),console.error("Error loading payment tranches:",l)}finally{i(!1)}},_=async()=>{try{const e=await Ft.paymentTranches.getAll();if(e.success){const t=e.data,n={total_tranches:t.length,active_tranches:t.filter(e=>e.is_active).length,inactive_tranches:t.filter(e=>!e.is_active).length,with_classes:0};s({stats:n})}}catch(l){console.error("Error loading dashboard:",l)}},O=e=>{v(e),S({name:e.name,description:e.description||"",order:e.order}),p(!0)},P=async e=>{try{const t=await Ft.paymentTranches.getUsageStats(e.id);if(!t.success)return void o("Erreur lors de la v\xe9rification de l'utilisation de la tranche");const n=t.data;let r=`\xcates-vous s\xfbr de vouloir supprimer la tranche "${e.name}" ?`,s="";if(n.has_usage){r="\u26a0\ufe0f Attention : Suppression en cascade";let e="";n.class_names&&n.class_names.length>0&&(e=n.class_names.join(", "),n.classes_count>n.class_names.length&&(e+=` et ${n.classes_count-n.class_names.length} autre(s)`)),s=`\n                    <div class="text-left">\n                        <p><strong>Cette tranche est utilis\xe9e par ${n.classes_count} classe(s).</strong></p>\n                        ${e?`<p><strong>Classes concern\xe9es :</strong> ${e}</p>`:""}\n                        <p class="text-danger">\n                            <strong>La supprimer entra\xeenera la suppression automatique de tous les montants \n                            de paiement associ\xe9s dans ces classes.</strong>\n                        </p>\n                        <p>Cette action est <strong>irr\xe9versible</strong>. Voulez-vous vraiment continuer ?</p>\n                    </div>\n                `}if((await br().fire({title:r,html:s||`\xcates-vous s\xfbr de vouloir supprimer la tranche "${e.name}" ?`,icon:n.has_usage?"warning":"question",showCancelButton:!0,confirmButtonColor:"#EF4444",cancelButtonColor:"#6B7280",confirmButtonText:n.has_usage?"Oui, supprimer tout":"Oui, supprimer",cancelButtonText:"Annuler",width:"600px",customClass:{htmlContainer:"text-left"}})).isConfirmed){const t=await Ft.paymentTranches.delete(e.id);if(t.success){k(),_(),d(t.message||"La tranche a \xe9t\xe9 supprim\xe9e avec succ\xe8s");const e=t.deleted_amounts_count>0?"Suppression en cascade effectu\xe9e":"Supprim\xe9e";br().fire({title:e,text:t.message||"La tranche a \xe9t\xe9 supprim\xe9e avec succ\xe8s",icon:"success",timer:4e3,showConfirmButton:!1})}else o(t.message||"Erreur lors de la suppression de la tranche")}}catch(l){console.error("Error deleting payment tranche:",l),o("Erreur lors de la suppression de la tranche")}},z=()=>{S({name:"",description:"",order:0}),v(null)},T=()=>{m(!1),p(!1),z(),o("")},A=(e,t)=>{x(t),e.dataTransfer.effectAllowed="move"},R=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},L=async(t,r)=>{if(t.preventDefault(),!g||g.id===r.id)return void x(null);const s=[...e],a=s.findIndex(e=>e.id===g.id),i=s.findIndex(e=>e.id===r.id);s.splice(a,1),s.splice(i,0,g);const c=s.map((e,t)=>({...e,order:t+1}));n(c),x(null);try{const e={tranches:c.map(e=>({id:e.id,order:e.order}))},t=await Ft.paymentTranches.reorder(e);t.success?br().fire({title:"Succ\xe8s",text:t.message||"Ordre des tranches mis \xe0 jour",icon:"success",timer:2e3,showConfirmButton:!1}):(o(t.message||"Erreur lors de la r\xe9organisation des tranches"),k())}catch(l){console.error("Error reordering payment tranches:",l),o("Erreur lors de la r\xe9organisation des tranches"),k()}},M=e.filter(e=>{const t=e.name.toLowerCase().includes(b.toLowerCase())||e.description&&e.description.toLowerCase().includes(b.toLowerCase()),n="all"===j||"active"===j&&e.is_active||"inactive"===j&&!e.is_active;return t&&n});return(0,Ae.jsxs)("div",{className:"container-fluid py-4",children:[(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{className:"h4 mb-1",children:"Gestion des Tranches de Paiement"}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Configurez les tranches de paiement qui seront utilis\xe9es lors de la cr\xe9ation des classes"})]}),(0,Ae.jsxs)("button",{className:"btn btn-primary d-flex align-items-center gap-2",onClick:()=>m(!0),children:[(0,Ae.jsx)(nn,{size:16}),"Nouvelle Tranche"]})]})})}),l&&(0,Ae.jsx)("div",{className:"row mb-3",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[l,(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:()=>o(""),"aria-label":"Close"})]})})}),c&&(0,Ae.jsx)("div",{className:"row mb-3",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[c,(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:()=>d(""),"aria-label":"Close"})]})})}),r&&(0,Ae.jsxs)("div",{className:"row mb-4",children:[(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsx)("div",{className:"card text-center",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-muted mb-1",children:"Total Tranches"}),(0,Ae.jsx)("h4",{className:"text-primary mb-0",children:r.stats.total_tranches})]}),(0,Ae.jsx)("div",{className:"bg-primary bg-opacity-10 p-3 rounded",children:(0,Ae.jsx)(cr,{className:"text-primary",size:24})})]})})})}),(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsx)("div",{className:"card text-center",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-muted mb-1",children:"Tranches Actives"}),(0,Ae.jsx)("h4",{className:"text-success mb-0",children:r.stats.active_tranches})]}),(0,Ae.jsx)("div",{className:"bg-success bg-opacity-10 p-3 rounded",children:(0,Ae.jsx)(un,{className:"text-success",size:24})})]})})})}),(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsx)("div",{className:"card text-center",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-muted mb-1",children:"Tranches Inactives"}),(0,Ae.jsx)("h4",{className:"text-danger mb-0",children:r.stats.inactive_tranches})]}),(0,Ae.jsx)("div",{className:"bg-danger bg-opacity-10 p-3 rounded",children:(0,Ae.jsx)(fn,{className:"text-danger",size:24})})]})})})}),(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsx)("div",{className:"card text-center",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-muted mb-1",children:"Ordre Moyen"}),(0,Ae.jsx)("h4",{className:"text-info mb-0",children:e.length>0?Math.round(e.reduce((e,t)=>e+t.order,0)/e.length):0})]}),(0,Ae.jsx)("div",{className:"bg-info bg-opacity-10 p-3 rounded",children:(0,Ae.jsx)(hr,{className:"text-info",size:24})})]})})})})]}),(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"row g-3",children:[(0,Ae.jsxs)("div",{className:"col-md-4",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Rechercher"}),(0,Ae.jsxs)("div",{className:"position-relative",children:[(0,Ae.jsx)(Nn,{className:"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted",size:16}),(0,Ae.jsx)("input",{type:"text",className:"form-control ps-5",placeholder:"Rechercher une tranche...",value:b,onChange:e=>y(e.target.value)})]})]}),(0,Ae.jsxs)("div",{className:"col-md-4",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Statut"}),(0,Ae.jsxs)("select",{className:"form-select",value:j,onChange:e=>w(e.target.value),children:[(0,Ae.jsx)("option",{value:"all",children:"Toutes les tranches"}),(0,Ae.jsx)("option",{value:"active",children:"Tranches actives"}),(0,Ae.jsx)("option",{value:"inactive",children:"Tranches inactives"})]})]}),(0,Ae.jsxs)("div",{className:"col-md-4 d-flex align-items-end",children:[(0,Ae.jsxs)("div",{className:"btn-group me-3",role:"group",children:[(0,Ae.jsx)("button",{type:"button",className:"btn "+("grid"===N?"btn-primary":"btn-outline-secondary"),onClick:()=>C("grid"),title:"Vue grille",children:(0,Ae.jsx)(kn,{size:16})}),(0,Ae.jsx)("button",{type:"button",className:"btn "+("list"===N?"btn-primary":"btn-outline-secondary"),onClick:()=>C("list"),title:"Vue liste",children:(0,Ae.jsx)(zn,{size:16})})]}),(0,Ae.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>{y(""),w("all")},children:"R\xe9initialiser"})]})]})})})})}),(0,Ae.jsx)("div",{className:"row",children:(0,Ae.jsx)("div",{className:"col-12",children:a?(0,Ae.jsx)("div",{className:"text-center py-5",children:(0,Ae.jsx)("div",{className:"spinner-border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement des tranches..."})})}):0===M.length?(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("div",{className:"card-body text-center py-5",children:[(0,Ae.jsx)("h5",{className:"text-muted",children:"Aucune tranche trouv\xe9e"}),(0,Ae.jsx)("p",{className:"text-muted mb-4",children:b||"all"!==j?"Aucune tranche ne correspond \xe0 vos crit\xe8res de recherche.":"Commencez par cr\xe9er votre premi\xe8re tranche de paiement."}),(0,Ae.jsxs)("button",{className:"btn btn-primary",onClick:()=>m(!0),children:[(0,Ae.jsx)(nn,{size:16,className:"me-2"}),"Cr\xe9er une tranche"]})]})}):"grid"===N?(0,Ae.jsx)("div",{className:"row",children:M.map(e=>(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Ae.jsx)("div",{className:"card h-100 shadow-sm hover-card",draggable:!0,onDragStart:t=>A(t,e),onDragOver:R,onDrop:t=>L(t,e),style:{cursor:"move"},children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)("div",{className:"bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"32px",height:"32px",fontSize:"14px",fontWeight:"bold"},children:e.order}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h6",{className:"card-title mb-1",children:e.name}),(0,Ae.jsx)("span",{className:"badge "+(e.is_active?"bg-success":"bg-secondary"),children:e.is_active?"Active":"Inactive"})]})]}),(0,Ae.jsx)(hr,{className:"text-muted",size:16})]}),e.description&&(0,Ae.jsx)("p",{className:"card-text text-muted small mb-3",children:e.description}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,Ae.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>O(e),title:"Modifier",children:(0,Ae.jsx)(gr,{size:14})}),(0,Ae.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>P(e),title:"Supprimer",children:(0,Ae.jsx)(Dn,{size:14})})]})]})})},e.id))}):(0,Ae.jsx)("div",{className:"list-group",children:M.map(e=>(0,Ae.jsx)("div",{className:"list-group-item list-group-item-action border mb-2 rounded",draggable:!0,onDragStart:t=>A(t,e),onDragOver:R,onDrop:t=>L(t,e),style:{cursor:"move"},children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(hr,{className:"text-muted me-3",size:20}),(0,Ae.jsx)("div",{className:"bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"32px",height:"32px",fontSize:"14px",fontWeight:"bold"},children:e.order}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h6",{className:"mb-1",children:e.name}),e.description&&(0,Ae.jsx)("p",{className:"mb-1 text-muted small",children:e.description}),(0,Ae.jsx)("span",{className:"badge "+(e.is_active?"bg-success":"bg-secondary"),children:e.is_active?"Active":"Inactive"})]})]}),(0,Ae.jsxs)("div",{className:"d-flex gap-2",children:[(0,Ae.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>O(e),title:"Modifier",children:(0,Ae.jsx)(gr,{size:14})}),(0,Ae.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>P(e),title:"Supprimer",children:(0,Ae.jsx)(Dn,{size:14})})]})]})},e.id))})})}),(u||h)&&(0,Ae.jsx)("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Ae.jsx)("div",{className:"modal-dialog",children:(0,Ae.jsxs)("div",{className:"modal-content",children:[(0,Ae.jsxs)("div",{className:"modal-header",children:[(0,Ae.jsx)("h5",{className:"modal-title",children:f?"Modifier la Tranche":"Ajouter une Tranche"}),(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:T})]}),(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{let e;i(!0),f?(e=await Ft.paymentTranches.update(f.id,E),p(!1),v(null)):(e=await Ft.paymentTranches.create(E),m(!1)),e.success?(z(),k(),_(),d(e.message||`Tranche ${f?"modifi\xe9e":"cr\xe9\xe9e"} avec succ\xe8s`),br().fire({title:"Succ\xe8s",text:e.message||`Tranche ${f?"modifi\xe9e":"cr\xe9\xe9e"} avec succ\xe8s`,icon:"success",timer:2e3,showConfirmButton:!1})):o(e.message||`Erreur lors de ${f?"la modification":"la cr\xe9ation"} de la tranche`)}catch(l){console.error("Error submitting payment tranche:",l),o(`Erreur lors de ${f?"la modification":"la cr\xe9ation"} de la tranche`)}finally{i(!1)}},children:[(0,Ae.jsxs)("div",{className:"modal-body",children:[(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Nom de la tranche *"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",value:E.name,onChange:e=>S({...E,name:e.target.value}),placeholder:"Ex: Inscription, 1er Trimestre...",required:!0})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Description"}),(0,Ae.jsx)("textarea",{className:"form-control",rows:"3",value:E.description,onChange:e=>S({...E,description:e.target.value}),placeholder:"Description de la tranche..."})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Ordre d'affichage"}),(0,Ae.jsx)("input",{type:"number",className:"form-control",value:E.order,onChange:e=>S({...E,order:parseInt(e.target.value)}),min:"0"})]})]}),(0,Ae.jsxs)("div",{className:"modal-footer",children:[(0,Ae.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:T,children:"Annuler"}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Enregistrement...":f?"Modifier":"Cr\xe9er"})]})]})]})})}),(0,Ae.jsx)("style",{jsx:!0,children:"\n                .hover-card {\n                    transition: box-shadow 0.2s ease-in-out;\n                }\n                .hover-card:hover {\n                    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\n                }\n            "})]})};var jr=["color","size","title","className"];function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wr.apply(null,arguments)}var Nr=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,jr);return t.createElement("svg",wr({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-chevron-down",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"}))});Nr.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Cr=Nr;var Er=["color","size","title","className"];function Sr(){return Sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sr.apply(null,arguments)}var kr=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Er);return t.createElement("svg",Sr({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-chevron-right",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"}))});kr.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const _r=kr;var Or=["color","size","title","className"];function Pr(){return Pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pr.apply(null,arguments)}var zr=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Or);return t.createElement("svg",Pr({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-people",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"}))});zr.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Tr=zr;var Ar=["color","size","title","className"];function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rr.apply(null,arguments)}var Lr=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Ar);return t.createElement("svg",Rr({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-eye",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}),t.createElement("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"}))});Lr.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Mr=Lr,Br=!("undefined"===typeof window||!window.document||!window.document.createElement);var Ir=!1,Dr=!1;try{var $r={get passive(){return Ir=!0},get once(){return Dr=Ir=!0}};Br&&(window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,!0))}catch(yb){}const Fr=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Dr){var s=r.once,a=r.capture,i=n;!Dr&&s&&(i=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=i),e.addEventListener(t,i,Ir?r:a)}e.addEventListener(t,n,r)};function Ur(e){return e&&e.ownerDocument||document}const Hr=function(e,t,n,r){var s=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,s),n.__once&&e.removeEventListener(t,n.__once,s)};var Vr;function qr(e){if((!Vr&&0!==Vr||e)&&Br){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Vr=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Vr}const Wr=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)(()=>{n.current=e},[e]),n};function Gr(e){const n=Wr(e);return(0,t.useCallback)(function(){return n.current&&n.current(...arguments)},[n])}const Kr=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Yr=function(e,n){return(0,t.useMemo)(()=>function(e,t){const n=Kr(e),r=Kr(t);return e=>{n&&n(e),r&&r(e)}}(e,n),[e,n])};function Xr(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)(()=>()=>n.current(),[])}function Qr(e,t){return function(e){var t=Ur(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Jr=/([A-Z])/g;var Zr=/^ms-/;function es(e){return function(e){return e.replace(Jr,"-$1").toLowerCase()}(e).replace(Zr,"-ms-")}var ts=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const ns=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(es(t))||Qr(e).getPropertyValue(es(t));Object.keys(t).forEach(function(s){var a=t[s];a||0===a?!function(e){return!(!e||!ts.test(e))}(s)?n+=es(s)+": "+a+";":r+=s+"("+a+") ":e.style.removeProperty(es(s))}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};const rs=function(e,t,n,r){return Fr(e,t,n,r),function(){Hr(e,t,n,r)}};function ss(e,t,n){void 0===n&&(n=5);var r=!1,s=setTimeout(function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var s=document.createEvent("HTMLEvents");s.initEvent(t,n,r),e.dispatchEvent(s)}}(e,"transitionend",!0)},t+n),a=rs(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),a()}}function as(e,t,n,r){null==n&&(n=function(e){var t=ns(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var s=ss(e,n,r),a=rs(e,"transitionend",t);return function(){s(),a()}}function is(e){void 0===e&&(e=Ur());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(yb){return e.body}}function ls(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function os(){const e=(0,t.useRef)(!0),n=(0,t.useRef)(()=>e.current);return(0,t.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),n.current}function cs(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)(()=>()=>n.current(),[])}function ds(e){const n=(0,t.useRef)(null);return(0,t.useEffect)(()=>{n.current=e}),n.current}const us=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)(()=>{n.current=e},[e]),n};function ms(e){const n=us(e);return(0,t.useCallback)(function(){return n.current&&n.current(...arguments)},[n])}function hs(e){return`data-rr-ui-${e}`}const ps=hs("modal-open");const fs=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(ns(r,n)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(ps,""),ns(r,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(ps),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},vs=(0,t.createContext)(Br?window:void 0);vs.Provider;function gs(){return(0,t.useContext)(vs)}const xs=(e,t)=>Br?null==e?(t||Ur()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function bs(e,n){const r=gs(),[s,a]=(0,t.useState)(()=>xs(e,null==r?void 0:r.document));if(!s){const t=xs(e);t&&a(t)}return(0,t.useEffect)(()=>{n&&s&&n(s)},[n,s]),(0,t.useEffect)(()=>{const t=xs(e);t!==s&&a(t)},[e,s]),s}const ys=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const js=function(e,n){return(0,t.useMemo)(()=>function(e,t){const n=ys(e),r=ys(t);return e=>{n&&n(e),r&&r(e)}}(e,n),[e,n])},ws="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Ns="undefined"!==typeof document||ws?t.useLayoutEffect:t.useEffect;function Cs(e){return"Escape"===e.code||27===e.keyCode}function Es(e){if(!e||"function"===typeof e)return null;const{major:n}=function(){const e=t.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}();return n>=19?e.props.ref:e.ref}const Ss=function(e){let{children:n,in:r,onExited:s,mountOnEnter:a,unmountOnExit:i}=e;const l=(0,t.useRef)(null),o=(0,t.useRef)(r),c=ms(s);(0,t.useEffect)(()=>{r?o.current=!0:c(l.current)},[r,c]);const d=js(l,Es(n)),u=(0,t.cloneElement)(n,{ref:d});return r?u:i||!o.current&&a?null:u},ks=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const _s=["component"];const Os=t.forwardRef((e,n)=>{let{component:r}=e;const s=function(e){let{onEnter:n,onEntering:r,onEntered:s,onExit:a,onExiting:i,onExited:l,addEndListener:o,children:c}=e,d=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,ks);const u=(0,t.useRef)(null),m=js(u,Es(c)),h=e=>t=>{e&&u.current&&e(u.current,t)},p=(0,t.useCallback)(h(n),[n]),f=(0,t.useCallback)(h(r),[r]),v=(0,t.useCallback)(h(s),[s]),g=(0,t.useCallback)(h(a),[a]),x=(0,t.useCallback)(h(i),[i]),b=(0,t.useCallback)(h(l),[l]),y=(0,t.useCallback)(h(o),[o]);return Object.assign({},d,{nodeRef:u},n&&{onEnter:p},r&&{onEntering:f},s&&{onEntered:v},a&&{onExit:g},i&&{onExiting:x},l&&{onExited:b},o&&{addEndListener:y},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:m})):(0,t.cloneElement)(c,{ref:m})})}(function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,_s));return(0,Ae.jsx)(r,Object.assign({ref:n},s))});function Ps(e){let{children:n,in:r,onExited:s,onEntered:a,transition:i}=e;const[l,o]=(0,t.useState)(!r);r&&l&&o(!1);const c=function(e){let{in:n,onTransition:r}=e;const s=(0,t.useRef)(null),a=(0,t.useRef)(!0),i=ms(r);return Ns(()=>{if(!s.current)return;let e=!1;return i({in:n,element:s.current,initial:a.current,isStale:()=>e}),()=>{e=!0}},[n,i]),Ns(()=>(a.current=!1,()=>{a.current=!0}),[]),s}({in:!!r,onTransition:e=>{Promise.resolve(i(e)).then(()=>{e.isStale()||(e.in?null==a||a(e.element,e.initial):(o(!0),null==s||s(e.element)))},t=>{throw e.in||o(!0),t})}}),d=js(c,Es(n));return l&&!r?null:(0,t.cloneElement)(n,{ref:d})}function zs(e,t,n){return e?(0,Ae.jsx)(Os,Object.assign({},n,{component:e})):t?(0,Ae.jsx)(Ps,Object.assign({},n,{transition:t})):(0,Ae.jsx)(Ss,Object.assign({},n))}const Ts=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let As;function Rs(e){const n=gs(),r=e||function(e){return As||(As=new fs({ownerDocument:null==e?void 0:e.document})),As}(n),s=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>r.add(s.current),remove:()=>r.remove(s.current),isTopModal:()=>r.isTopModal(s.current),setDialogRef:(0,t.useCallback)(e=>{s.current.dialog=e},[]),setBackdropRef:(0,t.useCallback)(e=>{s.current.backdrop=e},[])})}const Ls=(0,t.forwardRef)((e,n)=>{let{show:r=!1,role:s="dialog",className:i,style:l,children:o,backdrop:c=!0,keyboard:d=!0,onBackdropClick:u,onEscapeKeyDown:m,transition:h,runTransition:p,backdropTransition:f,runBackdropTransition:v,autoFocus:g=!0,enforceFocus:x=!0,restoreFocus:b=!0,restoreFocusOptions:y,renderDialog:j,renderBackdrop:w=e=>(0,Ae.jsx)("div",Object.assign({},e)),manager:N,container:C,onShow:E,onHide:S=()=>{},onExit:k,onExited:_,onExiting:O,onEnter:P,onEntering:z,onEntered:T}=e,A=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Ts);const R=gs(),L=bs(C),M=Rs(N),B=os(),I=ds(r),[D,$]=(0,t.useState)(!r),F=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,()=>M,[M]),Br&&!I&&r&&(F.current=is(null==R?void 0:R.document)),r&&D&&$(!1);const U=ms(()=>{if(M.add(),K.current=rs(document,"keydown",W),G.current=rs(document,"focus",()=>setTimeout(V),!0),E&&E(),g){var e,t;const n=is(null!=(e=null==(t=M.dialog)?void 0:t.ownerDocument)?e:null==R?void 0:R.document);M.dialog&&n&&!ls(M.dialog,n)&&(F.current=n,M.dialog.focus())}}),H=ms(()=>{var e;(M.remove(),null==K.current||K.current(),null==G.current||G.current(),b)&&(null==(e=F.current)||null==e.focus||e.focus(y),F.current=null)});(0,t.useEffect)(()=>{r&&L&&U()},[r,L,U]),(0,t.useEffect)(()=>{D&&H()},[D,H]),cs(()=>{H()});const V=ms(()=>{if(!x||!B()||!M.isTopModal())return;const e=is(null==R?void 0:R.document);M.dialog&&e&&!ls(M.dialog,e)&&M.dialog.focus()}),q=ms(e=>{e.target===e.currentTarget&&(null==u||u(e),!0===c&&S())}),W=ms(e=>{d&&Cs(e)&&M.isTopModal()&&(null==m||m(e),e.defaultPrevented||S())}),G=(0,t.useRef)(),K=(0,t.useRef)();if(!L)return null;const Y=Object.assign({role:s,ref:M.setDialogRef,"aria-modal":"dialog"===s||void 0},A,{style:l,className:i,tabIndex:-1});let X=j?j(Y):(0,Ae.jsx)("div",Object.assign({},Y,{children:t.cloneElement(o,{role:"document"})}));X=zs(h,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:k,onExiting:O,onExited:function(){$(!0),null==_||_(...arguments)},onEnter:P,onEntering:z,onEntered:T,children:X});let Q=null;return c&&(Q=w({ref:M.setBackdropRef,onClick:q}),Q=zs(f,v,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Q})),(0,Ae.jsx)(Ae.Fragment,{children:a.createPortal((0,Ae.jsxs)(Ae.Fragment,{children:[Q,X]}),L)})});Ls.displayName="Modal";const Ms=Object.assign(Ls,{Manager:fs});function Bs(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}var Is=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ds(e,t){return Is(e.querySelectorAll(t))}function $s(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Fs=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Us=".sticky-top",Hs=".navbar-toggler";class Vs extends fs{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,ns(t,{[e]:`${parseFloat(ns(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],ns(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):Bs(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Ds(t,Fs).forEach(t=>this.adjustAndStore(s,t,e.scrollBarWidth)),Ds(t,Us).forEach(t=>this.adjustAndStore(a,t,-e.scrollBarWidth)),Ds(t,Hs).forEach(t=>this.adjustAndStore(a,t,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=$s(n.className,r):n.setAttribute("class",$s(n.className&&n.className.baseVal||"",r));const s=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Ds(t,Fs).forEach(e=>this.restore(s,e)),Ds(t,Us).forEach(e=>this.restore(a,e)),Ds(t,Hs).forEach(e=>this.restore(a,e))}}let qs;function Ws(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function Gs(e,t){return Gs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gs(e,t)}const Ks=!1,Ys=t.createContext(null);var Xs="unmounted",Qs="exited",Js="entering",Zs="entered",ea="exiting",ta=function(e){var n,r;function s(t,n){var r;r=e.call(this,t,n)||this;var s,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(s=Qs,r.appearStatus=Js):s=Zs:s=t.unmountOnExit||t.mountOnEnter?Xs:Qs,r.state={status:s},r.nextCallback=null,r}r=e,(n=s).prototype=Object.create(r.prototype),n.prototype.constructor=n,Gs(n,r),s.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Xs?{status:Qs}:null};var i=s.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Js&&n!==Zs&&(t=Js):n!==Js&&n!==Zs||(t=ea)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Js){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Qs&&this.setState({status:Xs})},i.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,s=this.props.nodeRef?[r]:[a.findDOMNode(this),r],i=s[0],l=s[1],o=this.getTimeouts(),c=r?o.appear:o.enter;!e&&!n||Ks?this.safeSetState({status:Zs},function(){t.props.onEntered(i)}):(this.props.onEnter(i,l),this.safeSetState({status:Js},function(){t.props.onEntering(i,l),t.onTransitionEnd(c,function(){t.safeSetState({status:Zs},function(){t.props.onEntered(i,l)})})}))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!Ks?(this.props.onExit(r),this.safeSetState({status:ea},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:Qs},function(){e.props.onExited(r)})})})):this.safeSetState({status:Qs},function(){e.props.onExited(r)})},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=s[0],l=s[1];this.props.addEndListener(i,l)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===Xs)return null;var n=this.props,r=n.children,s=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Ws(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Ys.Provider,{value:null},"function"===typeof r?r(e,s):t.cloneElement(t.Children.only(r),s))},s}(t.Component);function na(){}ta.contextType=Ys,ta.propTypes={},ta.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:na,onEntering:na,onEntered:na,onExit:na,onExiting:na,onExited:na},ta.UNMOUNTED=Xs,ta.EXITED=Qs,ta.ENTERING=Js,ta.ENTERED=Zs,ta.EXITING=ea;const ra=ta;function sa(e,t){const n=ns(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function aa(e,t){const n=sa(e,"transitionDuration"),r=sa(e,"transitionDelay"),s=as(e,n=>{n.target===e&&(s(),t(n))},n+r)}function ia(e){return e&&"setState"in e?a.findDOMNode(e):null!=e?e:null}const la=t.forwardRef((e,n)=>{let{onEnter:r,onEntering:s,onEntered:a,onExit:i,onExiting:l,onExited:o,addEndListener:c,children:d,childRef:u,...m}=e;const h=(0,t.useRef)(null),p=Yr(h,u),f=e=>{p(ia(e))},v=e=>t=>{e&&h.current&&e(h.current,t)},g=(0,t.useCallback)(v(r),[r]),x=(0,t.useCallback)(v(s),[s]),b=(0,t.useCallback)(v(a),[a]),y=(0,t.useCallback)(v(i),[i]),j=(0,t.useCallback)(v(l),[l]),w=(0,t.useCallback)(v(o),[o]),N=(0,t.useCallback)(v(c),[c]);return(0,Ae.jsx)(ra,{ref:n,...m,onEnter:g,onEntered:b,onEntering:x,onExit:y,onExited:w,onExiting:j,addEndListener:N,nodeRef:h,children:"function"===typeof d?(e,t)=>d(e,{...t,ref:f}):t.cloneElement(d,{ref:f})})});la.displayName="TransitionWrapper";const oa=la,ca={[Js]:"show",[Zs]:"show"},da=t.forwardRef((e,n)=>{let{className:r,children:s,transitionClasses:a={},onEnter:i,...l}=e;const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...l},c=(0,t.useCallback)((e,t)=>{!function(e){e.offsetHeight}(e),null==i||i(e,t)},[i]);return(0,Ae.jsx)(oa,{ref:n,addEndListener:aa,...o,onEnter:c,childRef:Es(s),children:(e,n)=>t.cloneElement(s,{...n,className:vt()("fade",r,s.props.className,ca[e],a[e])})})});da.displayName="Fade";const ua=da,ma=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="div",...a}=e;return r=wt(r,"modal-body"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});ma.displayName="ModalBody";const ha=ma,pa=t.createContext({onHide(){}}),fa=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,contentClassName:s,centered:a,size:i,fullscreen:l,children:o,scrollable:c,...d}=e;n=wt(n,"modal");const u=`${n}-dialog`,m="string"===typeof l?`${n}-fullscreen-${l}`:`${n}-fullscreen`;return(0,Ae.jsx)("div",{...d,ref:t,className:vt()(u,r,i&&`${n}-${i}`,a&&`${u}-centered`,c&&`${u}-scrollable`,l&&m),children:(0,Ae.jsx)("div",{className:vt()(`${n}-content`,s),children:o})})});fa.displayName="ModalDialog";const va=fa,ga=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="div",...a}=e;return r=wt(r,"modal-footer"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});ga.displayName="ModalFooter";const xa=ga,ba={"aria-label":Ue().string,onClick:Ue().func,variant:Ue().oneOf(["white"])},ya=t.forwardRef((e,t)=>{let{className:n,variant:r,"aria-label":s="Close",...a}=e;return(0,Ae.jsx)("button",{ref:t,type:"button",className:vt()("btn-close",r&&`btn-close-${r}`,n),"aria-label":s,...a})});ya.displayName="CloseButton",ya.propTypes=ba;const ja=ya,wa=t.forwardRef((e,n)=>{let{closeLabel:r="Close",closeVariant:s,closeButton:a=!1,onHide:i,children:l,...o}=e;const c=(0,t.useContext)(pa),d=Gr(()=>{null==c||c.onHide(),null==i||i()});return(0,Ae.jsxs)("div",{ref:n,...o,children:[l,a&&(0,Ae.jsx)(ja,{"aria-label":r,variant:s,onClick:d})]})});wa.displayName="AbstractModalHeader";const Na=wa,Ca=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,closeLabel:s="Close",closeButton:a=!1,...i}=e;return n=wt(n,"modal-header"),(0,Ae.jsx)(Na,{ref:t,...i,className:vt()(r,n),closeLabel:s,closeButton:a})});Ca.displayName="ModalHeader";const Ea=Ca,Sa=e=>t.forwardRef((t,n)=>(0,Ae.jsx)("div",{...t,ref:n,className:vt()(t.className,e)})),ka=Sa("h4"),_a=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s=ka,...a}=e;return r=wt(r,"modal-title"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});_a.displayName="ModalTitle";const Oa=_a;function Pa(e){return(0,Ae.jsx)(ua,{...e,timeout:null})}function za(e){return(0,Ae.jsx)(ua,{...e,timeout:null})}const Ta=t.forwardRef((e,n)=>{let{bsPrefix:r,className:s,style:a,dialogClassName:i,contentClassName:l,children:o,dialogAs:c=va,"data-bs-theme":d,"aria-labelledby":u,"aria-describedby":m,"aria-label":h,show:p=!1,animation:f=!0,backdrop:v=!0,keyboard:g=!0,onEscapeKeyDown:x,onShow:b,onHide:y,container:j,autoFocus:w=!0,enforceFocus:N=!0,restoreFocus:C=!0,restoreFocusOptions:E,onEntered:S,onExit:k,onExiting:_,onEnter:O,onEntering:P,onExited:z,backdropClassName:T,manager:A,...R}=e;const[L,M]=(0,t.useState)({}),[B,I]=(0,t.useState)(!1),D=(0,t.useRef)(!1),$=(0,t.useRef)(!1),F=(0,t.useRef)(null),[U,H]=(0,t.useState)(null),V=Yr(n,H),q=Gr(y),W=Et();r=wt(r,"modal");const G=(0,t.useMemo)(()=>({onHide:q}),[q]);function K(){return A||function(e){return qs||(qs=new Vs(e)),qs}({isRTL:W})}function Y(e){if(!Br)return;const t=K().getScrollbarWidth()>0,n=e.scrollHeight>Ur(e).documentElement.clientHeight;M({paddingRight:t&&!n?qr():void 0,paddingLeft:!t&&n?qr():void 0})}const X=Gr(()=>{U&&Y(U.dialog)});Xr(()=>{Hr(window,"resize",X),null==F.current||F.current()});const Q=()=>{D.current=!0},J=e=>{D.current&&U&&e.target===U.dialog&&($.current=!0),D.current=!1},Z=()=>{I(!0),F.current=as(U.dialog,()=>{I(!1)})},ee=e=>{"static"!==v?$.current||e.target!==e.currentTarget?$.current=!1:null==y||y():(e=>{e.target===e.currentTarget&&Z()})(e)},te=(0,t.useCallback)(e=>(0,Ae.jsx)("div",{...e,className:vt()(`${r}-backdrop`,T,!f&&"show")}),[f,T,r]),ne={...a,...L};ne.display="block";return(0,Ae.jsx)(pa.Provider,{value:G,children:(0,Ae.jsx)(Ms,{show:p,ref:V,backdrop:v,container:j,keyboard:!0,autoFocus:w,enforceFocus:N,restoreFocus:C,restoreFocusOptions:E,onEscapeKeyDown:e=>{g?null==x||x(e):(e.preventDefault(),"static"===v&&Z())},onShow:b,onHide:y,onEnter:(e,t)=>{e&&Y(e),null==O||O(e,t)},onEntering:(e,t)=>{null==P||P(e,t),Fr(window,"resize",X)},onEntered:S,onExit:e=>{null==F.current||F.current(),null==k||k(e)},onExiting:_,onExited:e=>{e&&(e.style.display=""),null==z||z(e),Hr(window,"resize",X)},manager:K(),transition:f?Pa:void 0,backdropTransition:f?za:void 0,renderBackdrop:te,renderDialog:e=>(0,Ae.jsx)("div",{role:"dialog",...e,style:ne,className:vt()(s,r,B&&`${r}-static`,!f&&"show"),onClick:v?ee:void 0,onMouseUp:J,"data-bs-theme":d,"aria-label":h,"aria-labelledby":u,"aria-describedby":m,children:(0,Ae.jsx)(c,{...R,onMouseDown:Q,className:i,contentClassName:l,children:o})})})})});Ta.displayName="Modal";const Aa=Object.assign(Ta,{Body:ha,Header:Ea,Title:Oa,Footer:xa,Dialog:va,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Ra=["as","disabled"];function La(e){let{tagName:t,disabled:n,href:r,target:s,rel:a,role:i,onClick:l,tabIndex:o=0,type:c}=e;t||(t=null!=r||null!=s||null!=a?"a":"button");const d={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},d];const u=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==l||l(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=i?i:"button",disabled:void 0,tabIndex:n?void 0:o,href:r,target:"a"===t?s:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const Ma=t.forwardRef((e,t)=>{let{as:n,disabled:r}=e,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Ra);const[a,{tagName:i}]=La(Object.assign({tagName:n,disabled:r},s));return(0,Ae.jsx)(i,Object.assign({},s,a,{ref:t}))});Ma.displayName="Button";const Ba=Ma,Ia=t.forwardRef((e,t)=>{let{as:n,bsPrefix:r,variant:s="primary",size:a,active:i=!1,disabled:l=!1,className:o,...c}=e;const d=wt(r,"btn"),[u,{tagName:m}]=La({tagName:n,disabled:l,...c}),h=m;return(0,Ae.jsx)(h,{...u,...c,ref:t,disabled:l,className:vt()(o,d,i&&"active",s&&`${d}-${s}`,a&&`${d}-${a}`,c.href&&l&&"disabled")})});Ia.displayName="Button";const Da=Ia;var $a=["color","size","title","className"];function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fa.apply(null,arguments)}var Ua=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,$a);return t.createElement("svg",Fa({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-trash2",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M14 3a.7.7 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225A.7.7 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2M3.215 4.207l1.493 8.957a1 1 0 0 0 .986.836h4.612a1 1 0 0 0 .986-.836l1.493-8.957C11.69 4.689 9.954 5 8 5s-3.69-.311-4.785-.793"}))});Ua.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Ha=Ua,Va=e=>{let{show:n,onHide:r,onSuccess:s,sections:a,levels:i}=e;const[l,o]=(0,t.useState)({name:"",level_id:"",description:"",is_active:!0,series:[{name:"",code:"",capacity:"",is_active:!0}],payment_amounts:[]}),[c,d]=(0,t.useState)([]),[u,m]=(0,t.useState)(""),[h,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{n&&f()},[n]),(0,t.useEffect)(()=>{c.length>0&&o(e=>({...e,payment_amounts:c.map(e=>({payment_tranche_id:e.id,new_student_amount:"",old_student_amount:""}))}))},[c]);const f=async()=>{try{const e=await Ft.paymentTranches.getAll();e.success?d(e.data):(console.error("Erreur lors du chargement des tranches:",e.message),d([]))}catch(e){console.error("Erreur lors du chargement des tranches:",e),d([])}},v=(e,t,n)=>{o(r=>({...r,series:r.series.map((r,s)=>s===e?{...r,[t]:n}:r)}))},g=(e,t,n)=>{o(r=>({...r,payment_amounts:r.payment_amounts.map(r=>r.payment_tranche_id===e?{...r,[t]:n}:r)}))},x=async e=>{e.preventDefault();try{if(!l.name.trim())return void br().fire("Erreur","Le nom de la classe est requis","error");if(!l.level_id)return void br().fire("Erreur","Veuillez s\xe9lectionner un niveau","error");for(let n=0;n<l.series.length;n++){if(!l.series[n].name.trim())return void br().fire("Erreur",`Le nom de la s\xe9rie ${n+1} est requis`,"error")}for(const n of l.payment_amounts){if(n.new_student_amount&&isNaN(n.new_student_amount))return void br().fire("Erreur","Les montants doivent \xeatre des nombres","error");if(n.old_student_amount&&isNaN(n.old_student_amount))return void br().fire("Erreur","Les montants doivent \xeatre des nombres","error")}const e={...l,payment_amounts:l.payment_amounts.filter(e=>e.new_student_amount||e.old_student_amount)};p(!0);const t=await Ft.schoolClasses.create(e);t.success?(br().fire("Succ\xe8s",t.message||"Classe cr\xe9\xe9e avec succ\xe8s","success"),s(),b()):br().fire("Erreur",t.message||"Erreur lors de la cr\xe9ation de la classe","error")}catch(t){console.error("Error creating class:",t),br().fire("Erreur","Erreur lors de la cr\xe9ation de la classe","error")}finally{p(!1)}},b=()=>{o({name:"",level_id:"",description:"",is_active:!0,series:[{name:"",code:"",capacity:"",is_active:!0}],payment_amounts:[]}),m("")};return(0,Ae.jsxs)(Aa,{show:n,onHide:r,size:"lg",scrollable:!0,children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsx)(Aa.Title,{children:"Cr\xe9er une Nouvelle Classe"})}),(0,Ae.jsx)(Aa.Body,{children:(0,Ae.jsxs)("form",{onSubmit:x,children:[(0,Ae.jsxs)("div",{className:"mb-4",children:[(0,Ae.jsx)("h6",{className:"text-primary mb-3",children:"Informations de Base"}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Nom de la classe *"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",value:l.name,onChange:e=>o(t=>({...t,name:e.target.value})),placeholder:"Ex: 6\xe8me A, CP1 B...",required:!0})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Niveau *"}),(0,Ae.jsxs)("select",{className:"form-select",value:l.level_id,onChange:e=>(e=>{const t=i.find(t=>t.id===parseInt(e));m((null===t||void 0===t?void 0:t.section_id)||""),o(t=>({...t,level_id:e}))})(e.target.value),required:!0,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner un niveau"}),i.filter(e=>e.is_active).map(e=>{var t;return(0,Ae.jsxs)("option",{value:e.id,children:[null===(t=e.section)||void 0===t?void 0:t.name," - ",e.name]},e.id)})]})]})})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Description"}),(0,Ae.jsx)("textarea",{className:"form-control",rows:"3",value:l.description,onChange:e=>o(t=>({...t,description:e.target.value})),placeholder:"Description de la classe..."})]}),(0,Ae.jsxs)("div",{className:"form-check",children:[(0,Ae.jsx)("input",{className:"form-check-input",type:"checkbox",checked:l.is_active,onChange:e=>o(t=>({...t,is_active:e.target.checked})),id:"classActive"}),(0,Ae.jsx)("label",{className:"form-check-label",htmlFor:"classActive",children:"Classe active"})]})]}),(0,Ae.jsxs)("div",{className:"mb-4",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,Ae.jsx)("h6",{className:"text-primary mb-0",children:"S\xe9ries de la Classe"}),(0,Ae.jsxs)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>{o(e=>({...e,series:[...e.series,{name:"",code:"",capacity:"",is_active:!0}]}))},children:[(0,Ae.jsx)(nn,{size:16,className:"me-1"}),"Ajouter S\xe9rie"]})]}),l.series.map((e,t)=>(0,Ae.jsx)("div",{className:"card mb-3",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[(0,Ae.jsxs)("h6",{className:"card-title mb-0",children:["S\xe9rie ",t+1]}),l.series.length>1&&(0,Ae.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>(e=>{l.series.length>1&&o(t=>({...t,series:t.series.filter((t,n)=>n!==e)}))})(t),children:(0,Ae.jsx)(Ha,{size:14})})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-4",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Nom *"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",value:e.name,onChange:e=>v(t,"name",e.target.value),placeholder:"Ex: A, B, C...",required:!0})]})}),(0,Ae.jsx)("div",{className:"col-md-4",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Code"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",value:e.code,onChange:e=>v(t,"code",e.target.value),placeholder:"Code optionnel"})]})}),(0,Ae.jsx)("div",{className:"col-md-4",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Capacit\xe9"}),(0,Ae.jsx)("input",{type:"number",className:"form-control",value:e.capacity,onChange:e=>v(t,"capacity",e.target.value),placeholder:"Nombre max d'\xe9l\xe8ves",min:"1"})]})})]}),(0,Ae.jsxs)("div",{className:"form-check",children:[(0,Ae.jsx)("input",{className:"form-check-input",type:"checkbox",checked:e.is_active,onChange:e=>v(t,"is_active",e.target.checked),id:`serieActive${t}`}),(0,Ae.jsx)("label",{className:"form-check-label",htmlFor:`serieActive${t}`,children:"S\xe9rie active"})]})]})},t))]}),(0,Ae.jsxs)("div",{className:"mb-4",children:[(0,Ae.jsxs)("h6",{className:"text-success mb-3",children:[(0,Ae.jsx)(cr,{size:16,className:"me-2"}),"Montants de Paiement",(0,Ae.jsxs)("span",{className:"badge bg-info ms-2",children:[c.length," tranche",c.length>1?"s":""]})]}),0===c.length?(0,Ae.jsxs)("div",{className:"alert alert-info",children:[(0,Ae.jsx)("p",{className:"mb-0",children:(0,Ae.jsx)("strong",{children:"Aucune tranche de paiement configur\xe9e."})}),(0,Ae.jsx)("small",{className:"text-muted",children:'Les tranches de paiement doivent \xeatre cr\xe9\xe9es avant de pouvoir configurer les montants des classes. Allez dans la section "Tranches de Paiement" pour en cr\xe9er.'})]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("p",{className:"text-muted mb-3",children:"Configurez les montants pour chaque tranche de paiement. Laissez vide pour ne pas configurer une tranche."}),c.map(e=>{const t=l.payment_amounts.find(t=>t.payment_tranche_id===e.id);return(0,Ae.jsx)("div",{className:"card mb-3",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsx)("h6",{className:"card-title",children:e.name}),e.description&&(0,Ae.jsx)("p",{className:"text-muted small mb-3",children:e.description}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Nouvel \xe9l\xe8ve (FCFA)"}),(0,Ae.jsx)("input",{type:"number",className:"form-control",value:(null===t||void 0===t?void 0:t.new_student_amount)||"",onChange:t=>g(e.id,"new_student_amount",t.target.value),placeholder:"Montant pour nouveaux \xe9l\xe8ves",min:"0"})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Ancien \xe9l\xe8ve (FCFA)"}),(0,Ae.jsx)("input",{type:"number",className:"form-control",value:(null===t||void 0===t?void 0:t.old_student_amount)||"",onChange:t=>g(e.id,"old_student_amount",t.target.value),placeholder:"Montant pour anciens \xe9l\xe8ves",min:"0"})]})})]})]})},e.id)})]})]})]})}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:r,children:"Annuler"}),(0,Ae.jsx)(Da,{variant:"primary",onClick:x,disabled:h,children:h?"Cr\xe9ation...":"Cr\xe9er la Classe"})]})]})},qa=e=>{let{show:n,onHide:r,onSuccess:s,classData:a,sections:i,levels:l}=e;const[o,c]=(0,t.useState)({name:"",level_id:"",description:"",is_active:!0,series:[],payment_amounts:[]}),[d,u]=(0,t.useState)([]),[m,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(!1);(0,t.useEffect)(()=>{n&&a&&(g(),v())},[n,a]);const v=()=>{var e,t;c({name:a.name||"",level_id:a.level_id||"",description:a.description||"",is_active:void 0===a.is_active||a.is_active,series:(null===(e=a.series)||void 0===e?void 0:e.map(e=>({id:e.id,name:e.name||"",code:e.code||"",capacity:e.capacity||"",is_active:void 0===e.is_active||e.is_active})))||[],payment_amounts:(null===(t=a.payment_amounts)||void 0===t?void 0:t.map(e=>({id:e.id,payment_tranche_id:e.payment_tranche_id,new_student_amount:e.amount_new_students||"",old_student_amount:e.amount_old_students||""})))||[]});const n=l.find(e=>e.id===a.level_id);h((null===n||void 0===n?void 0:n.section_id)||"")},g=async()=>{try{const e=await Ft.paymentTranches.getAll();e.success?u(e.data):(console.error("Erreur lors du chargement des tranches:",e.message),u([]))}catch(e){console.error("Erreur lors du chargement des tranches:",e),u([])}};(0,t.useEffect)(()=>{if(d.length>0&&a){console.log("Updating payment amounts with tranches loaded"),console.log("paymentTranches:",d),console.log("classData.payment_amounts:",a.payment_amounts);const e=a.payment_amounts||[],t=d.map(t=>{const n=e.find(e=>e.payment_tranche_id===t.id);return console.log(`For tranche ${t.id} (${t.name}), found existing:`,n),n?{id:n.id,payment_tranche_id:t.id,new_student_amount:n.amount_new_students||"",old_student_amount:n.amount_old_students||""}:{payment_tranche_id:t.id,new_student_amount:"",old_student_amount:""}});console.log("Final updatedAmounts:",t),c(e=>({...e,payment_amounts:t}))}},[d,a]);const x=(e,t,n)=>{c(r=>({...r,series:r.series.map((r,s)=>s===e?{...r,[t]:n}:r)}))},b=()=>{c(e=>({...e,series:[...e.series,{name:"",code:"",capacity:"",is_active:!0}]}))},y=(e,t,n)=>{c(r=>({...r,payment_amounts:r.payment_amounts.map(r=>r.payment_tranche_id===e?{...r,[t]:n}:r)}))},j=async e=>{e.preventDefault();try{if(!o.name.trim())return void br().fire("Erreur","Le nom de la classe est requis","error");if(!o.level_id)return void br().fire("Erreur","Veuillez s\xe9lectionner un niveau","error");for(let n=0;n<o.series.length;n++){if(!o.series[n].name.trim())return void br().fire("Erreur",`Le nom de la s\xe9rie ${n+1} est requis`,"error")}for(const n of o.payment_amounts){if(n.new_student_amount&&isNaN(n.new_student_amount))return void br().fire("Erreur","Les montants doivent \xeatre des nombres","error");if(n.old_student_amount&&isNaN(n.old_student_amount))return void br().fire("Erreur","Les montants doivent \xeatre des nombres","error")}const e={...o,payment_amounts:o.payment_amounts.filter(e=>e.new_student_amount||e.old_student_amount)};f(!0);const t=await Ft.schoolClasses.update(a.id,e);t.success?(br().fire("Succ\xe8s",t.message||"Classe modifi\xe9e avec succ\xe8s","success"),s()):br().fire("Erreur",t.message||"Erreur lors de la modification de la classe","error")}catch(t){console.error("Error updating class:",t),br().fire("Erreur","Erreur lors de la modification de la classe","error")}finally{f(!1)}};return(0,Ae.jsxs)(Aa,{show:n,onHide:r,size:"lg",scrollable:!0,children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsx)(Aa.Title,{children:"Modifier la Classe"})}),(0,Ae.jsx)(Aa.Body,{children:(0,Ae.jsxs)("form",{onSubmit:j,children:[(0,Ae.jsxs)("div",{className:"mb-4",children:[(0,Ae.jsx)("h6",{className:"text-primary mb-3",children:"Informations de Base"}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Nom de la classe *"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",value:o.name,onChange:e=>c(t=>({...t,name:e.target.value})),placeholder:"Ex: 6\xe8me A, CP1 B...",required:!0})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Niveau *"}),(0,Ae.jsxs)("select",{className:"form-select",value:o.level_id,onChange:e=>(e=>{const t=l.find(t=>t.id===parseInt(e));h((null===t||void 0===t?void 0:t.section_id)||""),c(t=>({...t,level_id:e}))})(e.target.value),required:!0,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner un niveau"}),l.filter(e=>e.is_active).map(e=>{var t;return(0,Ae.jsxs)("option",{value:e.id,children:[null===(t=e.section)||void 0===t?void 0:t.name," - ",e.name]},e.id)})]})]})})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Description"}),(0,Ae.jsx)("textarea",{className:"form-control",rows:"3",value:o.description,onChange:e=>c(t=>({...t,description:e.target.value})),placeholder:"Description de la classe..."})]}),(0,Ae.jsxs)("div",{className:"form-check",children:[(0,Ae.jsx)("input",{className:"form-check-input",type:"checkbox",checked:o.is_active,onChange:e=>c(t=>({...t,is_active:e.target.checked})),id:"classActive"}),(0,Ae.jsx)("label",{className:"form-check-label",htmlFor:"classActive",children:"Classe active"})]})]}),(0,Ae.jsxs)("div",{className:"mb-4",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,Ae.jsx)("h6",{className:"text-primary mb-0",children:"S\xe9ries de la Classe"}),(0,Ae.jsxs)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:b,children:[(0,Ae.jsx)(nn,{size:16,className:"me-1"}),"Ajouter S\xe9rie"]})]}),o.series.map((e,t)=>(0,Ae.jsx)("div",{className:"card mb-3",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[(0,Ae.jsxs)("h6",{className:"card-title mb-0",children:["S\xe9rie ",t+1,e.id&&(0,Ae.jsx)("small",{className:"text-muted ms-2",children:"(Existante)"})]}),(0,Ae.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>(e=>{o.series[e].id?br().fire({title:"Confirmer la suppression",text:"\xcates-vous s\xfbr de vouloir supprimer cette s\xe9rie ? Cette action est irr\xe9versible.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Supprimer",cancelButtonText:"Annuler"}).then(t=>{t.isConfirmed&&c(t=>({...t,series:t.series.filter((t,n)=>n!==e)}))}):c(t=>({...t,series:t.series.filter((t,n)=>n!==e)}))})(t),children:(0,Ae.jsx)(Ha,{size:14})})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-4",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Nom *"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",value:e.name,onChange:e=>x(t,"name",e.target.value),placeholder:"Ex: A, B, C...",required:!0})]})}),(0,Ae.jsx)("div",{className:"col-md-4",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Code"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",value:e.code,onChange:e=>x(t,"code",e.target.value),placeholder:"Code optionnel"})]})}),(0,Ae.jsx)("div",{className:"col-md-4",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Capacit\xe9"}),(0,Ae.jsx)("input",{type:"number",className:"form-control",value:e.capacity,onChange:e=>x(t,"capacity",e.target.value),placeholder:"Nombre max d'\xe9l\xe8ves",min:"1"})]})})]}),(0,Ae.jsxs)("div",{className:"form-check",children:[(0,Ae.jsx)("input",{className:"form-check-input",type:"checkbox",checked:e.is_active,onChange:e=>x(t,"is_active",e.target.checked),id:`serieActive${t}`}),(0,Ae.jsx)("label",{className:"form-check-label",htmlFor:`serieActive${t}`,children:"S\xe9rie active"})]})]})},t)),0===o.series.length&&(0,Ae.jsxs)("div",{className:"text-center py-4",children:[(0,Ae.jsx)("p",{className:"text-muted mb-3",children:"Aucune s\xe9rie configur\xe9e"}),(0,Ae.jsxs)("button",{type:"button",className:"btn btn-outline-primary",onClick:b,children:[(0,Ae.jsx)(nn,{size:16,className:"me-1"}),"Ajouter la premi\xe8re s\xe9rie"]})]})]}),(0,Ae.jsxs)("div",{className:"mb-4",children:[(0,Ae.jsxs)("h6",{className:"text-success mb-3",children:[(0,Ae.jsx)(cr,{size:16,className:"me-2"}),"Montants de Paiement",(0,Ae.jsxs)("span",{className:"badge bg-info ms-2",children:[d.length," tranche",d.length>1?"s":""]})]}),0===d.length?(0,Ae.jsxs)("div",{className:"alert alert-info",children:[(0,Ae.jsx)("p",{className:"mb-0",children:(0,Ae.jsx)("strong",{children:"Aucune tranche de paiement configur\xe9e."})}),(0,Ae.jsx)("small",{className:"text-muted",children:'Les tranches de paiement doivent \xeatre cr\xe9\xe9es avant de pouvoir configurer les montants des classes. Allez dans la section "Tranches de Paiement" pour en cr\xe9er.'})]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("p",{className:"text-muted mb-3",children:"Configurez les montants pour chaque tranche de paiement. Laissez vide pour ne pas configurer une tranche."}),d.map(e=>{const t=o.payment_amounts.find(t=>t.payment_tranche_id===e.id);return(0,Ae.jsx)("div",{className:"card mb-3",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsx)("h6",{className:"card-title",children:e.name}),e.description&&(0,Ae.jsx)("p",{className:"text-muted small mb-3",children:e.description}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Nouvel \xe9l\xe8ve (FCFA)"}),(0,Ae.jsx)("input",{type:"number",className:"form-control",value:(null===t||void 0===t?void 0:t.new_student_amount)||"",onChange:t=>y(e.id,"new_student_amount",t.target.value),placeholder:"Montant pour nouveaux \xe9l\xe8ves",min:"0"})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Ancien \xe9l\xe8ve (FCFA)"}),(0,Ae.jsx)("input",{type:"number",className:"form-control",value:(null===t||void 0===t?void 0:t.old_student_amount)||"",onChange:t=>y(e.id,"old_student_amount",t.target.value),placeholder:"Montant pour anciens \xe9l\xe8ves",min:"0"})]})})]})]})},e.id)})]})]})]})}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:r,children:"Annuler"}),(0,Ae.jsx)(Da,{variant:"primary",onClick:j,disabled:p,children:p?"Modification...":"Modifier la Classe"})]})]})},Wa=()=>{const e=ee(),[n,r]=(0,t.useState)([]),[s,a]=(0,t.useState)([]),[i,l]=(0,t.useState)([]),[o,c]=(0,t.useState)({}),[d,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[v,g]=(0,t.useState)({section_id:"",level_id:""}),[x,b]=(0,t.useState)(!1),[y,j]=(0,t.useState)(""),{isAuthenticated:w,isLoading:N}=De();(0,t.useEffect)(()=>{w&&!N&&C()},[w,N]),(0,t.useEffect)(()=>{w&&!N&&E()},[v,w,N]);const C=async()=>{try{console.log("Loading initial data - sections and levels...");const[e,t]=await Promise.all([Ft.sections.getAll(),Ft.levels.getAll()]);console.log("Sections response:",e),console.log("Levels response:",t),e.success&&a(e.data||[]),t.success&&l(t.data||[])}catch(y){console.error("Erreur lors du chargement des donn\xe9es:",y),j("Erreur lors du chargement des sections et niveaux")}},E=async()=>{try{let e;b(!0),console.log("Loading classes with filters:",v),e=v.section_id?await Ft.schoolClasses.getBySection(v.section_id):v.level_id?await Ft.schoolClasses.getByLevel(v.level_id):await Ft.schoolClasses.getAll(),console.log("Classes response:",e),e.success?r(e.data||[]):j(e.message||"Erreur lors du chargement des classes")}catch(y){console.error("Erreur lors du chargement des classes:",y),j("Erreur lors du chargement des classes")}finally{b(!1)}},S=()=>{u(!0)},k=n.reduce((e,t)=>{var n,r,s;const a=`${(null===(n=t.level)||void 0===n||null===(r=n.section)||void 0===r?void 0:r.name)||"Sans section"} - ${(null===(s=t.level)||void 0===s?void 0:s.name)||"Sans niveau"}`;return e[a]||(e[a]=[]),e[a].push(t),e},{});return N?(0,Ae.jsx)("div",{className:"text-center py-5",children:(0,Ae.jsx)("div",{className:"spinner-border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement de l'authentification..."})})}):w?(0,Ae.jsxs)("div",{className:"container-fluid py-4",children:[(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{className:"h4 mb-1",children:"Gestion des Classes"}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"G\xe9rez les classes, leurs s\xe9ries et montants de paiement"})]}),(0,Ae.jsxs)("button",{className:"btn btn-primary d-flex align-items-center gap-2",onClick:S,children:[(0,Ae.jsx)(nn,{size:16}),"Nouvelle Classe"]})]})})}),(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"row g-3",children:[(0,Ae.jsxs)("div",{className:"col-md-4",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Section"}),(0,Ae.jsxs)("select",{className:"form-select",value:v.section_id,onChange:e=>g(t=>({...t,section_id:e.target.value,level_id:""})),children:[(0,Ae.jsx)("option",{value:"",children:"Toutes les sections"}),s.map(e=>(0,Ae.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Ae.jsxs)("div",{className:"col-md-4",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Niveau"}),(0,Ae.jsxs)("select",{className:"form-select",value:v.level_id,onChange:e=>g(t=>({...t,level_id:e.target.value})),children:[(0,Ae.jsx)("option",{value:"",children:"Tous les niveaux"}),(v.section_id?i.filter(e=>e.section_id===parseInt(v.section_id)):i).map(e=>(0,Ae.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Ae.jsx)("div",{className:"col-md-4 d-flex align-items-end",children:(0,Ae.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>g({section_id:"",level_id:""}),children:"R\xe9initialiser"})})]})})})})}),y&&(0,Ae.jsx)("div",{className:"row mb-3",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[y,(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:()=>j(""),"aria-label":"Close"})]})})}),(0,Ae.jsx)("div",{className:"row",children:(0,Ae.jsx)("div",{className:"col-12",children:x?(0,Ae.jsx)("div",{className:"text-center py-5",children:(0,Ae.jsx)("div",{className:"spinner-border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement..."})})}):0===Object.keys(k).length?(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("div",{className:"card-body text-center py-5",children:[(0,Ae.jsx)("h5",{className:"text-muted",children:"Aucune classe trouv\xe9e"}),(0,Ae.jsx)("p",{className:"text-muted mb-4",children:"Commencez par cr\xe9er votre premi\xe8re classe"}),(0,Ae.jsxs)("button",{className:"btn btn-primary",onClick:S,children:[(0,Ae.jsx)(nn,{size:16,className:"me-2"}),"Cr\xe9er une classe"]})]})}):(0,Ae.jsx)("div",{className:"accordion",id:"classesAccordion",children:Object.entries(k).map((t,n)=>{let[r,s]=t;return(0,Ae.jsxs)("div",{className:"card mb-3",children:[(0,Ae.jsx)("div",{className:"card-header bg-light",children:(0,Ae.jsxs)("h6",{className:"mb-0 d-flex align-items-center",children:[(0,Ae.jsx)(bn,{size:16,className:"me-2 text-primary"}),r,(0,Ae.jsxs)("span",{className:"badge bg-primary ms-2",children:[s.length," classe",s.length>1?"s":""]})]})}),(0,Ae.jsx)("div",{className:"card-body p-0",children:s.map(t=>{var n,r,s;return(0,Ae.jsxs)("div",{className:"border-bottom",children:[(0,Ae.jsxs)("div",{className:"p-3 d-flex justify-content-between align-items-center cursor-pointer",onClick:()=>{return e=t.id,void c(t=>({...t,[e]:!t[e]}));var e},style:{cursor:"pointer"},children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[o[t.id]?(0,Ae.jsx)(Cr,{size:16,className:"me-2 text-muted"}):(0,Ae.jsx)(_r,{size:16,className:"me-2 text-muted"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h6",{className:"mb-1",children:t.name}),(0,Ae.jsxs)("small",{className:"text-muted",children:[(null===(n=t.series)||void 0===n?void 0:n.length)||0," s\xe9rie",((null===(r=t.series)||void 0===r?void 0:r.length)||0)>1?"s":"",(null===(s=t.payment_amounts)||void 0===s?void 0:s.length)>0&&(0,Ae.jsxs)(Ae.Fragment,{children:[" \u2022 ",t.payment_amounts.length," tranche",t.payment_amounts.length>1?"s":""," configur\xe9e",t.payment_amounts.length>1?"s":""]})]})]})]}),(0,Ae.jsxs)("div",{className:"d-flex gap-2",children:[(0,Ae.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:e=>{e.stopPropagation(),(e=>{f(e),h(!0)})(t)},title:"Modifier",children:(0,Ae.jsx)(gr,{size:14})}),(0,Ae.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:e=>{e.stopPropagation(),(async e=>{if((await br().fire({title:"Confirmer la suppression",text:`\xcates-vous s\xfbr de vouloir supprimer la classe "${e.name}" ?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Supprimer",cancelButtonText:"Annuler"})).isConfirmed)try{const t=await Ft.schoolClasses.delete(e.id);t.success?(E(),br().fire("Supprim\xe9!","La classe a \xe9t\xe9 supprim\xe9e.","success")):br().fire("Erreur!",t.message||"Erreur lors de la suppression.","error")}catch(y){br().fire("Erreur!","Erreur lors de la suppression.","error")}})(t)},title:"Supprimer",children:(0,Ae.jsx)(Dn,{size:14})})]})]}),o[t.id]&&(0,Ae.jsx)("div",{className:"px-3 pb-3",children:(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6",children:[(0,Ae.jsxs)("h6",{className:"text-primary mb-3",children:[(0,Ae.jsx)(Tr,{size:16,className:"me-2"}),"S\xe9ries"]}),t.series&&t.series.length>0?(0,Ae.jsx)("div",{className:"list-group list-group-flush",children:t.series.map(t=>(0,Ae.jsx)("div",{className:"list-group-item border-0 px-0 py-2",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{className:"flex-grow-1",children:[(0,Ae.jsx)("strong",{children:t.name}),t.code&&(0,Ae.jsxs)("small",{className:"text-muted ms-2",children:["(",t.code,")"]}),(0,Ae.jsxs)("div",{className:"small text-muted",children:["Capacit\xe9: ",t.capacity||"Non d\xe9finie"]})]}),(0,Ae.jsxs)("div",{className:"text-end",children:[(0,Ae.jsx)("div",{className:"mb-2",children:(0,Ae.jsx)("span",{className:`badge ${t.is_active?"bg-success":"bg-secondary"} me-2`,children:t.is_active?"Active":"Inactive"})}),(0,Ae.jsxs)("button",{className:"btn btn-sm btn-outline-info",onClick:n=>{var r;n.stopPropagation(),r=t.id,e(`/students/series/${r}`)},title:"Voir les \xe9l\xe8ves",children:[(0,Ae.jsx)(Mr,{size:12,className:"me-1"}),"\xc9l\xe8ves"]})]})]})},t.id))}):(0,Ae.jsx)("p",{className:"text-muted",children:"Aucune s\xe9rie configur\xe9e"})]}),(0,Ae.jsxs)("div",{className:"col-md-6",children:[(0,Ae.jsxs)("h6",{className:"text-success mb-3",children:[(0,Ae.jsx)(cr,{size:16,className:"me-2"}),"Montants de Paiement"]}),t.payment_amounts&&t.payment_amounts.length>0?(0,Ae.jsx)("div",{className:"list-group list-group-flush",children:t.payment_amounts.map(e=>{var t,n,r,s;return(0,Ae.jsx)("div",{className:"list-group-item border-0 px-0 py-2",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("strong",{children:null===(t=e.payment_tranche)||void 0===t?void 0:t.name}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("small",{className:"text-muted",children:null===(n=e.payment_tranche)||void 0===n?void 0:n.description})]}),(0,Ae.jsxs)("div",{className:"text-end",children:[(0,Ae.jsxs)("div",{className:"fw-bold text-success",children:[null===(r=e.amount_new_students)||void 0===r?void 0:r.toLocaleString()," FCFA"]}),(0,Ae.jsxs)("small",{className:"text-muted",children:["Ancien: ",null===(s=e.amount_old_students)||void 0===s?void 0:s.toLocaleString()," FCFA"]})]})]})},e.id)})}):(0,Ae.jsx)("p",{className:"text-muted",children:"Aucun montant configur\xe9"})]})]})})]},t.id)})})]},r)})})})}),d&&(0,Ae.jsx)(Va,{show:d,onHide:()=>u(!1),onSuccess:()=>{u(!1),E()},sections:s,levels:i}),m&&p&&(0,Ae.jsx)(qa,{show:m,onHide:()=>{h(!1),f(null)},onSuccess:()=>{h(!1),f(null),E()},classData:p,sections:s,levels:i})]}):(0,Ae.jsx)("div",{className:"text-center py-5",children:(0,Ae.jsx)("h5",{className:"text-muted",children:"Vous devez \xeatre connect\xe9 pour acc\xe9der \xe0 cette page"})})},Ga=t.forwardRef((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:s="div",className:a,...i}=e;const l=wt(n,"container"),o="string"===typeof r?`-${r}`:"-fluid";return(0,Ae.jsx)(s,{ref:t,...i,className:vt()(a,r?`${l}${o}`:l)})});Ga.displayName="Container";const Ka=Ga,Ya=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:s="div",...a}=e;const i=wt(n,"row"),l=Nt(),o=Ct(),c=`${i}-cols`,d=[];return l.forEach(e=>{const t=a[e];let n;delete a[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==o?`-${e}`:"";null!=n&&d.push(`${c}${r}-${n}`)}),(0,Ae.jsx)(s,{ref:t,...a,className:vt()(r,i,...d)})});Ya.displayName="Row";const Xa=Ya;const Qa=t.forwardRef((e,t)=>{const[{className:n,...r},{as:s="div",bsPrefix:a,spans:i}]=function(e){let{as:t,bsPrefix:n,className:r,...s}=e;n=wt(n,"col");const a=Nt(),i=Ct(),l=[],o=[];return a.forEach(e=>{const t=s[e];let r,a,c;delete s[e],"object"===typeof t&&null!=t?({span:r,offset:a,order:c}=t):r=t;const d=e!==i?`-${e}`:"";r&&l.push(!0===r?`${n}${d}`:`${n}${d}-${r}`),null!=c&&o.push(`order${d}-${c}`),null!=a&&o.push(`offset${d}-${a}`)}),[{...s,className:vt()(r,...l,...o)},{as:t,bsPrefix:n,spans:l}]}(e);return(0,Ae.jsx)(s,{...r,ref:t,className:vt()(n,!i.length&&a)})});Qa.displayName="Col";const Ja=Qa;function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Za.apply(null,arguments)}n(740);function ei(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ti(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function ni(e,n,r){var s=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),i=a[0],l=a[1],o=void 0!==e,c=s.current;return s.current=o,!o&&c&&i!==n&&l(n),[o?e:i,(0,t.useCallback)(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];r&&r.apply(void 0,[e].concat(n)),l(e)},[r])]}function ri(e,t){return Object.keys(t).reduce(function(n,r){var s,a=n,i=a[ei(r)],l=a[r],o=Ws(a,[ei(r),r].map(ti)),c=t[r],d=ni(l,i,e[c]),u=d[0],m=d[1];return Za({},o,((s={})[r]=u,s[c]=m,s))},e)}function si(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function ai(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function ii(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}si.__suppressDeprecationWarning=!0,ai.__suppressDeprecationWarning=!0,ii.__suppressDeprecationWarning=!0;const li=Sa("h4");li.displayName="DivStyledAsH4";const oi=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s=li,...a}=e;return r=wt(r,"alert-heading"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});oi.displayName="AlertHeading";const ci=oi;function di(){return(0,t.useState)(null)}new WeakMap;const ui=["onKeyDown"];const mi=t.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,ui);const[s]=La(Object.assign({tagName:"a"},r)),a=ms(e=>{s.onKeyDown(e),null==n||n(e)});return(i=r.href)&&"#"!==i.trim()&&"button"!==r.role?(0,Ae.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,Ae.jsx)("a",Object.assign({ref:t},r,s,{onKeyDown:a}));var i});mi.displayName="Anchor";const hi=mi,pi=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s=hi,...a}=e;return r=wt(r,"alert-link"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});pi.displayName="AlertLink";const fi=pi,vi=t.forwardRef((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:s="Close alert",closeVariant:a,className:i,children:l,variant:o="primary",onClose:c,dismissible:d,transition:u=ua,...m}=ri(e,{show:"onClose"}),h=wt(n,"alert"),p=Gr(e=>{c&&c(!1,e)}),f=!0===u?ua:u,v=(0,Ae.jsxs)("div",{role:"alert",...f?void 0:m,ref:t,className:vt()(i,h,o&&`${h}-${o}`,d&&`${h}-dismissible`),children:[d&&(0,Ae.jsx)(ja,{onClick:p,"aria-label":s,variant:a}),l]});return f?(0,Ae.jsx)(f,{unmountOnExit:!0,...m,ref:void 0,in:r,children:v}):r?v:null});vi.displayName="Alert";const gi=Object.assign(vi,{Link:fi,Heading:ci}),xi=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="div",...a}=e;return r=wt(r,"card-body"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});xi.displayName="CardBody";const bi=xi,yi=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="div",...a}=e;return r=wt(r,"card-footer"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});yi.displayName="CardFooter";const ji=yi,wi=t.createContext(null);wi.displayName="CardHeaderContext";const Ni=wi,Ci=t.forwardRef((e,n)=>{let{bsPrefix:r,className:s,as:a="div",...i}=e;const l=wt(r,"card-header"),o=(0,t.useMemo)(()=>({cardHeaderBsPrefix:l}),[l]);return(0,Ae.jsx)(Ni.Provider,{value:o,children:(0,Ae.jsx)(a,{ref:n,...i,className:vt()(s,l)})})});Ci.displayName="CardHeader";const Ei=Ci,Si=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,variant:s,as:a="img",...i}=e;const l=wt(n,"card-img");return(0,Ae.jsx)(a,{ref:t,className:vt()(s?`${l}-${s}`:l,r),...i})});Si.displayName="CardImg";const ki=Si,_i=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="div",...a}=e;return r=wt(r,"card-img-overlay"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});_i.displayName="CardImgOverlay";const Oi=_i,Pi=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="a",...a}=e;return r=wt(r,"card-link"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});Pi.displayName="CardLink";const zi=Pi,Ti=Sa("h6"),Ai=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s=Ti,...a}=e;return r=wt(r,"card-subtitle"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});Ai.displayName="CardSubtitle";const Ri=Ai,Li=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="p",...a}=e;return r=wt(r,"card-text"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});Li.displayName="CardText";const Mi=Li,Bi=Sa("h5"),Ii=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s=Bi,...a}=e;return r=wt(r,"card-title"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});Ii.displayName="CardTitle";const Di=Ii,$i=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,bg:s,text:a,border:i,body:l=!1,children:o,as:c="div",...d}=e;const u=wt(n,"card");return(0,Ae.jsx)(c,{ref:t,...d,className:vt()(r,u,s&&`bg-${s}`,a&&`text-${a}`,i&&`border-${i}`),children:l?(0,Ae.jsx)(bi,{children:o}):o})});$i.displayName="Card";const Fi=Object.assign($i,{Img:ki,Title:Di,Subtitle:Ri,Body:bi,Link:zi,Text:Mi,Header:Ei,Footer:ji,ImgOverlay:Oi}),Ui=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,striped:s,bordered:a,borderless:i,hover:l,size:o,variant:c,responsive:d,...u}=e;const m=wt(n,"table"),h=vt()(r,m,c&&`${m}-${c}`,o&&`${m}-${o}`,s&&`${m}-${"string"===typeof s?`striped-${s}`:"striped"}`,a&&`${m}-bordered`,i&&`${m}-borderless`,l&&`${m}-hover`),p=(0,Ae.jsx)("table",{...u,className:h,ref:t});if(d){let e=`${m}-responsive`;return"string"===typeof d&&(e=`${e}-${d}`),(0,Ae.jsx)("div",{className:e,children:p})}return p});Ui.displayName="Table";const Hi=Ui,Vi=t.forwardRef((e,t)=>{let{bsPrefix:n,bg:r="primary",pill:s=!1,text:a,className:i,as:l="span",...o}=e;const c=wt(n,"badge");return(0,Ae.jsx)(l,{ref:t,...o,className:vt()(i,c,s&&"rounded-pill",a&&`text-${a}`,r&&`bg-${r}`)})});Vi.displayName="Badge";const qi=Vi,Wi={type:Ue().string,tooltip:Ue().bool,as:Ue().elementType},Gi=t.forwardRef((e,t)=>{let{as:n="div",className:r,type:s="valid",tooltip:a=!1,...i}=e;return(0,Ae.jsx)(n,{...i,ref:t,className:vt()(r,`${s}-${a?"tooltip":"feedback"}`)})});Gi.displayName="Feedback",Gi.propTypes=Wi;const Ki=Gi,Yi=t.createContext({}),Xi=t.forwardRef((e,n)=>{let{id:r,bsPrefix:s,className:a,type:i="checkbox",isValid:l=!1,isInvalid:o=!1,as:c="input",...d}=e;const{controlId:u}=(0,t.useContext)(Yi);return s=wt(s,"form-check-input"),(0,Ae.jsx)(c,{...d,ref:n,type:i,id:r||u,className:vt()(a,s,l&&"is-valid",o&&"is-invalid")})});Xi.displayName="FormCheckInput";const Qi=Xi,Ji=t.forwardRef((e,n)=>{let{bsPrefix:r,className:s,htmlFor:a,...i}=e;const{controlId:l}=(0,t.useContext)(Yi);return r=wt(r,"form-check-label"),(0,Ae.jsx)("label",{...i,ref:n,htmlFor:a||l,className:vt()(s,r)})});Ji.displayName="FormCheckLabel";const Zi=Ji;function el(e,n){let r=0;return t.Children.map(e,e=>t.isValidElement(e)?n(e,r++):e)}const tl=t.forwardRef((e,n)=>{let{id:r,bsPrefix:s,bsSwitchPrefix:a,inline:i=!1,reverse:l=!1,disabled:o=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:u=!1,feedback:m,feedbackType:h,className:p,style:f,title:v="",type:g="checkbox",label:x,children:b,as:y="input",...j}=e;s=wt(s,"form-check"),a=wt(a,"form-switch");const{controlId:w}=(0,t.useContext)(Yi),N=(0,t.useMemo)(()=>({controlId:r||w}),[w,r]),C=!b&&null!=x&&!1!==x||function(e,n){return t.Children.toArray(e).some(e=>t.isValidElement(e)&&e.type===n)}(b,Zi),E=(0,Ae.jsx)(Qi,{...j,type:"switch"===g?"checkbox":g,ref:n,isValid:c,isInvalid:d,disabled:o,as:y});return(0,Ae.jsx)(Yi.Provider,{value:N,children:(0,Ae.jsx)("div",{style:f,className:vt()(p,C&&s,i&&`${s}-inline`,l&&`${s}-reverse`,"switch"===g&&a),children:b||(0,Ae.jsxs)(Ae.Fragment,{children:[E,C&&(0,Ae.jsx)(Zi,{title:v,children:x}),m&&(0,Ae.jsx)(Ki,{type:h,tooltip:u,children:m})]})})})});tl.displayName="FormCheck";const nl=Object.assign(tl,{Input:Qi,Label:Zi});var rl=n(440),sl=n.n(rl);const al=t.forwardRef((e,n)=>{let{bsPrefix:r,type:s,size:a,htmlSize:i,id:l,className:o,isValid:c=!1,isInvalid:d=!1,plaintext:u,readOnly:m,as:h="input",...p}=e;const{controlId:f}=(0,t.useContext)(Yi);return r=wt(r,"form-control"),(0,Ae.jsx)(h,{...p,type:s,size:i,ref:n,readOnly:m,id:l||f,className:vt()(o,u?`${r}-plaintext`:r,a&&`${r}-${a}`,"color"===s&&`${r}-color`,c&&"is-valid",d&&"is-invalid")})});al.displayName="FormControl";const il=Object.assign(al,{Feedback:Ki}),ll=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="div",...a}=e;return r=wt(r,"form-floating"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});ll.displayName="FormFloating";const ol=ll,cl=t.forwardRef((e,n)=>{let{controlId:r,as:s="div",...a}=e;const i=(0,t.useMemo)(()=>({controlId:r}),[r]);return(0,Ae.jsx)(Yi.Provider,{value:i,children:(0,Ae.jsx)(s,{...a,ref:n})})});cl.displayName="FormGroup";const dl=cl,ul=t.forwardRef((e,n)=>{let{as:r="label",bsPrefix:s,column:a=!1,visuallyHidden:i=!1,className:l,htmlFor:o,...c}=e;const{controlId:d}=(0,t.useContext)(Yi);s=wt(s,"form-label");let u="col-form-label";"string"===typeof a&&(u=`${u} ${u}-${a}`);const m=vt()(l,s,i&&"visually-hidden",a&&u);return o=o||d,a?(0,Ae.jsx)(Ja,{ref:n,as:"label",className:m,htmlFor:o,...c}):(0,Ae.jsx)(r,{ref:n,className:m,htmlFor:o,...c})});ul.displayName="FormLabel";const ml=ul,hl=t.forwardRef((e,n)=>{let{bsPrefix:r,className:s,id:a,...i}=e;const{controlId:l}=(0,t.useContext)(Yi);return r=wt(r,"form-range"),(0,Ae.jsx)("input",{...i,type:"range",ref:n,className:vt()(s,r),id:a||l})});hl.displayName="FormRange";const pl=hl,fl=t.forwardRef((e,n)=>{let{bsPrefix:r,size:s,htmlSize:a,className:i,isValid:l=!1,isInvalid:o=!1,id:c,...d}=e;const{controlId:u}=(0,t.useContext)(Yi);return r=wt(r,"form-select"),(0,Ae.jsx)("select",{...d,size:a,ref:n,className:vt()(i,r,s&&`${r}-${s}`,l&&"is-valid",o&&"is-invalid"),id:c||u})});fl.displayName="FormSelect";const vl=fl,gl=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:s="small",muted:a,...i}=e;return n=wt(n,"form-text"),(0,Ae.jsx)(s,{...i,ref:t,className:vt()(r,n,a&&"text-muted")})});gl.displayName="FormText";const xl=gl,bl=t.forwardRef((e,t)=>(0,Ae.jsx)(nl,{...e,ref:t,type:"switch"}));bl.displayName="Switch";const yl=Object.assign(bl,{Input:nl.Input,Label:nl.Label}),jl=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,children:s,controlId:a,label:i,...l}=e;return n=wt(n,"form-floating"),(0,Ae.jsxs)(dl,{ref:t,className:vt()(r,n),controlId:a,...l,children:[s,(0,Ae.jsx)("label",{htmlFor:a,children:i})]})});jl.displayName="FloatingLabel";const wl=jl,Nl={_ref:Ue().any,validated:Ue().bool,as:Ue().elementType},Cl=t.forwardRef((e,t)=>{let{className:n,validated:r,as:s="form",...a}=e;return(0,Ae.jsx)(s,{...a,ref:t,className:vt()(n,r&&"was-validated")})});Cl.displayName="Form",Cl.propTypes=Nl;const El=Object.assign(Cl,{Group:dl,Control:il,Floating:ol,Check:nl,Switch:yl,Label:ml,Text:xl,Range:pl,Select:vl,FloatingLabel:wl});var Sl=["color","size","title","className"];function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kl.apply(null,arguments)}var _l=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Sl);return t.createElement("svg",kl({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-star-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"}))});_l.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Ol=_l;var Pl=["color","size","title","className"];function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(null,arguments)}var Tl=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Pl);return t.createElement("svg",zl({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-star",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"}))});Tl.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Al=Tl,Rl=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[a,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)(null),[c,d]=(0,t.useState)(""),[u,m]=(0,t.useState)(""),[h,p]=(0,t.useState)({name:"",start_date:"",end_date:"",is_current:!1});(0,t.useEffect)(()=>{f()},[]);const f=async()=>{try{s(!0);const e=await Ft.schoolYears.getAll();n(e.data)}catch(c){d("Erreur lors du chargement des ann\xe9es scolaires: "+c.message)}finally{s(!1)}},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(o(e),p({name:e.name,start_date:e.start_date,end_date:e.end_date,is_current:e.is_current})):(o(null),p({name:"",start_date:"",end_date:"",is_current:!1})),i(!0),d(""),m("")},g=()=>{i(!1),o(null),d(""),m("")},x=e=>{const{name:t,value:n,type:r,checked:s}=e.target;p(e=>({...e,[t]:"checkbox"===r?s:n}))},b=e=>new Date(e).toLocaleDateString("fr-FR");return r?(0,Ae.jsx)(Ka,{fluid:!0,className:"py-4",children:(0,Ae.jsx)("div",{className:"text-center",children:(0,Ae.jsx)("div",{className:"spinner-border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement..."})})})}):(0,Ae.jsxs)(Ka,{fluid:!0,className:"py-4",children:[(0,Ae.jsx)(Xa,{className:"mb-4",children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsx)("h2",{children:"Gestion des Ann\xe9es Scolaires"}),(0,Ae.jsxs)(Da,{variant:"primary",onClick:()=>v(),children:[(0,Ae.jsx)(nn,{size:18,className:"me-2"}),"Ajouter une ann\xe9e"]})]})})}),c&&(0,Ae.jsx)(gi,{variant:"danger",dismissible:!0,onClose:()=>d(""),children:c}),u&&(0,Ae.jsx)(gi,{variant:"success",dismissible:!0,onClose:()=>m(""),children:u}),(0,Ae.jsx)(Xa,{children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsx)(Fi,{children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsxs)(Hi,{responsive:!0,hover:!0,children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Nom de l'ann\xe9e"}),(0,Ae.jsx)("th",{children:"Date de d\xe9but"}),(0,Ae.jsx)("th",{children:"Date de fin"}),(0,Ae.jsx)("th",{children:"Statut"}),(0,Ae.jsx)("th",{children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:e.map(e=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsxs)("td",{children:[(0,Ae.jsx)("strong",{children:e.name}),e.is_current&&(0,Ae.jsxs)(qi,{bg:"success",className:"ms-2",children:[(0,Ae.jsx)(Ol,{size:12,className:"me-1"}),"Ann\xe9e courante"]})]}),(0,Ae.jsx)("td",{children:b(e.start_date)}),(0,Ae.jsx)("td",{children:b(e.end_date)}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(qi,{bg:e.is_active?"success":"secondary",children:e.is_active?"Active":"Inactive"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("div",{className:"d-flex gap-2",children:[(0,Ae.jsx)(Da,{variant:"outline-primary",size:"sm",onClick:()=>v(e),children:(0,Ae.jsx)(Ln,{size:14})}),!e.is_current&&(0,Ae.jsx)(Da,{variant:"outline-success",size:"sm",onClick:()=>(async e=>{try{await Ft.schoolYears.setCurrent(e),m("Ann\xe9e scolaire courante d\xe9finie avec succ\xe8s"),await f(),setTimeout(()=>m(""),3e3)}catch(c){d("Erreur lors de la d\xe9finition de l'ann\xe9e courante: "+c.message),setTimeout(()=>d(""),5e3)}})(e.id),title:"D\xe9finir comme ann\xe9e courante",children:(0,Ae.jsx)(Al,{size:14})})]})})]},e.id))})]}),0===e.length&&(0,Ae.jsx)("div",{className:"text-center py-4",children:(0,Ae.jsx)("p",{className:"text-muted",children:"Aucune ann\xe9e scolaire trouv\xe9e"})})]})})})}),(0,Ae.jsxs)(Aa,{show:a,onHide:g,size:"lg",children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsx)(Aa.Title,{children:l?"Modifier l'ann\xe9e scolaire":"Ajouter une ann\xe9e scolaire"})}),(0,Ae.jsxs)(El,{onSubmit:async e=>{e.preventDefault();try{l?(await Ft.schoolYears.update(l.id,h),m("Ann\xe9e scolaire modifi\xe9e avec succ\xe8s")):(await Ft.schoolYears.create(h),m("Ann\xe9e scolaire ajout\xe9e avec succ\xe8s")),await f(),setTimeout(()=>{g(),m("")},1500)}catch(c){d("Erreur: "+c.message)}},children:[(0,Ae.jsxs)(Aa.Body,{children:[c&&(0,Ae.jsx)(gi,{variant:"danger",children:c}),u&&(0,Ae.jsx)(gi,{variant:"success",children:u}),(0,Ae.jsx)(Xa,{children:(0,Ae.jsx)(Ja,{md:12,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Nom de l'ann\xe9e *"}),(0,Ae.jsx)(El.Control,{type:"text",name:"name",value:h.name,onChange:x,placeholder:"Ex: 2024-2025",required:!0})]})})}),(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Date de d\xe9but *"}),(0,Ae.jsx)(El.Control,{type:"date",name:"start_date",value:h.start_date,onChange:x,required:!0})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Date de fin *"}),(0,Ae.jsx)(El.Control,{type:"date",name:"end_date",value:h.end_date,onChange:x,required:!0})]})})]}),(0,Ae.jsx)(Xa,{children:(0,Ae.jsx)(Ja,{md:12,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Check,{type:"checkbox",name:"is_current",checked:h.is_current,onChange:x,label:"D\xe9finir comme ann\xe9e scolaire courante"}),(0,Ae.jsx)(El.Text,{className:"text-muted",children:"Si coch\xe9e, cette ann\xe9e deviendra l'ann\xe9e de r\xe9f\xe9rence par d\xe9faut"})]})})})]}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:g,children:"Annuler"}),(0,Ae.jsx)(Da,{variant:"primary",type:"submit",children:l?"Modifier":"Ajouter"})]})]})]})]})},Ll=()=>{const{user:e}=De(),[n,r]=(0,t.useState)([]),[s,a]=(0,t.useState)(null),[i,l]=(0,t.useState)(!0),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[p,f]=(0,t.useState)("all"),[v,g]=(0,t.useState)("grid"),[x,b]=(0,t.useState)(!1),[y,j]=(0,t.useState)(!1),[w,N]=(0,t.useState)(!1),[C,E]=(0,t.useState)(null),[S,k]=(0,t.useState)({name:"",description:"",is_active:!0,order:0});(0,t.useEffect)(()=>{_(),O()},[]);const _=async()=>{try{l(!0);const e=await Ft.sections.getAll();e.success?r(e.data):c(e.message||"Erreur lors du chargement des sections")}catch(o){c("Erreur lors du chargement des sections"),console.error("Error loading sections:",o)}finally{l(!1)}},O=async()=>{try{const e=await Ft.sections.getDashboard();e.success&&a(e.data)}catch(o){console.error("Error loading dashboard:",o)}},P=async e=>{try{const t=await Ft.sections.toggleStatus(e.id);t.success?(u(t.message),_(),O()):c(t.message||"Erreur lors de la mise \xe0 jour")}catch(o){c("Erreur lors de la mise \xe0 jour du statut"),console.error("Error toggling status:",o)}},z=()=>{k({name:"",description:"",is_active:!0,order:0}),E(null)},T=e=>{E(e),k({name:e.name,description:e.description||"",is_active:e.is_active,order:e.order}),j(!0)},A=e=>{E(e),N(!0)},R=n.filter(e=>{const t=e.name.toLowerCase().includes(m.toLowerCase())||e.description&&e.description.toLowerCase().includes(m.toLowerCase()),n="all"===p||"active"===p&&e.is_active||"inactive"===p&&!e.is_active;return t&&n});return i?(0,Ae.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,Ae.jsx)(_t,{text:"Chargement des sections...",size:"lg"})}):(0,Ae.jsxs)("div",{className:"sections-page",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gestion des Sections"}),(0,Ae.jsxs)("p",{className:"text-gray-600",children:["Bienvenue ",null===e||void 0===e?void 0:e.name," - G\xe9rez les sections de l'\xe9tablissement"]})]}),(0,Ae.jsxs)(dt,{onClick:()=>{z(),b(!0)},className:"flex items-center gap-2",children:[(0,Ae.jsx)(nn,{size:16}),"Nouvelle Section"]})]}),o&&(0,Ae.jsx)(ct,{variant:"error",className:"mb-4",dismissible:!0,onDismiss:()=>c(""),children:o}),d&&(0,Ae.jsx)(ct,{variant:"success",className:"mb-4",dismissible:!0,onDismiss:()=>u(""),children:d}),s&&(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Ae.jsx)(mt,{className:"p-4",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-600",children:"Total Sections"}),(0,Ae.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:s.stats.total_sections})]}),(0,Ae.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Ae.jsx)(kn,{className:"text-blue-600",size:24})})]})}),(0,Ae.jsx)(mt,{className:"p-4",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-600",children:"Sections Actives"}),(0,Ae.jsx)("p",{className:"text-2xl font-bold text-green-600",children:s.stats.active_sections})]}),(0,Ae.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,Ae.jsx)(un,{className:"text-green-600",size:24})})]})}),(0,Ae.jsx)(mt,{className:"p-4",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-600",children:"Sections Inactives"}),(0,Ae.jsx)("p",{className:"text-2xl font-bold text-red-600",children:s.stats.inactive_sections})]}),(0,Ae.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:(0,Ae.jsx)(fn,{className:"text-red-600",size:24})})]})}),(0,Ae.jsx)(mt,{className:"p-4",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-600",children:"Avec Classes"}),(0,Ae.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:s.stats.sections_with_classes})]}),(0,Ae.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,Ae.jsx)(zn,{className:"text-purple-600",size:24})})]})})]}),(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"row g-3",children:[(0,Ae.jsxs)("div",{className:"col-md-4",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Rechercher"}),(0,Ae.jsxs)("div",{className:"position-relative",children:[(0,Ae.jsx)(Nn,{className:"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted",size:16}),(0,Ae.jsx)("input",{type:"text",className:"form-control ps-5",placeholder:"Rechercher une section...",value:m,onChange:e=>h(e.target.value)})]})]}),(0,Ae.jsxs)("div",{className:"col-md-4",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Statut"}),(0,Ae.jsxs)("select",{className:"form-select",value:p,onChange:e=>f(e.target.value),children:[(0,Ae.jsx)("option",{value:"all",children:"Toutes les sections"}),(0,Ae.jsx)("option",{value:"active",children:"Sections actives"}),(0,Ae.jsx)("option",{value:"inactive",children:"Sections inactives"})]})]}),(0,Ae.jsxs)("div",{className:"col-md-4 d-flex align-items-end",children:[(0,Ae.jsxs)("div",{className:"btn-group me-3",role:"group",children:[(0,Ae.jsx)("button",{type:"button",className:"btn "+("grid"===v?"btn-primary":"btn-outline-secondary"),onClick:()=>g("grid"),title:"Vue grille",children:(0,Ae.jsx)(kn,{size:16})}),(0,Ae.jsx)("button",{type:"button",className:"btn "+("list"===v?"btn-primary":"btn-outline-secondary"),onClick:()=>g("list"),title:"Vue liste",children:(0,Ae.jsx)(zn,{size:16})})]}),(0,Ae.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>{h(""),f("all")},children:"R\xe9initialiser"})]})]})})})})}),0===R.length?(0,Ae.jsxs)(mt,{className:"p-8 text-center",children:[(0,Ae.jsx)("p",{className:"text-gray-500 mb-4",children:"Aucune section trouv\xe9e"}),(0,Ae.jsxs)(dt,{onClick:()=>{z(),b(!0)},className:"flex items-center gap-2 mx-auto",children:[(0,Ae.jsx)(nn,{size:16}),"Cr\xe9er la premi\xe8re section"]})]}):"grid"===v?(0,Ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(e=>(0,Ae.jsxs)(mt,{className:"p-4 hover:shadow-md transition-shadow duration-200",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Ae.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Ae.jsx)("div",{className:"flex items-center gap-1",children:(0,Ae.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"})})]}),e.description&&(0,Ae.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),(0,Ae.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ae.jsxs)("span",{className:"text-xs text-gray-500",children:["Ordre: ",e.order]}),(0,Ae.jsxs)("div",{className:"flex gap-1",children:[(0,Ae.jsx)(dt,{variant:"ghost",size:"sm",onClick:()=>P(e),title:e.is_active?"D\xe9sactiver":"Activer",children:e.is_active?(0,Ae.jsx)(un,{size:16}):(0,Ae.jsx)(fn,{size:16})}),(0,Ae.jsx)(dt,{variant:"ghost",size:"sm",onClick:()=>T(e),title:"Modifier",children:(0,Ae.jsx)(Ln,{size:16})}),(0,Ae.jsx)(dt,{variant:"ghost",size:"sm",onClick:()=>A(e),className:"text-red-600 hover:text-red-700",title:"Supprimer",children:(0,Ae.jsx)(Dn,{size:16})})]})]})]},e.id))}):(0,Ae.jsx)("div",{className:"space-y-3",children:R.map(e=>(0,Ae.jsx)(mt,{className:"p-4 hover:shadow-md transition-shadow duration-200",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsx)("div",{className:"flex items-center space-x-4 flex-1",children:(0,Ae.jsxs)("div",{className:"flex-1",children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,Ae.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Ae.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"}),(0,Ae.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["Ordre: ",e.order]})]}),e.description&&(0,Ae.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]})}),(0,Ae.jsxs)("div",{className:"flex gap-1 ml-4",children:[(0,Ae.jsx)(dt,{variant:"ghost",size:"sm",onClick:()=>P(e),title:e.is_active?"D\xe9sactiver":"Activer",children:e.is_active?(0,Ae.jsx)(un,{size:16}):(0,Ae.jsx)(fn,{size:16})}),(0,Ae.jsx)(dt,{variant:"ghost",size:"sm",onClick:()=>T(e),title:"Modifier",children:(0,Ae.jsx)(Ln,{size:16})}),(0,Ae.jsx)(dt,{variant:"ghost",size:"sm",onClick:()=>A(e),className:"text-red-600 hover:text-red-700",title:"Supprimer",children:(0,Ae.jsx)(Dn,{size:16})})]})]})},e.id))}),(0,Ae.jsx)(Pt,{isOpen:x||y,onClose:()=>{b(!1),j(!1),z()},title:C?"Modifier la Section":"Nouvelle Section",children:(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{c(""),u("");const e=C?await Ft.sections.update(C.id,S):await Ft.sections.create(S);e.success?(u(e.message),z(),b(!1),j(!1),_(),O()):c(e.message||"Erreur lors de la sauvegarde")}catch(o){c("Erreur lors de la sauvegarde"),console.error("Error saving section:",o)}},className:"space-y-4",children:[(0,Ae.jsx)(pt,{label:"Nom de la section",type:"text",value:S.name,onChange:e=>k({...S,name:e.target.value}),required:!0,placeholder:"Ex: Primaire, Secondaire..."}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ae.jsx)("textarea",{value:S.description,onChange:e=>k({...S,description:e.target.value}),placeholder:"Description de la section...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Ae.jsx)(pt,{label:"Ordre d'affichage",type:"number",value:S.order,onChange:e=>k({...S,order:parseInt(e.target.value)}),min:"0",placeholder:"0"}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("input",{type:"checkbox",id:"is_active",checked:S.is_active,onChange:e=>k({...S,is_active:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Ae.jsx)("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Section active"})]}),(0,Ae.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,Ae.jsx)(dt,{type:"button",variant:"outline",onClick:()=>{b(!1),j(!1),z()},children:"Annuler"}),(0,Ae.jsx)(dt,{type:"submit",children:C?"Modifier":"Cr\xe9er"})]})]})}),(0,Ae.jsx)(Pt,{isOpen:w,onClose:()=>{N(!1),E(null)},title:"Confirmer la suppression",children:(0,Ae.jsxs)("div",{className:"space-y-4",children:[(0,Ae.jsxs)("p",{className:"text-gray-700",children:["\xcates-vous s\xfbr de vouloir supprimer la section ",(0,Ae.jsx)("strong",{children:null===C||void 0===C?void 0:C.name})," ?"]}),(0,Ae.jsx)("p",{className:"text-sm text-red-600",children:"Cette action est irr\xe9versible et ne sera possible que si la section ne contient aucune classe."}),(0,Ae.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,Ae.jsx)(dt,{variant:"outline",onClick:()=>{N(!1),E(null)},children:"Annuler"}),(0,Ae.jsx)(dt,{variant:"danger",onClick:async()=>{if(C)try{c("");const e=await Ft.sections.delete(C.id);e.success?(u(e.message),N(!1),E(null),_(),O()):c(e.message||"Erreur lors de la suppression")}catch(o){c("Erreur lors de la suppression"),console.error("Error deleting section:",o)}},children:"Supprimer"})]})]})})]})};function Ml(){const[,e]=(0,t.useReducer)(e=>e+1,0);return e}const Bl=t.createContext(null);Bl.displayName="NavContext";const Il=Bl,Dl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},$l=t.createContext(null),Fl=t.createContext(null),Ul=["as","active","eventKey"];function Hl(e){let{key:n,onClick:r,active:s,id:a,role:i,disabled:l}=e;const o=(0,t.useContext)($l),c=(0,t.useContext)(Il),d=(0,t.useContext)(Fl);let u=s;const m={role:i};if(c){i||"tablist"!==c.role||(m.role="tab");const e=c.getControllerId(null!=n?n:null),t=c.getControlledId(null!=n?n:null);m[hs("event-key")]=n,m.id=e||a,u=null==s&&null!=n?c.activeKey===n:s,!u&&(null!=d&&d.unmountOnExit||null!=d&&d.mountOnEnter)||(m["aria-controls"]=t)}return"tab"===m.role&&(m["aria-selected"]=u,u||(m.tabIndex=-1),l&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=ms(e=>{l||(null==r||r(e),null!=n&&o&&!e.isPropagationStopped()&&o(n,e))}),[m,{isActive:u}]}const Vl=t.forwardRef((e,t)=>{let{as:n=Ba,active:r,eventKey:s}=e,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Ul);const[i,l]=Hl(Object.assign({key:Dl(s,a.href),active:r},a));return i[hs("active")]=l.isActive,(0,Ae.jsx)(n,Object.assign({},a,i,{ref:t}))});Vl.displayName="NavItem";const ql=Vl,Wl=["as","onSelect","activeKey","role","onKeyDown"];const Gl=()=>{},Kl=hs("event-key"),Yl=t.forwardRef((e,n)=>{let{as:r="div",onSelect:s,activeKey:a,role:i,onKeyDown:l}=e,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Wl);const c=Ml(),d=(0,t.useRef)(!1),u=(0,t.useContext)($l),m=(0,t.useContext)(Fl);let h,p;m&&(i=i||"tablist",a=m.activeKey,h=m.getControlledId,p=m.getControllerId);const f=(0,t.useRef)(null),v=e=>{const t=f.current;if(!t)return null;const n=Ds(t,`[${Kl}]:not([aria-disabled=true])`),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const s=n.indexOf(r);if(-1===s)return null;let a=s+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=(e,t)=>{null!=e&&(null==s||s(e,t),null==u||u(e,t))};(0,t.useEffect)(()=>{if(f.current&&d.current){const e=f.current.querySelector(`[${Kl}][aria-selected=true]`);null==e||e.focus()}d.current=!1});const x=js(n,f);return(0,Ae.jsx)($l.Provider,{value:g,children:(0,Ae.jsx)(Il.Provider,{value:{role:i,activeKey:Dl(a),getControlledId:h||Gl,getControllerId:p||Gl},children:(0,Ae.jsx)(r,Object.assign({},o,{onKeyDown:e=>{if(null==l||l(e),!m)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=v(-1);break;case"ArrowRight":case"ArrowDown":t=v(1);break;default:return}var n;t&&(e.preventDefault(),g(t.dataset[(n="EventKey",`rrUi${n}`)]||null,e),d.current=!0,c())},ref:x,role:i}))})})});Yl.displayName="Nav";const Xl=Object.assign(Yl,{Item:ql}),Ql=t.createContext(null);Ql.displayName="NavbarContext";const Jl=Ql,Zl=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="div",...a}=e;return r=wt(r,"nav-item"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});Zl.displayName="NavItem";const eo=Zl,to=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:s=hi,active:a,eventKey:i,disabled:l=!1,...o}=e;n=wt(n,"nav-link");const[c,d]=Hl({key:Dl(i,o.href),active:a,disabled:l,...o});return(0,Ae.jsx)(s,{...o,...c,ref:t,disabled:l,className:vt()(r,n,l&&"disabled",d.isActive&&"active")})});to.displayName="NavLink";const no=to,ro=t.forwardRef((e,n)=>{const{as:r="div",bsPrefix:s,variant:a,fill:i=!1,justify:l=!1,navbar:o,navbarScroll:c,className:d,activeKey:u,...m}=ri(e,{activeKey:"onSelect"}),h=wt(s,"nav");let p,f,v=!1;const g=(0,t.useContext)(Jl),x=(0,t.useContext)(Ni);return g?(p=g.bsPrefix,v=null==o||o):x&&({cardHeaderBsPrefix:f}=x),(0,Ae.jsx)(Xl,{as:r,ref:n,activeKey:u,className:vt()(d,{[h]:!v,[`${p}-nav`]:v,[`${p}-nav-scroll`]:v&&c,[`${f}-${a}`]:!!f,[`${h}-${a}`]:!!a,[`${h}-fill`]:i,[`${h}-justified`]:l}),...m})});ro.displayName="Nav";const so=Object.assign(ro,{Item:eo,Link:no});var ao=["color","size","title","className"];function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},io.apply(null,arguments)}var lo=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,ao);return t.createElement("svg",io({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-award",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M9.669.864 8 0 6.331.864l-1.858.282-.842 1.68-1.337 1.32L2.6 6l-.306 1.854 1.337 1.32.842 1.68 1.858.282L8 12l1.669-.864 1.858-.282.842-1.68 1.337-1.32L13.4 6l.306-1.854-1.337-1.32-.842-1.68zm1.196 1.193.684 1.365 1.086 1.072L12.387 6l.248 1.506-1.086 1.072-.684 1.365-1.51.229L8 10.874l-1.355-.702-1.51-.229-.684-1.365-1.086-1.072L3.614 6l-.25-1.506 1.087-1.072.684-1.365 1.51-.229L8 1.126l1.356.702z"}),t.createElement("path",{d:"M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1z"}))});lo.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const oo=lo;var co=["color","size","title","className"];function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uo.apply(null,arguments)}var mo=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,co);return t.createElement("svg",uo({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-gear-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"}))});mo.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const ho=mo,po=(Ue().string,Ue().bool,Ue().bool,Ue().bool,Ue().bool,t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,fluid:s=!1,rounded:a=!1,roundedCircle:i=!1,thumbnail:l=!1,...o}=e;return n=wt(n,"img"),(0,Ae.jsx)("img",{ref:t,...o,className:vt()(r,s&&`${n}-fluid`,a&&"rounded",i&&"rounded-circle",l&&`${n}-thumbnail`)})}));po.displayName="Image";const fo=po;var vo=["color","size","title","className"];function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},go.apply(null,arguments)}var xo=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,vo);return t.createElement("svg",go({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-geo-alt",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A32 32 0 0 1 8 14.58a32 32 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"}),t.createElement("path",{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6"}))});xo.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const bo=xo;var yo=["color","size","title","className"];function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jo.apply(null,arguments)}var wo=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,yo);return t.createElement("svg",jo({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-telephone",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.6 17.6 0 0 0 4.168 6.608 17.6 17.6 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.68.68 0 0 0-.58-.122l-2.19.547a1.75 1.75 0 0 1-1.657-.459L5.482 8.062a1.75 1.75 0 0 1-.46-1.657l.548-2.19a.68.68 0 0 0-.122-.58zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"}))});wo.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const No=wo;var Co=["color","size","title","className"];function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eo.apply(null,arguments)}var So=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Co);return t.createElement("svg",Eo({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-envelope",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"}))});So.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const ko=So;var _o=["color","size","title","className"];function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oo.apply(null,arguments)}var Po=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,_o);return t.createElement("svg",Oo({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-globe",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m7.5-6.923c-.67.204-1.335.82-1.887 1.855A8 8 0 0 0 5.145 4H7.5zM4.09 4a9.3 9.3 0 0 1 .64-1.539 7 7 0 0 1 .597-.933A7.03 7.03 0 0 0 2.255 4zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a7 7 0 0 0-.656 2.5zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5zM8.5 5v2.5h2.99a12.5 12.5 0 0 0-.337-2.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5zM5.145 12q.208.58.468 1.068c.552 1.035 1.218 1.65 1.887 1.855V12zm.182 2.472a7 7 0 0 1-.597-.933A9.3 9.3 0 0 1 4.09 12H2.255a7 7 0 0 0 3.072 2.472M3.82 11a13.7 13.7 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5zm6.853 3.472A7 7 0 0 0 13.745 12H11.91a9.3 9.3 0 0 1-.64 1.539 7 7 0 0 1-.597.933M8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855q.26-.487.468-1.068zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.7 13.7 0 0 1-.312 2.5m2.802-3.5a7 7 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7 7 0 0 0-3.072-2.472c.218.284.418.598.597.933M10.855 4a8 8 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4z"}))});Po.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const zo=Po;var To=["color","size","title","className"];function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ao.apply(null,arguments)}var Ro=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,To);return t.createElement("svg",Ao({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-currency-dollar",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73z"}))});Ro.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Lo=Ro;var Mo=["color","size","title","className"];function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bo.apply(null,arguments)}var Io=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Mo);return t.createElement("svg",Bo({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-calendar",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"}))});Io.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Do=Io;var $o=["color","size","title","className"];function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fo.apply(null,arguments)}var Uo=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,$o);return t.createElement("svg",Fo({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-percent",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M13.442 2.558a.625.625 0 0 1 0 .884l-10 10a.625.625 0 1 1-.884-.884l10-10a.625.625 0 0 1 .884 0M4.5 6a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5m7 6a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"}))});Uo.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Ho=Uo;var Vo=["color","size","title","className"];function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qo.apply(null,arguments)}var Wo=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Vo);return t.createElement("svg",qo({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-whatsapp",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"}))});Wo.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Go=Wo;var Ko=["color","size","title","className"];function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yo.apply(null,arguments)}var Xo=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Ko);return t.createElement("svg",Yo({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-check2-circle",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0"}),t.createElement("path",{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"}))});Xo.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Qo=Xo;var Jo=["color","size","title","className"];function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zo.apply(null,arguments)}var ec=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Jo);return t.createElement("svg",Zo({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-upload",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),t.createElement("path",{d:"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z"}))});ec.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const tc=ec;var nc=["color","size","title","className"];function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rc.apply(null,arguments)}var sc=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,nc);return t.createElement("svg",rc({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-palette",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M8 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3m4 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M5.5 7a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m.5 6a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3"}),t.createElement("path",{d:"M16 8c0 3.15-1.866 2.585-3.567 2.07C11.42 9.763 10.465 9.473 10 10c-.603.683-.475 1.819-.351 2.92C9.826 14.495 9.996 16 8 16a8 8 0 1 1 8-8m-8 7c.611 0 .654-.171.655-.176.078-.146.124-.464.07-1.119-.014-.168-.037-.37-.061-.591-.052-.464-.112-1.005-.118-1.462-.01-.707.083-1.61.704-2.314.369-.417.845-.578 1.272-.618.404-.038.812.026 1.16.104.343.077.702.186 1.025.284l.028.008c.346.105.658.199.953.266.653.148.904.083.991.024C14.717 9.38 15 9.161 15 8a7 7 0 1 0-7 7"}))});sc.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const ac=sc;var ic=["color","size","title","className"];function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lc.apply(null,arguments)}var oc=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,ic);return t.createElement("svg",lc({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-save",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1z"}))});oc.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const cc=oc;var dc=["color","size","title","className"];function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uc.apply(null,arguments)}var mc=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,dc);return t.createElement("svg",uc({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-check",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"}))});mc.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const hc=mc,pc=e=>{let{value:n,onChange:r,label:s="Couleur primaire"}=e;const{colorPresets:a}=Wt(),[i,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(n||"#007bff"),d=a.find(e=>e.value===n);return(0,Ae.jsxs)("div",{className:"color-picker-component",children:[(0,Ae.jsxs)(El.Label,{className:"d-flex align-items-center mb-3",children:[(0,Ae.jsx)(ac,{className:"me-2",size:16}),s]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("small",{className:"text-muted d-block mb-2",children:"Couleurs pr\xe9d\xe9finies"}),(0,Ae.jsx)(Xa,{className:"g-2",children:a.map(e=>(0,Ae.jsxs)(Ja,{xs:4,sm:3,md:2,children:[(0,Ae.jsx)("div",{className:"color-preset "+(n===e.value?"selected":""),onClick:()=>{return t=e.value,r(t),c(t),void l(!1);var t},style:{backgroundColor:e.value,height:"50px",borderRadius:"8px",cursor:"pointer",border:n===e.value?"3px solid #fff":"2px solid #dee2e6",boxShadow:n===e.value?`0 0 0 2px ${e.value}`:"0 1px 3px rgba(0,0,0,0.1)",position:"relative",transition:"all 0.2s ease"},title:`${e.name} - ${e.value}`,children:n===e.value&&(0,Ae.jsx)("div",{className:"d-flex align-items-center justify-content-center h-100",children:(0,Ae.jsx)(hc,{size:20,className:"text-white",style:{textShadow:"0 0 3px rgba(0,0,0,0.5)"}})})}),(0,Ae.jsx)("small",{className:"d-block text-center mt-1 text-muted",style:{fontSize:"10px"},children:e.name})]},e.value))})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[(0,Ae.jsx)("small",{className:"text-muted",children:"Couleur personnalis\xe9e"}),(0,Ae.jsx)(Da,{variant:"outline-secondary",size:"sm",onClick:()=>{l(!i),i||c(n||"#007bff")},children:i?"Masquer":"Personnaliser"})]}),i&&(0,Ae.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Ae.jsx)("div",{className:"color-preview",style:{width:"40px",height:"40px",backgroundColor:o,border:"2px solid #dee2e6",borderRadius:"6px"}}),(0,Ae.jsx)(El.Control,{type:"color",value:o,onChange:e=>{const t=e.target.value;c(t),r(t)},style:{width:"60px",height:"40px",padding:"2px"}}),(0,Ae.jsx)(El.Control,{type:"text",value:o,onChange:e=>{const t=e.target.value;/^#[0-9A-Fa-f]{0,6}$/.test(t)&&(c(t),7===t.length&&r(t))},placeholder:"#007bff",pattern:"^#[0-9A-Fa-f]{6}$",maxLength:7,style:{fontFamily:"monospace"}})]})]}),(0,Ae.jsxs)("div",{className:"mt-3 p-3 border rounded",style:{backgroundColor:"#f8f9fa"},children:[(0,Ae.jsx)("small",{className:"text-muted d-block mb-2",children:"Aper\xe7u :"}),(0,Ae.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,Ae.jsx)(Da,{style:{backgroundColor:n,borderColor:n},size:"sm",children:"Bouton primaire"}),(0,Ae.jsx)("span",{className:"badge",style:{backgroundColor:n},children:"Badge"}),(0,Ae.jsx)("div",{className:"border rounded px-2 py-1",style:{color:n,borderColor:n},children:"Texte color\xe9"})]}),(0,Ae.jsx)("small",{className:"text-muted mt-2 d-block",children:d?`${d.name} (${d.value})`:`Couleur personnalis\xe9e (${n})`})]}),(0,Ae.jsx)("style",{jsx:!0,children:"\n                .color-preset:hover {\n                    transform: translateY(-1px);\n                    box-shadow: 0 4px 8px rgba(0,0,0,0.15) !important;\n                }\n                \n                .color-preset.selected {\n                    transform: translateY(-2px);\n                }\n            "})]})},fc=()=>{const{changePrimaryColor:e}=Wt(),[n,r]=(0,t.useState)({school_name:"",school_motto:"",school_address:"",school_phone:"",school_email:"",school_website:"",school_logo:"",currency:"FCFA",bank_name:"",country:"",city:"",footer_text:"",scholarship_deadline:"",reduction_percentage:10,primary_color:"#007bff",whatsapp_notification_number:"",whatsapp_notifications_enabled:!1,whatsapp_api_url:"",whatsapp_instance_id:"",whatsapp_token:""}),[s,a]=(0,t.useState)(!0),[i,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[m,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(""),[v,g]=(0,t.useState)(!1);(0,t.useEffect)(()=>{x()},[]);const x=async()=>{try{a(!0);const t=await Ft.schoolSettings.get();if(t.success){if(r(t.data),t.data.primary_color&&e(t.data.primary_color),t.data.school_logo)try{const e=await Ft.schoolSettings.getLogo();e.success&&f(e.data.logo_url)}catch(o){console.log("Logo non disponible")}}else c(t.message)}catch(o){c("Erreur lors du chargement des param\xe8tres"),console.error("Error loading settings:",o)}finally{a(!1)}},b=(t,n)=>{r(e=>({...e,[t]:n})),"primary_color"===t&&e(n)};return s?(0,Ae.jsx)(Ka,{fluid:!0,className:"py-4",children:(0,Ae.jsx)("div",{className:"text-center",children:(0,Ae.jsx)(kt,{animation:"border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement..."})})})}):(0,Ae.jsxs)(Ka,{fluid:!0,className:"py-4",children:[(0,Ae.jsx)(Xa,{className:"mb-4",children:(0,Ae.jsxs)(Ja,{children:[(0,Ae.jsx)("h2",{children:"Param\xe8tres de l'\xc9tablissement"}),(0,Ae.jsx)("p",{className:"text-muted",children:"Configurez les informations g\xe9n\xe9rales de votre \xe9tablissement"})]})}),o&&(0,Ae.jsx)(gi,{variant:"danger",dismissible:!0,onClose:()=>c(""),children:o}),d&&(0,Ae.jsx)(gi,{variant:"success",dismissible:!0,onClose:()=>u(""),children:d}),(0,Ae.jsxs)(El,{onSubmit:async e=>{e.preventDefault();try{if(l(!0),c(""),u(""),!n.school_name||""===n.school_name.trim())return c("Le nom de l'\xe9tablissement est requis"),void l(!1);const e={...n,school_name:n.school_name||"",school_motto:n.school_motto||"",school_address:n.school_address||"",school_phone:n.school_phone||"",school_email:n.school_email||"",school_website:n.school_website||"",currency:n.currency||"FCFA",bank_name:n.bank_name||"",country:n.country||"",city:n.city||"",footer_text:n.footer_text||"",scholarship_deadline:n.scholarship_deadline||"",reduction_percentage:n.reduction_percentage||10};let t;if(m){t=new FormData,Object.keys(e).forEach(n=>{"school_logo"!==n&&t.append(n,e[n]||"")}),t.append("school_logo",m),console.log("Sending FormData with logo:",m.name,m.size,m.type);for(let[e,n]of t.entries())console.log("FormData entry:",e,"object"===typeof n?n.name:n)}else t={...e},delete t.school_logo;const s=await Ft.schoolSettings.update(t);if(s.success){if(u("Param\xe8tres mis \xe0 jour avec succ\xe8s"),r(s.data),h(null),m&&s.data.school_logo)try{const e=await Ft.schoolSettings.getLogo();e.success&&f(e.data.logo_url)}catch(o){console.log("Erreur lors du rechargement du logo")}br().fire({title:"Succ\xe8s !",text:"Les param\xe8tres de l'\xe9tablissement ont \xe9t\xe9 mis \xe0 jour.",icon:"success",confirmButtonText:"OK"})}else c(s.message||"Erreur lors de la mise \xe0 jour")}catch(o){c("Erreur lors de la mise \xe0 jour des param\xe8tres"),console.error("Error updating settings:",o)}finally{l(!1)}},children:[(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsxs)(Ja,{lg:8,children:[(0,Ae.jsxs)(Fi,{className:"mb-4",children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsxs)("h5",{className:"mb-0",children:[(0,Ae.jsx)(bn,{className:"me-2"}),"Informations G\xe9n\xe9rales"]})}),(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Nom de l'\xe9tablissement *"}),(0,Ae.jsx)(El.Control,{type:"text",value:n.school_name,onChange:e=>b("school_name",e.target.value),required:!0})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Devise"}),(0,Ae.jsx)(El.Control,{type:"text",value:n.school_motto,onChange:e=>b("school_motto",e.target.value),placeholder:"Ex: Excellence et Discipline"})]})})]}),(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:[(0,Ae.jsx)(bo,{className:"me-1"}),"Adresse compl\xe8te"]}),(0,Ae.jsx)(El.Control,{as:"textarea",rows:3,value:n.school_address,onChange:e=>b("school_address",e.target.value),placeholder:"Adresse compl\xe8te de l'\xe9tablissement"})]}),(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:[(0,Ae.jsx)(No,{className:"me-1"}),"T\xe9l\xe9phone"]}),(0,Ae.jsx)(El.Control,{type:"text",value:n.school_phone,onChange:e=>b("school_phone",e.target.value),placeholder:"Ex: 233 43 25 47"})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:[(0,Ae.jsx)(ko,{className:"me-1"}),"Email"]}),(0,Ae.jsx)(El.Control,{type:"email",value:n.school_email,onChange:e=>b("school_email",e.target.value),placeholder:"contact@ecole.com"})]})})]}),(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:[(0,Ae.jsx)(zo,{className:"me-1"}),"Site Web"]}),(0,Ae.jsx)(El.Control,{type:"url",value:n.school_website,onChange:e=>b("school_website",e.target.value),placeholder:"www.ecole.com"})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:[(0,Ae.jsx)(Lo,{className:"me-1"}),"Monnaie"]}),(0,Ae.jsxs)(El.Select,{value:n.currency,onChange:e=>b("currency",e.target.value),children:[(0,Ae.jsx)("option",{value:"FCFA",children:"FCFA"}),(0,Ae.jsx)("option",{value:"EUR",children:"EUR"}),(0,Ae.jsx)("option",{value:"USD",children:"USD"}),(0,Ae.jsx)("option",{value:"XAF",children:"XAF"})]})]})})]}),(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Nom de la banque"}),(0,Ae.jsx)(El.Control,{type:"text",value:n.bank_name,onChange:e=>b("bank_name",e.target.value),placeholder:"Ex: C4ED"})]})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Pays"}),(0,Ae.jsx)(El.Control,{type:"text",value:n.country,onChange:e=>b("country",e.target.value),placeholder:"Ex: Cameroun"})]})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Ville"}),(0,Ae.jsx)(El.Control,{type:"text",value:n.city,onChange:e=>b("city",e.target.value),placeholder:"Ex: Douala"})]})})]})]})]}),(0,Ae.jsxs)(Fi,{className:"mb-4",children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsxs)("h5",{className:"mb-0",children:[(0,Ae.jsx)(Lo,{className:"me-2"}),"Param\xe8tres Financiers"]})}),(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:[(0,Ae.jsx)(Do,{className:"me-1"}),"Date limite pour bourses/r\xe9ductions"]}),(0,Ae.jsx)(El.Control,{type:"date",value:n.scholarship_deadline,onChange:e=>b("scholarship_deadline",e.target.value)}),(0,Ae.jsx)(El.Text,{className:"text-muted",children:"Les \xe9tudiants doivent payer avant cette date pour b\xe9n\xe9ficier des bourses et r\xe9ductions"})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:[(0,Ae.jsx)(Ho,{className:"me-1"}),"Pourcentage de r\xe9duction (%)"]}),(0,Ae.jsx)(El.Control,{type:"number",min:"0",max:"100",step:"0.01",value:n.reduction_percentage,onChange:e=>b("reduction_percentage",parseFloat(e.target.value)||0)}),(0,Ae.jsx)(El.Text,{className:"text-muted",children:"R\xe9duction appliqu\xe9e aux anciens \xe9l\xe8ves et aux nouveaux payant avant d\xe9lai"})]})})]})})]}),(0,Ae.jsxs)(Fi,{className:"mb-4",children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsxs)("h5",{className:"mb-0",children:[(0,Ae.jsx)(Go,{className:"me-2"}),"Notifications WhatsApp"]})}),(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsxs)(Xa,{className:"mb-3",children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:[(0,Ae.jsx)(No,{className:"me-1"}),"Num\xe9ro WhatsApp pour notifications"]}),(0,Ae.jsx)(El.Control,{type:"text",value:n.whatsapp_notification_number,onChange:e=>b("whatsapp_notification_number",e.target.value),placeholder:"Ex: +237 6XX XX XX XX"}),(0,Ae.jsx)(El.Text,{className:"text-muted",children:"Ce num\xe9ro recevra les notifications"})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"\xc9tat des notifications"}),(0,Ae.jsx)("div",{children:(0,Ae.jsx)(El.Check,{type:"switch",id:"whatsapp-notifications-switch",label:n.whatsapp_notifications_enabled?"Activ\xe9es":"D\xe9sactiv\xe9es",checked:n.whatsapp_notifications_enabled,onChange:e=>b("whatsapp_notifications_enabled",e.target.checked)})})]})})]}),(0,Ae.jsxs)("div",{className:"border-top pt-3 mb-3",children:[(0,Ae.jsx)("h6",{className:"text-muted mb-3",children:"Configuration API UltraMsg"}),(0,Ae.jsx)(Xa,{children:(0,Ae.jsx)(Ja,{md:12,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"URL de l'API UltraMsg"}),(0,Ae.jsx)(El.Control,{type:"url",value:n.whatsapp_api_url,onChange:e=>b("whatsapp_api_url",e.target.value),placeholder:"https://api.ultramsg.com"}),(0,Ae.jsx)(El.Text,{className:"text-muted",children:"URL de base de l'API UltraMsg"})]})})}),(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Instance ID"}),(0,Ae.jsx)(El.Control,{type:"text",value:n.whatsapp_instance_id,onChange:e=>b("whatsapp_instance_id",e.target.value),placeholder:"instanceXXXXX"}),(0,Ae.jsx)(El.Text,{className:"text-muted",children:"ID de votre instance UltraMsg"})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Token API"}),(0,Ae.jsx)(El.Control,{type:"password",value:n.whatsapp_token,onChange:e=>b("whatsapp_token",e.target.value),placeholder:"Votre token UltraMsg"}),(0,Ae.jsx)(El.Text,{className:"text-muted",children:"Token d'authentification UltraMsg"})]})})]})]}),n.whatsapp_notifications_enabled&&n.whatsapp_notification_number&&n.whatsapp_api_url&&n.whatsapp_instance_id&&n.whatsapp_token&&(0,Ae.jsx)("div",{className:"bg-light p-3 rounded",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("strong",{className:"text-success",children:"\u2705 Configuration compl\xe8te"}),(0,Ae.jsx)("div",{className:"text-muted small",children:"Tous les param\xe8tres requis sont configur\xe9s"})]}),(0,Ae.jsx)(Da,{variant:"outline-success",size:"sm",onClick:async()=>{try{g(!0),c(""),u("");const e=await Ft.needs.testWhatsApp();e.success?(u(e.message),br().fire({title:"Test r\xe9ussi !",text:e.message,icon:"success",confirmButtonText:"OK"})):(c(e.message),br().fire({title:"Test \xe9chou\xe9",text:e.message,icon:"error",confirmButtonText:"OK"}))}catch(o){const t="Erreur lors du test WhatsApp";c(t),br().fire({title:"Erreur",text:t,icon:"error",confirmButtonText:"OK"})}finally{g(!1)}},disabled:v,children:v?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(kt,{animation:"border",size:"sm",className:"me-2"}),"Test en cours..."]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Qo,{className:"me-2"}),"Tester UltraMsg"]})})]})}),n.whatsapp_notifications_enabled&&(!n.whatsapp_notification_number||!n.whatsapp_api_url||!n.whatsapp_instance_id||!n.whatsapp_token)&&(0,Ae.jsxs)("div",{className:"alert alert-warning",children:[(0,Ae.jsx)("strong",{children:"\u26a0\ufe0f Configuration incompl\xe8te"}),(0,Ae.jsx)("div",{children:"Veuillez remplir tous les champs pour activer les notifications WhatsApp."})]})]})]}),(0,Ae.jsxs)(Fi,{className:"mb-4",children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsx)("h5",{className:"mb-0",children:"Texte de Pied de Page (Re\xe7us)"})}),(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsx)(El.Group,{children:(0,Ae.jsx)(El.Control,{as:"textarea",rows:4,value:n.footer_text,onChange:e=>b("footer_text",e.target.value),placeholder:"Texte qui appara\xeetra au bas des re\xe7us de paiement..."})})})]})]}),(0,Ae.jsxs)(Ja,{lg:4,children:[(0,Ae.jsxs)(Fi,{className:"mb-4",children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsxs)("h5",{className:"mb-0",children:[(0,Ae.jsx)(tc,{className:"me-2"}),"Logo de l'\xc9tablissement"]})}),(0,Ae.jsxs)(Fi.Body,{className:"text-center",children:[p&&(0,Ae.jsx)("div",{className:"mb-3",children:(0,Ae.jsx)(fo,{src:p,alt:"Logo",thumbnail:!0,style:{maxWidth:"200px",maxHeight:"200px"}})}),(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{children:"Choisir un nouveau logo"}),(0,Ae.jsx)(El.Control,{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void c("Le logo ne peut pas d\xe9passer 5MB");if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(t.type))return void c("Format de fichier non support\xe9. Utilisez JPG, PNG ou GIF.");h(t);const e=new FileReader;e.onload=e=>{f(e.target.result)},e.readAsDataURL(t)}}}),(0,Ae.jsx)(El.Text,{className:"text-muted",children:"Formats accept\xe9s: JPG, PNG, GIF. Taille max: 5MB"})]})]})]}),(0,Ae.jsxs)(Fi,{className:"mb-4",children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsxs)("h5",{className:"mb-0",children:[(0,Ae.jsx)(ac,{className:"me-2"}),"Th\xe8me de l'Application"]})}),(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)(pc,{value:n.primary_color,onChange:e=>b("primary_color",e),label:"Couleur principale de l'interface"}),(0,Ae.jsx)("small",{className:"text-muted",children:"Cette couleur sera appliqu\xe9e aux boutons, liens et \xe9l\xe9ments principaux de l'interface."})]})]})]})]}),(0,Ae.jsx)(Xa,{children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsx)("div",{className:"d-flex justify-content-end",children:(0,Ae.jsx)(Da,{variant:"primary",type:"submit",disabled:i,size:"lg",children:i?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(kt,{animation:"border",size:"sm",className:"me-2"}),"Sauvegarde..."]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(cc,{className:"me-2"}),"Sauvegarder les Param\xe8tres"]})})})})})]})]})},vc=t.forwardRef((e,t)=>{let{bsPrefix:n,size:r,vertical:s=!1,className:a,role:i="group",as:l="div",...o}=e;const c=wt(n,"btn-group");let d=c;return s&&(d=`${c}-vertical`),(0,Ae.jsx)(l,{...o,ref:t,role:i,className:vt()(a,d,r&&`${c}-${r}`)})});vc.displayName="ButtonGroup";const gc=vc;var xc=["color","size","title","className"];function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bc.apply(null,arguments)}var yc=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,xc);return t.createElement("svg",bc({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-info-circle",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),t.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"}))});yc.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const jc=yc,wc=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[u,m]=(0,t.useState)(""),[h,p]=(0,t.useState)(!1),[f,v]=(0,t.useState)(null),[g,x]=(0,t.useState)({school_class_id:"",name:"",description:"",amount:"",is_active:!0});(0,t.useEffect)(()=>{b()},[]);const b=async()=>{try{i(!0);const[e,t]=await Promise.all([Ft.scholarships.getAll(),Ft.schoolClasses.getAll()]);e.success&&n(e.data),t.success&&s(t.data)}catch(c){d("Erreur lors du chargement des donn\xe9es"),console.error("Error loading data:",c)}finally{i(!1)}},y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(v(e),x({school_class_id:e.school_class_id,name:e.name,description:e.description||"",amount:e.amount,is_active:e.is_active})):(v(null),x({school_class_id:"",name:"",description:"",amount:"",is_active:!0})),p(!0),d(""),m("")},j=()=>{p(!1),v(null),x({school_class_id:"",name:"",description:"",amount:"",is_active:!0})},w=(e,t)=>{x(n=>({...n,[e]:t}))},N=e=>{const t=r.find(t=>t.id===e);return t?t.name:"Classe inconnue"};return a?(0,Ae.jsx)(Ka,{fluid:!0,className:"py-4",children:(0,Ae.jsx)("div",{className:"text-center",children:(0,Ae.jsx)(kt,{animation:"border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement..."})})})}):(0,Ae.jsxs)(Ka,{fluid:!0,className:"py-4",children:[(0,Ae.jsx)(Xa,{className:"mb-4",children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{children:"Gestion des Bourses par Classe"}),(0,Ae.jsx)("p",{className:"text-muted",children:"Cr\xe9ez et g\xe9rez les bourses disponibles pour chaque classe"})]}),(0,Ae.jsxs)(Da,{variant:"primary",onClick:()=>y(),children:[(0,Ae.jsx)(nn,{size:16,className:"me-2"}),"Nouvelle Bourse"]})]})})}),c&&(0,Ae.jsx)(gi,{variant:"danger",dismissible:!0,onClose:()=>d(""),children:c}),u&&(0,Ae.jsx)(gi,{variant:"success",dismissible:!0,onClose:()=>m(""),children:u}),(0,Ae.jsx)(Xa,{className:"mb-4",children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsx)(Fi,{className:"border-info",children:(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Ae.jsx)(jc,{size:20,className:"text-info me-3 mt-1"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h6",{className:"text-info mb-2",children:"\xc0 propos des bourses"}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Les bourses sont appliqu\xe9es automatiquement aux \xe9tudiants \xe9ligibles lors des paiements, en fonction de leur classe et du respect de la date limite configur\xe9e dans les param\xe8tres d'\xe9tablissement."})]})]})})})})}),(0,Ae.jsx)(Xa,{children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsxs)(Fi,{children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsxs)("h5",{className:"mb-0",children:[(0,Ae.jsx)(bn,{className:"me-2"}),"Bourses Configur\xe9es (",e.length,")"]})}),(0,Ae.jsx)(Fi.Body,{children:0===e.length?(0,Ae.jsxs)("div",{className:"text-center py-4",children:[(0,Ae.jsx)("p",{className:"text-muted",children:"Aucune bourse configur\xe9e"}),(0,Ae.jsxs)(Da,{variant:"outline-primary",onClick:()=>y(),children:[(0,Ae.jsx)(nn,{size:16,className:"me-2"}),"Cr\xe9er la premi\xe8re bourse"]})]}):(0,Ae.jsxs)(Hi,{responsive:!0,hover:!0,children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Classe"}),(0,Ae.jsx)("th",{children:"Nom de la Bourse"}),(0,Ae.jsx)("th",{children:"Description"}),(0,Ae.jsx)("th",{children:"Montant"}),(0,Ae.jsx)("th",{children:"Statut"}),(0,Ae.jsx)("th",{width:"120",children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:e.map(e=>{return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)("strong",{children:N(e.school_class_id)})}),(0,Ae.jsx)("td",{children:e.name}),(0,Ae.jsx)("td",{children:e.description?(0,Ae.jsx)("span",{className:"text-muted",children:e.description}):(0,Ae.jsx)("em",{className:"text-muted",children:"Aucune description"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("strong",{className:"text-success",children:(t=e.amount,parseInt(t).toLocaleString()+" FCFA")})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(qi,{bg:e.is_active?"success":"secondary",children:e.is_active?"Active":"Inactive"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)(gc,{size:"sm",children:[(0,Ae.jsx)(Da,{variant:"outline-primary",onClick:()=>y(e),title:"Modifier",children:(0,Ae.jsx)(gr,{size:14})}),(0,Ae.jsx)(Da,{variant:"outline-danger",onClick:()=>(async e=>{if((await br().fire({title:"Confirmer la suppression",text:`\xcates-vous s\xfbr de vouloir supprimer la bourse "${e.name}" ?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Supprimer",cancelButtonText:"Annuler"})).isConfirmed)try{const t=await Ft.scholarships.delete(e.id);t.success?(m("Bourse supprim\xe9e avec succ\xe8s"),await b(),br().fire({title:"Supprim\xe9 !",text:"La bourse a \xe9t\xe9 supprim\xe9e avec succ\xe8s.",icon:"success",confirmButtonText:"OK"})):d(t.message||"Erreur lors de la suppression")}catch(c){d("Erreur lors de la suppression de la bourse"),console.error("Error deleting scholarship:",c)}})(e),title:"Supprimer",children:(0,Ae.jsx)(Dn,{size:14})})]})})]},e.id);var t})})]})})]})})}),(0,Ae.jsxs)(Aa,{show:h,onHide:j,size:"lg",children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsx)(Aa.Title,{children:f?"Modifier la Bourse":"Nouvelle Bourse"})}),(0,Ae.jsxs)(El,{onSubmit:async e=>{if(e.preventDefault(),g.school_class_id&&g.name&&g.amount)if(parseFloat(g.amount)<0)d("Le montant doit \xeatre positif");else try{o(!0),d("");const e={...g,amount:parseFloat(g.amount)};let t;t=f?await Ft.scholarships.update(f.id,e):await Ft.scholarships.create(e),t.success?(m(f?"Bourse mise \xe0 jour avec succ\xe8s":"Bourse cr\xe9\xe9e avec succ\xe8s"),j(),await b(),br().fire({title:"Succ\xe8s !",text:t.message,icon:"success",confirmButtonText:"OK"})):d(t.message||"Erreur lors de la sauvegarde")}catch(c){d("Erreur lors de la sauvegarde de la bourse"),console.error("Error saving scholarship:",c)}finally{o(!1)}else d("Veuillez remplir tous les champs obligatoires")},children:[(0,Ae.jsxs)(Aa.Body,{children:[(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Classe *"}),(0,Ae.jsxs)(El.Select,{value:g.school_class_id,onChange:e=>w("school_class_id",e.target.value),required:!0,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner une classe"}),r.map(e=>(0,Ae.jsx)("option",{value:e.id,children:e.name},e.id))]})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Nom de la Bourse *"}),(0,Ae.jsx)(El.Control,{type:"text",value:g.name,onChange:e=>w("name",e.target.value),placeholder:"Ex: Bourse d'Excellence",required:!0})]})})]}),(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:[(0,Ae.jsx)(Lo,{className:"me-1"}),"Montant (FCFA) *"]}),(0,Ae.jsx)(El.Control,{type:"number",min:"0",step:"1",value:g.amount,onChange:e=>w("amount",e.target.value),placeholder:"Ex: 50000",required:!0})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Statut"}),(0,Ae.jsxs)(El.Select,{value:g.is_active?"true":"false",onChange:e=>w("is_active","true"===e.target.value),children:[(0,Ae.jsx)("option",{value:"true",children:"Active"}),(0,Ae.jsx)("option",{value:"false",children:"Inactive"})]})]})})]}),(0,Ae.jsx)(Xa,{children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Description"}),(0,Ae.jsx)(El.Control,{as:"textarea",rows:3,value:g.description,onChange:e=>w("description",e.target.value),placeholder:"Description de la bourse (optionnel)..."})]})})})]}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsxs)(Da,{variant:"secondary",onClick:j,children:[(0,Ae.jsx)(ot,{size:16,className:"me-2"}),"Annuler"]}),(0,Ae.jsx)(Da,{variant:"primary",type:"submit",disabled:l,children:l?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(kt,{animation:"border",size:"sm",className:"me-2"}),"Sauvegarde..."]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(hc,{size:16,className:"me-2"}),f?"Mettre \xe0 jour":"Cr\xe9er la Bourse"]})})]})]})]})]})};const Nc=function(){var e;const[n,r]=(0,t.useState)("school-settings"),s=[{key:"school-settings",title:"Param\xe8tres G\xe9n\xe9raux",icon:(0,Ae.jsx)(bn,{size:16,className:"me-2"}),component:(0,Ae.jsx)(fc,{})},{key:"scholarships",title:"Bourses par Classe",icon:(0,Ae.jsx)(oo,{size:16,className:"me-2"}),component:(0,Ae.jsx)(wc,{})}];return(0,Ae.jsxs)(Ka,{fluid:!0,className:"py-4",children:[(0,Ae.jsx)(Xa,{className:"mb-4",children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,Ae.jsx)(ho,{size:24,className:"me-3 text-primary"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{className:"mb-0",children:"Param\xe8tres de l'Application"}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Configuration et gestion des param\xe8tres du syst\xe8me"})]})]})})}),(0,Ae.jsx)(Xa,{className:"mb-4",children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsx)(Fi,{children:(0,Ae.jsx)(Fi.Body,{className:"p-0",children:(0,Ae.jsx)(so,{variant:"tabs",className:"border-0",children:s.map(e=>(0,Ae.jsx)(so.Item,{children:(0,Ae.jsxs)(so.Link,{active:n===e.key,onClick:()=>r(e.key),className:"d-flex align-items-center px-4 py-3",style:{cursor:"pointer"},children:[e.icon,e.title]})},e.key))})})})})}),(0,Ae.jsx)(Xa,{children:(0,Ae.jsx)(Ja,{children:null===(e=s.find(e=>e.key===n))||void 0===e?void 0:e.component})})]})};var Cc=["color","size","title","className"];function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ec.apply(null,arguments)}var Sc=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Cc);return t.createElement("svg",Ec({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-person",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"}))});Sc.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const kc=Sc;var _c=["color","size","title","className"];function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oc.apply(null,arguments)}var Pc=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,_c);return t.createElement("svg",Oc({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-shield",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M5.338 1.59a61 61 0 0 0-2.837.856.48.48 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.7 10.7 0 0 0 2.287 2.233c.346.244.652.42.893.533q.18.085.293.118a1 1 0 0 0 .101.025 1 1 0 0 0 .1-.025q.114-.034.294-.118c.24-.113.547-.29.893-.533a10.7 10.7 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.8 11.8 0 0 1-2.517 2.453 7 7 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7 7 0 0 1-1.048-.625 11.8 11.8 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 63 63 0 0 1 5.072.56"}))});Pc.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const zc=Pc;var Tc=["color","size","title","className"];function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ac.apply(null,arguments)}var Rc=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Tc);return t.createElement("svg",Ac({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-key",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8m4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5"}),t.createElement("path",{d:"M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0"}))});Rc.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Lc=Rc;var Mc=["color","size","title","className"];function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bc.apply(null,arguments)}var Ic=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Mc);return t.createElement("svg",Bc({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-eye-slash",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"}),t.createElement("path",{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"}),t.createElement("path",{d:"M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"}))});Ic.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Dc=Ic,$c=()=>{const{user:e,updateUser:n}=De(),[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(""),[l,o]=(0,t.useState)(""),[c,d]=(0,t.useState)("profile"),[u,m]=(0,t.useState)([]),[h,p]=(0,t.useState)(null),[f,v]=(0,t.useState)(!1),[g,x]=(0,t.useState)({name:"",email:"",phone:"",address:""}),[b,y]=(0,t.useState)({current_password:"",new_password:"",confirm_password:""}),[j,w]=(0,t.useState)({current:!1,new:!1,confirm:!1}),[N,C]=(0,t.useState)(!1);(0,t.useEffect)(()=>{e&&(x({name:e.name||"",email:e.email||"",phone:e.phone||"",address:e.address||""}),"admin"!==e.role&&"accountant"!==e.role||E())},[e]);const E=async()=>{try{v(!0);const e=await Ft.schoolYears.getActiveYears();m(e.data||[]);const t=await Ft.schoolYears.getUserWorkingYear();p(t.data||null)}catch(a){console.error("Error loading school year data:",a)}finally{v(!1)}},S=e=>{w(t=>({...t,[e]:!t[e]}))};return e?(0,Ae.jsxs)("div",{className:"container-fluid py-4",children:[(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{className:"h4 mb-1",children:"Mon Profil"}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"G\xe9rez vos informations personnelles et vos param\xe8tres de s\xe9curit\xe9"})]})})})}),a&&(0,Ae.jsx)("div",{className:"row mb-3",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[a,(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:()=>i(""),"aria-label":"Close"})]})})}),l&&(0,Ae.jsx)("div",{className:"row mb-3",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[l,(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:()=>o(""),"aria-label":"Close"})]})})}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-3 mb-4",children:[(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("div",{className:"card-body text-center",children:[(0,Ae.jsx)("div",{className:"bg-primary bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center mx-auto mb-3",style:{width:"80px",height:"80px"},children:(0,Ae.jsx)(kc,{className:"text-primary",size:40})}),(0,Ae.jsx)("h5",{className:"card-title",children:e.name}),(0,Ae.jsx)("p",{className:"text-muted small mb-2",children:e.email}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-center gap-1 mb-2",children:[(0,Ae.jsx)("span",{className:"badge "+(e.is_active?"bg-success":"bg-secondary"),children:e.is_active?"Actif":"Inactif"}),(0,Ae.jsx)("span",{className:"badge bg-primary",children:"admin"===e.role?"Admin":"accountant"===e.role?"Comptable":"teacher"===e.role?"Enseignant":"Utilisateur"})]}),e.username&&(0,Ae.jsxs)("small",{className:"text-muted",children:["@",e.username]})]})}),(0,Ae.jsxs)("div",{className:"list-group mt-3",children:[(0,Ae.jsxs)("button",{className:"list-group-item list-group-item-action d-flex align-items-center "+("profile"===c?"active":""),onClick:()=>d("profile"),children:[(0,Ae.jsx)(kc,{size:16,className:"me-2"}),"Informations personnelles"]}),(0,Ae.jsxs)("button",{className:"list-group-item list-group-item-action d-flex align-items-center "+("security"===c?"active":""),onClick:()=>d("security"),children:[(0,Ae.jsx)(zc,{size:16,className:"me-2"}),"S\xe9curit\xe9"]}),("admin"===e.role||"accountant"===e.role)&&(0,Ae.jsxs)("button",{className:"list-group-item list-group-item-action d-flex align-items-center "+("working-year"===c?"active":""),onClick:()=>d("working-year"),children:[(0,Ae.jsx)(Do,{size:16,className:"me-2"}),"Ann\xe9e de travail"]})]})]}),(0,Ae.jsxs)("div",{className:"col-md-9",children:["profile"===c&&(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("h5",{className:"mb-0",children:[(0,Ae.jsx)(kc,{size:20,className:"me-2"}),"Informations personnelles"]}),!N&&(0,Ae.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>C(!0),children:[(0,Ae.jsx)(gr,{size:14,className:"me-1"}),"Modifier"]})]}),(0,Ae.jsx)("div",{className:"card-body",children:N?(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{s(!0),i("");const e=await Ft.auth.updateProfile(g);e.success?(o("Profil mis \xe0 jour avec succ\xe8s"),C(!1),n(e.data.user),br().fire({title:"Succ\xe8s",text:"Votre profil a \xe9t\xe9 mis \xe0 jour avec succ\xe8s",icon:"success",timer:2e3,showConfirmButton:!1})):i(e.message||"Erreur lors de la mise \xe0 jour du profil")}catch(a){console.error("Error updating profile:",a),i("Erreur lors de la mise \xe0 jour du profil")}finally{s(!1)}},children:[(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Nom complet *"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",value:g.name,onChange:e=>x({...g,name:e.target.value}),required:!0})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Email *"}),(0,Ae.jsx)("input",{type:"email",className:"form-control",value:g.email,onChange:e=>x({...g,email:e.target.value}),required:!0})]})})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"T\xe9l\xe9phone"}),(0,Ae.jsx)("input",{type:"tel",className:"form-control",value:g.phone,onChange:e=>x({...g,phone:e.target.value})})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Adresse"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",value:g.address,onChange:e=>x({...g,address:e.target.value})})]})})]}),(0,Ae.jsxs)("div",{className:"d-flex gap-2",children:[(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,children:r?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Mise \xe0 jour..."]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(hc,{size:16,className:"me-1"}),"Enregistrer"]})}),(0,Ae.jsxs)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{C(!1),x({name:e.name||"",email:e.email||"",phone:e.phone||"",address:e.address||""})},children:[(0,Ae.jsx)(ot,{size:16,className:"me-1"}),"Annuler"]})]})]}):(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6",children:[(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label text-muted",children:"Nom complet"}),(0,Ae.jsx)("p",{className:"fw-medium",children:e.name})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label text-muted",children:"T\xe9l\xe9phone"}),(0,Ae.jsxs)("p",{className:"fw-medium",children:[(0,Ae.jsx)(No,{size:16,className:"me-1"}),e.phone||"Non renseign\xe9"]})]})]}),(0,Ae.jsxs)("div",{className:"col-md-6",children:[(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label text-muted",children:"Email"}),(0,Ae.jsxs)("p",{className:"fw-medium",children:[(0,Ae.jsx)(ko,{size:16,className:"me-1"}),e.email]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label text-muted",children:"Adresse"}),(0,Ae.jsxs)("p",{className:"fw-medium",children:[(0,Ae.jsx)(bo,{size:16,className:"me-1"}),e.address||"Non renseign\xe9e"]})]})]}),(0,Ae.jsxs)("div",{className:"col-12",children:[(0,Ae.jsx)("hr",{}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-4",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label text-muted",children:"Date de cr\xe9ation"}),(0,Ae.jsxs)("p",{className:"fw-medium",children:[(0,Ae.jsx)(Do,{size:16,className:"me-1"}),(k=e.created_at,k?new Date(k).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"Non disponible")]})]})}),(0,Ae.jsx)("div",{className:"col-md-4",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label text-muted",children:"R\xf4le"}),(0,Ae.jsxs)("p",{className:"fw-medium",children:[(0,Ae.jsx)(bn,{size:16,className:"me-1"}),"admin"===e.role?"Administrateur":"accountant"===e.role?"Comptable":"teacher"===e.role?"Enseignant":"Utilisateur"]})]})}),(0,Ae.jsx)("div",{className:"col-md-4",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label text-muted",children:"Nom d'utilisateur"}),(0,Ae.jsxs)("p",{className:"fw-medium",children:[(0,Ae.jsx)(kc,{size:16,className:"me-1"}),e.username||"Non d\xe9fini"]})]})})]}),("admin"===e.role||"accountant"===e.role)&&(0,Ae.jsx)("div",{className:"row mt-3",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"alert alert-info",children:[(0,Ae.jsx)("strong",{children:"Informations d'acc\xe8s :"}),(0,Ae.jsxs)("ul",{className:"mb-0 mt-2",children:[(0,Ae.jsx)("li",{children:"Acc\xe8s complet aux fonctionnalit\xe9s du syst\xe8me"}),(0,Ae.jsx)("li",{children:"Gestion des ann\xe9es scolaires"}),(0,Ae.jsx)("li",{children:"Configuration de l'ann\xe9e de travail personnalis\xe9e"}),"admin"===e.role&&(0,Ae.jsx)("li",{children:"Administration compl\xe8te du syst\xe8me"}),"accountant"===e.role&&(0,Ae.jsx)("li",{children:"Gestion financi\xe8re et comptable"})]})]})})}),"teacher"===e.role&&(0,Ae.jsx)("div",{className:"row mt-3",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"alert alert-success",children:[(0,Ae.jsx)("strong",{children:"Profil Enseignant :"}),(0,Ae.jsxs)("ul",{className:"mb-0 mt-2",children:[(0,Ae.jsx)("li",{children:"Gestion des \xe9l\xe8ves de vos classes"}),(0,Ae.jsx)("li",{children:"Suivi p\xe9dagogique et \xe9valuations"}),(0,Ae.jsx)("li",{children:"Acc\xe8s aux outils d'enseignement"})]})]})})}),("admin"===e.role||"accountant"===e.role)&&h&&(0,Ae.jsx)("div",{className:"row mt-3",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)("div",{className:"card bg-light",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("h6",{className:"card-title mb-2",children:[(0,Ae.jsx)(Do,{size:18,className:"me-2 text-primary"}),"Ann\xe9e de travail actuelle"]}),(0,Ae.jsxs)("p",{className:"card-text mb-0",children:[(0,Ae.jsx)("strong",{children:h.name}),(0,Ae.jsxs)("span",{className:"text-muted ms-2",children:["(",new Date(h.start_date).toLocaleDateString("fr-FR")," -",new Date(h.end_date).toLocaleDateString("fr-FR"),")"]})]}),(0,Ae.jsx)("small",{className:"text-muted",children:"Cette ann\xe9e est utilis\xe9e pour l'affichage des donn\xe9es et l'ajout de nouveaux \xe9l\xe9ments."})]})})})})]})]})})]}),"security"===c&&(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsx)("div",{className:"card-header",children:(0,Ae.jsxs)("h5",{className:"mb-0",children:[(0,Ae.jsx)(Lc,{size:20,className:"me-2"}),"Changer le mot de passe"]})}),(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b.new_password===b.confirm_password)if(b.new_password.length<6)i("Le nouveau mot de passe doit contenir au moins 6 caract\xe8res");else try{s(!0),i("");const e=await Ft.auth.changePassword({current_password:b.current_password,new_password:b.new_password});e.success?(o("Mot de passe modifi\xe9 avec succ\xe8s"),y({current_password:"",new_password:"",confirm_password:""}),br().fire({title:"Succ\xe8s",text:"Votre mot de passe a \xe9t\xe9 modifi\xe9 avec succ\xe8s",icon:"success",timer:2e3,showConfirmButton:!1})):i(e.message||"Erreur lors de la modification du mot de passe")}catch(a){console.error("Error changing password:",a),i("Erreur lors de la modification du mot de passe")}finally{s(!1)}else i("Les nouveaux mots de passe ne correspondent pas")},children:[(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Mot de passe actuel *"}),(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsx)("input",{type:j.current?"text":"password",className:"form-control",value:b.current_password,onChange:e=>y({...b,current_password:e.target.value}),required:!0}),(0,Ae.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>S("current"),children:j.current?(0,Ae.jsx)(Dc,{size:16}):(0,Ae.jsx)(Mr,{size:16})})]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Nouveau mot de passe *"}),(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsx)("input",{type:j.new?"text":"password",className:"form-control",value:b.new_password,onChange:e=>y({...b,new_password:e.target.value}),required:!0,minLength:"6"}),(0,Ae.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>S("new"),children:j.new?(0,Ae.jsx)(Dc,{size:16}):(0,Ae.jsx)(Mr,{size:16})})]}),(0,Ae.jsx)("small",{className:"text-muted",children:"Au moins 6 caract\xe8res"})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Confirmer le nouveau mot de passe *"}),(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsx)("input",{type:j.confirm?"text":"password",className:"form-control",value:b.confirm_password,onChange:e=>y({...b,confirm_password:e.target.value}),required:!0}),(0,Ae.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>S("confirm"),children:j.confirm?(0,Ae.jsx)(Dc,{size:16}):(0,Ae.jsx)(Mr,{size:16})})]})]}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,children:r?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Modification..."]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Lc,{size:16,className:"me-1"}),"Changer le mot de passe"]})})]})})]}),"working-year"===c&&("admin"===e.role||"accountant"===e.role)&&(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsx)("div",{className:"card-header",children:(0,Ae.jsxs)("h5",{className:"mb-0",children:[(0,Ae.jsx)(Do,{size:20,className:"me-2"}),"Ann\xe9e de travail"]})}),(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-8",children:[(0,Ae.jsx)("p",{className:"text-muted mb-3",children:"Choisissez l'ann\xe9e scolaire dans laquelle vous souhaitez travailler. Cette s\xe9lection sera m\xe9moris\xe9e et utilis\xe9e dans toutes les fonctionnalit\xe9s du syst\xe8me."}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Ann\xe9e scolaire actuelle"}),(0,Ae.jsx)("div",{className:"p-3 bg-light rounded",children:h?(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(Do,{size:18,className:"me-2 text-primary"}),(0,Ae.jsx)("strong",{children:h.name}),(0,Ae.jsxs)("span",{className:"ms-2 text-muted",children:["(",new Date(h.start_date).toLocaleDateString("fr-FR")," -",new Date(h.end_date).toLocaleDateString("fr-FR"),")"]})]}):(0,Ae.jsx)("span",{className:"text-muted",children:"Aucune ann\xe9e s\xe9lectionn\xe9e"})})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Changer d'ann\xe9e de travail"}),(0,Ae.jsxs)("select",{className:"form-select",value:(null===h||void 0===h?void 0:h.id)||"",onChange:e=>(async e=>{try{v(!0),i("");const t=await Ft.schoolYears.setUserWorkingYear(e);t.success?(p(t.data),o("Ann\xe9e de travail mise \xe0 jour avec succ\xe8s"),br().fire({title:"Succ\xe8s",text:"Votre ann\xe9e de travail a \xe9t\xe9 mise \xe0 jour avec succ\xe8s",icon:"success",timer:2e3,showConfirmButton:!1})):i(t.message||"Erreur lors de la mise \xe0 jour de l'ann\xe9e de travail")}catch(a){console.error("Error updating working year:",a),i("Erreur lors de la mise \xe0 jour de l'ann\xe9e de travail")}finally{v(!1)}})(e.target.value),disabled:f,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner une ann\xe9e..."}),u.map(e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.name," (",new Date(e.start_date).toLocaleDateString("fr-FR")," -",new Date(e.end_date).toLocaleDateString("fr-FR"),")",e.is_current&&" (Ann\xe9e courante)"]},e.id))]}),f&&(0,Ae.jsxs)("div",{className:"mt-2",children:[(0,Ae.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Mise \xe0 jour en cours..."]})]}),(0,Ae.jsxs)("div",{className:"alert alert-info",children:[(0,Ae.jsx)("strong",{children:"Note:"})," Le changement d'ann\xe9e de travail affectera:",(0,Ae.jsxs)("ul",{className:"mb-0 mt-2",children:[(0,Ae.jsx)("li",{children:"Les statistiques et rapports affich\xe9s"}),(0,Ae.jsx)("li",{children:"Les listes d'\xe9l\xe8ves et leurs donn\xe9es"}),(0,Ae.jsx)("li",{children:"Les calculs de paiements et frais"}),(0,Ae.jsx)("li",{children:"Toutes les fonctionnalit\xe9s li\xe9es aux donn\xe9es acad\xe9miques"})]})]})]}),(0,Ae.jsx)("div",{className:"col-md-4",children:(0,Ae.jsxs)("div",{className:"bg-light p-3 rounded",children:[(0,Ae.jsx)("h6",{className:"fw-bold mb-3",children:"Ann\xe9es disponibles"}),u.length>0?(0,Ae.jsx)("ul",{className:"list-unstyled",children:u.map(e=>(0,Ae.jsx)("li",{className:"mb-2",children:(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(Do,{size:14,className:"me-2 text-muted"}),(0,Ae.jsxs)("span",{className:"small",children:[e.name,e.is_current&&(0,Ae.jsx)("span",{className:"badge bg-primary ms-1",style:{fontSize:"0.6em"},children:"Courante"})]})]})},e.id))}):(0,Ae.jsx)("p",{className:"text-muted small",children:"Aucune ann\xe9e disponible"})]})})]})})]})]})]})]}):(0,Ae.jsx)("div",{className:"container-fluid py-4",children:(0,Ae.jsx)("div",{className:"text-center py-5",children:(0,Ae.jsx)("div",{className:"spinner-border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement..."})})})});var k};var Fc=["color","size","title","className"];function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uc.apply(null,arguments)}var Hc=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Fc);return t.createElement("svg",Uc({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-arrow-left",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"}))});Hc.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Vc=Hc;var qc=["color","size","title","className"];function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wc.apply(null,arguments)}var Gc=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,qc);return t.createElement("svg",Wc({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-download",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),t.createElement("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"}))});Gc.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Kc=Gc;var Yc=["color","size","title","className"];function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xc.apply(null,arguments)}var Qc=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Yc);return t.createElement("svg",Xc({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-sort-alpha-down",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{fillRule:"evenodd",d:"M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371zm1.57-.785L11 2.687h-.047l-.652 2.157z"}),t.createElement("path",{d:"M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645zM4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293z"}))});Qc.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Jc=Qc;var Zc=["color","size","title","className"];function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ed.apply(null,arguments)}var td=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Zc);return t.createElement("svg",ed({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-camera",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M15 12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.172a3 3 0 0 0 2.12-.879l.83-.828A1 1 0 0 1 6.827 3h2.344a1 1 0 0 1 .707.293l.828.828A3 3 0 0 0 12.828 5H14a1 1 0 0 1 1 1zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4z"}),t.createElement("path",{d:"M8 11a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5m0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7M3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"}))});td.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const nd=td;var rd=["color","size","title","className"];function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sd.apply(null,arguments)}var ad=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,rd);return t.createElement("svg",sd({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-image",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"}),t.createElement("path",{d:"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"}))});ad.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const id=ad;var ld=["color","size","title","className"];function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},od.apply(null,arguments)}var cd=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,ld);return t.createElement("svg",od({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-printer",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),t.createElement("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"}))});cd.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const dd=cd,ud=n.p+"static/media/1.aaff168f6801aaada84f.png",md=(n.p,e=>{var t,n,r;let{student:s,schoolYear:a,onPrint:i}=e;const{schoolSettings:l,getLogoUrl:o}=Ht();return(0,Ae.jsxs)("div",{style:{width:"85.6mm",height:"54mm",backgroundColor:"#fff",border:"2px solid #e67e22",borderRadius:"8px",fontFamily:"Arial, sans-serif",fontSize:"9px",lineHeight:"1.1",overflow:"hidden",position:"relative",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},className:"student-card",children:[(0,Ae.jsx)("div",{style:{backgroundColor:"#f8f9fa",padding:"4px 8px",borderBottom:"1px solid #e67e22",textAlign:"center",fontSize:"8px",fontWeight:"bold"},children:(0,Ae.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ae.jsxs)("div",{style:{fontSize:"6px"},children:["\ud83c\udde8\ud83c\uddf2 R\xc9PUBLIQUE DU CAMEROUN",(0,Ae.jsx)("br",{}),"Paix - Travail - Patrie"]}),(0,Ae.jsxs)("div",{style:{textAlign:"center",flex:1},children:[(0,Ae.jsx)("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#2c3e50"},children:(null===(t=l.school_name)||void 0===t?void 0:t.toUpperCase())||"LYC\xc9E GANALIS"}),(0,Ae.jsx)("div",{style:{fontSize:"8px",color:"#7f8c8d"},children:"CARTE D'IDENTIT\xc9 SCOLAIRE"})]}),(0,Ae.jsx)("div",{style:{width:"20px"},children:o()&&(0,Ae.jsx)("img",{src:o(),alt:"Logo",style:{width:"18px",height:"18px",objectFit:"contain"}})})]})}),(0,Ae.jsxs)("div",{style:{padding:"6px",display:"flex",height:"calc(100% - 30px)"},children:[(0,Ae.jsx)("div",{children:(0,Ae.jsx)("img",{src:(e=>{if(!e.photo)return ud;if(e.photo.startsWith("http"))return e.photo;return`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000"}/storage/${e.photo}`})(s),alt:`${s.first_name} ${s.last_name}`,style:{width:"40px",height:"45px",objectFit:"cover",border:"1px solid #ddd",borderRadius:"2px",marginRight:"6px"},onError:e=>{e.target.src=ud}})}),(0,Ae.jsxs)("div",{style:{flex:1,fontSize:"8px",lineHeight:"1.2"},children:[(0,Ae.jsxs)("div",{style:{fontSize:"7px",marginBottom:"2px",fontWeight:"bold"},children:["ANN\xc9E SCOLAIRE : ",(null===a||void 0===a?void 0:a.year)||`${(new Date).getFullYear()} - ${(new Date).getFullYear()+1}`]}),(0,Ae.jsxs)("div",{style:{marginBottom:"1px"},children:[(0,Ae.jsx)("strong",{children:"Nom :"})," ",(null===(n=s.last_name)||void 0===n?void 0:n.toUpperCase())||""]}),(0,Ae.jsxs)("div",{style:{marginBottom:"1px"},children:[(0,Ae.jsx)("strong",{children:"Pr\xe9nom :"})," ",s.first_name||""]}),(0,Ae.jsxs)("div",{style:{marginBottom:"1px"},children:[(0,Ae.jsx)("strong",{children:"N\xe9e le :"})," ",(e=>{if(!e)return"";return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})})(s.date_of_birth),(0,Ae.jsx)("strong",{style:{marginLeft:"8px"},children:"\xc0"})," ",s.place_of_birth||"DOUALA"]}),(0,Ae.jsxs)("div",{style:{marginBottom:"1px"},children:[(0,Ae.jsx)("strong",{children:"Sexe :"})," ","male"===s.gender?"M":"female"===s.gender?"F":"M",(0,Ae.jsx)("strong",{style:{marginLeft:"15px"},children:"Classe :"})," ",(null===(r=s.class_series)||void 0===r?void 0:r.name)||s.current_class||""]}),(0,Ae.jsxs)("div",{style:{marginBottom:"1px"},children:[(0,Ae.jsx)("strong",{children:"Contact:"})," ",s.phone||"***********"]})]}),(0,Ae.jsx)("div",{style:{position:"absolute",bottom:"4px",right:"4px",width:"25px",height:"25px"},children:(0,Ae.jsx)("img",{src:(e=>{const t=`Student: ${e.first_name} ${e.last_name}, ID: ${e.id}, Year: ${(null===a||void 0===a?void 0:a.year)||(new Date).getFullYear()}`;return`https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=${encodeURIComponent(t)}`})(s),alt:"QR Code",style:{width:"100%",height:"100%",objectFit:"contain"}})})]}),(0,Ae.jsx)("div",{style:{position:"absolute",bottom:"2px",left:"4px",fontSize:"6px",color:"#666"},children:(0,Ae.jsxs)("strong",{children:["MAT. : ",(e=>{if(e.matricule)return e.matricule;return`${(new Date).getFullYear().toString().slice(-2)}${e.id.toString().padStart(4,"0")}AB`})(s)]})}),(0,Ae.jsxs)("div",{style:{position:"absolute",bottom:"1px",right:"30px",fontSize:"5px",color:"#aaa"},children:["SYST\xc8ME PAO / PROTECTED BY GANALIS SCHOOL / ",(new Date).getFullYear()," ALL RIGHTS RESERVED"]})]})}),hd=e=>{let{student:n,schoolYear:r,show:s,onHide:a,onPrintSuccess:i}=e;const[l,o]=(0,t.useState)(!1),{schoolSettings:c}=Ht();return n?(0,Ae.jsxs)(Aa,{show:s,onHide:a,size:"lg",centered:!0,children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsxs)(Aa.Title,{children:[(0,Ae.jsx)(dd,{className:"me-2"}),"Carte Scolaire - ",n.first_name," ",n.last_name]})}),(0,Ae.jsxs)(Aa.Body,{children:[(0,Ae.jsx)("div",{className:"text-center mb-3",children:(0,Ae.jsx)("div",{className:"d-inline-block",style:{transform:"scale(1.5)",transformOrigin:"center"},children:(0,Ae.jsx)(md,{student:n,schoolYear:r})})}),(0,Ae.jsx)("div",{className:"text-center text-muted",children:(0,Ae.jsxs)("small",{children:["\ud83d\udccc Aper\xe7u de la carte scolaire",(0,Ae.jsx)("br",{}),'Cliquez sur "Imprimer" pour ouvrir la fen\xeatre d\'impression']})})]}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:a,children:"Annuler"}),(0,Ae.jsx)(Da,{variant:"primary",onClick:async()=>{if(n)try{var e,t,s;o(!0);const a=window.open("","_blank","width=800,height=600");if(!a)throw new Error("Popup bloqu\xe9. Veuillez autoriser les popups pour imprimer.");const l=`\n                <!DOCTYPE html>\n                <html>\n                <head>\n                    <meta charset="UTF-8">\n                    <title>Carte Scolaire - ${n.first_name} ${n.last_name}</title>\n                    <style>\n                        * {\n                            margin: 0;\n                            padding: 0;\n                            box-sizing: border-box;\n                        }\n                        \n                        body {\n                            font-family: Arial, sans-serif;\n                            background: white;\n                            padding: 20px;\n                            display: flex;\n                            justify-content: center;\n                            align-items: center;\n                            min-height: 100vh;\n                        }\n                        \n                        .card-container {\n                            width: 85.6mm;\n                            height: 54mm;\n                            background: white;\n                            border: 2px solid #e67e22;\n                            border-radius: 8px;\n                            overflow: hidden;\n                            position: relative;\n                            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n                        }\n                        \n                        .card-header {\n                            background: #f8f9fa;\n                            padding: 4px 8px;\n                            border-bottom: 1px solid #e67e22;\n                            text-align: center;\n                            font-size: 8px;\n                            font-weight: bold;\n                        }\n                        \n                        .header-content {\n                            display: flex;\n                            align-items: center;\n                            justify-content: space-between;\n                        }\n                        \n                        .flag-section {\n                            font-size: 6px;\n                        }\n                        \n                        .school-section {\n                            text-align: center;\n                            flex: 1;\n                        }\n                        \n                        .school-name {\n                            font-size: 10px;\n                            font-weight: bold;\n                            color: #2c3e50;\n                        }\n                        \n                        .card-title {\n                            font-size: 8px;\n                            color: #7f8c8d;\n                        }\n                        \n                        .logo-section {\n                            width: 20px;\n                        }\n                        \n                        .logo {\n                            width: 18px;\n                            height: 18px;\n                            object-fit: contain;\n                        }\n                        \n                        .card-body {\n                            padding: 6px;\n                            display: flex;\n                            height: calc(100% - 30px);\n                            position: relative;\n                        }\n                        \n                        .photo {\n                            width: 40px;\n                            height: 45px;\n                            object-fit: cover;\n                            border: 1px solid #ddd;\n                            border-radius: 2px;\n                            margin-right: 6px;\n                        }\n                        \n                        .info-section {\n                            flex: 1;\n                            font-size: 8px;\n                            line-height: 1.2;\n                        }\n                        \n                        .year-info {\n                            font-size: 7px;\n                            margin-bottom: 2px;\n                            font-weight: bold;\n                        }\n                        \n                        .info-line {\n                            margin-bottom: 1px;\n                        }\n                        \n                        .qr-code {\n                            position: absolute;\n                            bottom: 4px;\n                            right: 4px;\n                            width: 25px;\n                            height: 25px;\n                        }\n                        \n                        .qr-image {\n                            width: 100%;\n                            height: 100%;\n                            object-fit: contain;\n                        }\n                        \n                        .matricule {\n                            position: absolute;\n                            bottom: 2px;\n                            left: 4px;\n                            font-size: 6px;\n                            color: #666;\n                            font-weight: bold;\n                        }\n                        \n                        .copyright {\n                            position: absolute;\n                            bottom: 1px;\n                            right: 30px;\n                            font-size: 5px;\n                            color: #aaa;\n                        }\n                        \n                        @media print {\n                            body {\n                                margin: 0;\n                                padding: 10mm;\n                            }\n                            \n                            .no-print {\n                                display: none !important;\n                            }\n                        }\n                        \n                        .print-controls {\n                            text-align: center;\n                            margin-top: 20px;\n                        }\n                        \n                        .print-btn {\n                            background: #007bff;\n                            color: white;\n                            border: none;\n                            padding: 10px 20px;\n                            border-radius: 5px;\n                            cursor: pointer;\n                            margin: 0 5px;\n                            font-size: 14px;\n                        }\n                        \n                        .close-btn {\n                            background: #6c757d;\n                            color: white;\n                            border: none;\n                            padding: 10px 20px;\n                            border-radius: 5px;\n                            cursor: pointer;\n                            margin: 0 5px;\n                            font-size: 14px;\n                        }\n                    </style>\n                </head>\n                <body>\n                    <div class="card-container">\n                        <div class="card-header">\n                            <div class="header-content">\n                                <div class="flag-section">\n                                    \ud83c\udde8\ud83c\uddf2 R\xc9PUBLIQUE DU CAMEROUN<br />\n                                    Paix - Travail - Patrie\n                                </div>\n                                <div class="school-section">\n                                    <div class="school-name">${(null===c||void 0===c||null===(e=c.school_name)||void 0===e?void 0:e.toUpperCase())||"LYC\xc9E GANALIS"}</div>\n                                    <div class="card-title">CARTE D'IDENTIT\xc9 SCOLAIRE</div>\n                                </div>\n                                <div class="logo-section">\n                                    <div style="width: 18px; height: 18px; background: #ddd; border-radius: 2px;"></div>\n                                </div>\n                            </div>\n                        </div>\n                        \n                        <div class="card-body">\n                            <img \n                                src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDUiIHZpZXdCb3g9IjAgMCA0MCA0NSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQ1IiBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiNkZGQiLz4KPHN2ZyB4PSI1IiB5PSI1IiB3aWR0aD0iMzAiIGhlaWdodD0iMzUiIHZpZXdCb3g9IjAgMCAzMCAzNSIgZmlsbD0ibm9uZSI+CjxjaXJjbGUgY3g9IjE1IiBjeT0iMTAiIHI9IjUiIGZpbGw9IiM5OTkiLz4KPHBhdGggZD0iTTUgMzBDNSAyNSAxMCAyMCAxNSAyMEMyMCAyMCAyNSAyNSAyNSAzMFYzNUg1VjMwWiIgZmlsbD0iIzk5OSIvPgo8L3N2Zz4KPC9zdmc+"\n                                alt="Photo \xe9tudiant"\n                                class="photo"\n                            />\n                            \n                            <div class="info-section">\n                                <div class="year-info">\n                                    ANN\xc9E SCOLAIRE : ${(null===r||void 0===r?void 0:r.year)||`${(new Date).getFullYear()} - ${(new Date).getFullYear()+1}`}\n                                </div>\n                                \n                                <div class="info-line">\n                                    <strong>Nom :</strong> ${(null===(t=n.last_name)||void 0===t?void 0:t.toUpperCase())||""}\n                                </div>\n                                \n                                <div class="info-line">\n                                    <strong>Pr\xe9nom :</strong> ${n.first_name||""}\n                                </div>\n                                \n                                <div class="info-line">\n                                    <strong>N\xe9e le :</strong> ${n.date_of_birth?new Date(n.date_of_birth).toLocaleDateString("fr-FR"):""} \n                                    <strong style="margin-left: 8px;">\xc0</strong> ${n.place_of_birth||"DOUALA"}\n                                </div>\n                                \n                                <div class="info-line">\n                                    <strong>Sexe :</strong> ${"male"===n.gender?"M":"female"===n.gender?"F":"M"}\n                                    <strong style="margin-left: 15px;">Classe :</strong> ${(null===(s=n.class_series)||void 0===s?void 0:s.name)||n.current_class||""}\n                                </div>\n                                \n                                <div class="info-line">\n                                    <strong>Contact:</strong> ${n.phone||"***********"}\n                                </div>\n                            </div>\n                            \n                            <div class="qr-code">\n                                <img \n                                    src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=${encodeURIComponent(`Student: ${n.first_name} ${n.last_name}, ID: ${n.id}`)}"\n                                    alt="QR Code"\n                                    class="qr-image"\n                                />\n                            </div>\n                        </div>\n                        \n                        <div class="matricule">\n                            MAT. : ${n.matricule||`${(new Date).getFullYear().toString().slice(-2)}${n.id.toString().padStart(4,"0")}AB`}\n                        </div>\n                        \n                        <div class="copyright">\n                            SYST\xc8ME PAO / PROTECTED BY GANALIS SCHOOL / ${(new Date).getFullYear()} ALL RIGHTS RESERVED\n                        </div>\n                    </div>\n                    \n                    <div class="print-controls no-print">\n                        <button class="print-btn" onclick="window.print()">\n                            \ud83d\udda8\ufe0f Imprimer la carte\n                        </button>\n                        <button class="close-btn" onclick="window.close()">\n                            \u2716\ufe0f Fermer\n                        </button>\n                    </div>\n                    \n                    <script>\n                        // Auto-focus pour permettre Ctrl+P\n                        window.focus();\n                        \n                        // Optionnel: impression automatique apr\xe8s chargement\n                        // window.onload = function() { window.print(); }\n                    <\/script>\n                </body>\n                </html>\n            `;a.document.write(l),a.document.close(),a.onload=()=>{o(!1),i&&i()}}catch(a){console.error("Erreur lors de l'impression:",a),o(!1),br().fire({title:"Erreur d'impression",text:a.message||"Impossible d'ouvrir la fen\xeatre d'impression",icon:"error",confirmButtonText:"OK"})}},disabled:l,children:l?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(kt,{as:"span",animation:"border",size:"sm",role:"status",className:"me-2"}),"Pr\xe9paration..."]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(dd,{className:"me-2"}),"Imprimer la carte"]})})]})]}):null};var pd=["color","size","title","className"];function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fd.apply(null,arguments)}var vd=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,pd);return t.createElement("svg",fd({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-arrow-right-circle",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z"}))});vd.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const gd=vd;var xd=["color","size","title","className"];function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bd.apply(null,arguments)}var yd=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,xd);return t.createElement("svg",bd({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-person-fill-exclamation",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0m-9 8c0 1 1 1 1 1h5.256A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1 1.544-3.393Q8.844 9.002 8 9c-5 0-6 3-6 4"}),t.createElement("path",{d:"M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m-3.5-2a.5.5 0 0 0-.5.5v1.5a.5.5 0 0 0 1 0V11a.5.5 0 0 0-.5-.5m0 4a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}))});yd.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const jd=yd,wd=e=>{var n,r;let{student:s,show:a,onHide:i,onTransferSuccess:l}=e;const[o,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(!1),[v,g]=(0,t.useState)(!0),[x,b]=(0,t.useState)("");(0,t.useEffect)(()=>{a&&(y(),u(""),h(""),b(""))},[a]);const y=async()=>{try{g(!0);const t=await Ft.schoolClasses.getAll();if(t.success){var e;const n=(null===(e=t.data)||void 0===e?void 0:e.filter(e=>{var t;const n=(null===s||void 0===s?void 0:s.class_series_id)||(null===s||void 0===s?void 0:s.series_id);return!(null!==(t=e.series)&&void 0!==t&&t.some(e=>e.id===n))}))||[];c(n)}else b("Erreur lors du chargement des classes disponibles")}catch(x){console.error("Error loading classes:",x),b("Erreur lors du chargement des classes disponibles")}finally{g(!1)}},j=()=>{var e,t,n;return s?{className:(null===(e=s.class_series)||void 0===e||null===(t=e.school_class)||void 0===t?void 0:t.name)||s.current_class||"Non d\xe9finie",seriesName:(null===(n=s.class_series)||void 0===n?void 0:n.name)||"Non d\xe9finie"}:{className:"Non d\xe9finie",seriesName:"Non d\xe9finie"}},w=()=>{var e;if(!d||!m)return null;const t=o.find(e=>e.id===parseInt(d)),n=null===t||void 0===t||null===(e=t.series)||void 0===e?void 0:e.find(e=>e.id===parseInt(m));return{className:(null===t||void 0===t?void 0:t.name)||"",seriesName:(null===n||void 0===n?void 0:n.name)||""}};if(!s)return null;const N=j(),C=(()=>{if(!d)return[];const e=o.find(e=>e.id===parseInt(d));return(null===e||void 0===e?void 0:e.series)||[]})();return(0,Ae.jsxs)(Aa,{show:a,onHide:i,size:"lg",centered:!0,children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsxs)(Aa.Title,{children:[(0,Ae.jsx)(gd,{className:"me-2 text-primary"}),"Transf\xe9rer un \xe9l\xe8ve"]})}),(0,Ae.jsxs)(Aa.Body,{children:[(0,Ae.jsxs)("div",{className:"mb-4 p-3 bg-light rounded",children:[(0,Ae.jsxs)("h6",{className:"mb-2",children:[(0,Ae.jsx)(jd,{className:"me-2 text-info"}),"\xc9l\xe8ve \xe0 transf\xe9rer"]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6",children:[(0,Ae.jsxs)("strong",{children:[s.first_name," ",s.last_name]}),(0,Ae.jsx)("br",{}),(0,Ae.jsxs)("small",{className:"text-muted",children:["N\xb0 ",s.student_number||s.id]})]}),(0,Ae.jsxs)("div",{className:"col-md-6",children:[(0,Ae.jsx)("small",{className:"text-muted",children:"Classe actuelle :"}),(0,Ae.jsx)("br",{}),(0,Ae.jsxs)("span",{className:"badge bg-secondary",children:[N.className," - ",N.seriesName]})]})]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Nouvelle classe *"}),v?(0,Ae.jsxs)("div",{className:"text-center py-3",children:[(0,Ae.jsx)(kt,{animation:"border",size:"sm",className:"me-2"}),"Chargement des classes..."]}):(0,Ae.jsxs)(El.Select,{value:d,onChange:e=>{return t=e.target.value,u(t),void h("");var t},disabled:p,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner une classe"}),o.map(e=>{var t,n,r;return(0,Ae.jsxs)("option",{value:e.id,children:[e.name," (",null===(t=e.level)||void 0===t?void 0:t.name," - ",null===(n=e.level)||void 0===n||null===(r=n.section)||void 0===r?void 0:r.name,")"]},e.id)})]})]}),d&&(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"S\xe9rie de destination *"}),(0,Ae.jsxs)(El.Select,{value:m,onChange:e=>h(e.target.value),disabled:p||0===C.length,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner une s\xe9rie"}),C.map(e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.name," ",e.code&&`(${e.code})`,e.capacity&&` - Capacit\xe9: ${e.capacity}`]},e.id))]}),d&&0===C.length&&(0,Ae.jsx)(El.Text,{className:"text-warning",children:"\u26a0\ufe0f Aucune s\xe9rie disponible dans cette classe"})]}),m&&(0,Ae.jsxs)("div",{className:"mt-4 p-3 border border-success rounded",children:[(0,Ae.jsx)("h6",{className:"text-success mb-2",children:"Aper\xe7u du transfert"}),(0,Ae.jsxs)("div",{className:"row align-items-center",children:[(0,Ae.jsxs)("div",{className:"col-md-5 text-center",children:[(0,Ae.jsxs)("div",{className:"badge bg-secondary fs-6 p-2",children:[N.className,(0,Ae.jsx)("br",{}),N.seriesName]}),(0,Ae.jsx)("div",{className:"small text-muted mt-1",children:"Classe actuelle"})]}),(0,Ae.jsx)("div",{className:"col-md-2 text-center",children:(0,Ae.jsx)(gd,{size:24,className:"text-success"})}),(0,Ae.jsxs)("div",{className:"col-md-5 text-center",children:[(0,Ae.jsxs)("div",{className:"badge bg-success fs-6 p-2",children:[null===(n=w())||void 0===n?void 0:n.className,(0,Ae.jsx)("br",{}),null===(r=w())||void 0===r?void 0:r.seriesName]}),(0,Ae.jsx)("div",{className:"small text-muted mt-1",children:"Nouvelle classe"})]})]})]}),x&&(0,Ae.jsx)(gi,{variant:"danger",className:"mt-3",children:x}),(0,Ae.jsx)("div",{className:"mt-4",children:(0,Ae.jsxs)(gi,{variant:"info",children:[(0,Ae.jsx)("strong",{children:"Information importante :"}),(0,Ae.jsxs)("ul",{className:"mb-0 mt-2",children:[(0,Ae.jsx)("li",{children:"Le transfert est imm\xe9diat et irr\xe9versible"}),(0,Ae.jsx)("li",{children:"L'historique des paiements sera conserv\xe9"}),(0,Ae.jsx)("li",{children:"Les notes et bulletins resteront li\xe9s \xe0 l'\xe9l\xe8ve"}),(0,Ae.jsx)("li",{children:"L'ordre dans la nouvelle classe sera automatiquement d\xe9fini"})]})]})})]}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:i,disabled:p,children:"Annuler"}),(0,Ae.jsx)(Da,{variant:"success",onClick:async()=>{if(!m)return void b("Veuillez s\xe9lectionner une s\xe9rie de destination");const e=j(),t=w();if(!t)return void b("Informations de destination invalides");if((await br().fire({title:"Confirmer le transfert",html:`\n                <div class="text-start">\n                    <p><strong>\xc9l\xe8ve :</strong> ${s.first_name} ${s.last_name}</p>\n                    <hr>\n                    <p><strong>Classe actuelle :</strong><br>\n                       ${e.className} - ${e.seriesName}</p>\n                    <p><strong>Nouvelle classe :</strong><br>\n                       ${t.className} - ${t.seriesName}</p>\n                    <hr>\n                    <p class="text-warning">\n                        <small>\u26a0\ufe0f Cette action est irr\xe9versible. L'\xe9l\xe8ve sera transf\xe9r\xe9 imm\xe9diatement.</small>\n                    </p>\n                </div>\n            `,icon:"question",showCancelButton:!0,confirmButtonText:"Transf\xe9rer",cancelButtonText:"Annuler",confirmButtonColor:"#28a745",cancelButtonColor:"#6c757d"})).isConfirmed)try{f(!0),b("");const e=await Ft.students.transferToSeries(s.id,m);e.success?(br().fire({title:"Transfert r\xe9ussi !",text:`${s.first_name} ${s.last_name} a \xe9t\xe9 transf\xe9r\xe9(e) vers ${t.className} - ${t.seriesName}`,icon:"success",timer:3e3,showConfirmButton:!1}),l&&l(e.data||s,t),i()):b(e.message||"Erreur lors du transfert")}catch(x){console.error("Error transferring student:",x),b("Erreur lors du transfert de l'\xe9l\xe8ve")}finally{f(!1)}},disabled:p||!m||v,children:p?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(kt,{as:"span",animation:"border",size:"sm",role:"status",className:"me-2"}),"Transfert en cours..."]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(gd,{className:"me-2"}),"Transf\xe9rer l'\xe9l\xe8ve"]})})]})]})};function Nd(e,n,r){const s=(0,t.useRef)(void 0!==e),[a,i]=(0,t.useState)(n),l=void 0!==e,o=s.current;return s.current=l,!l&&o&&a!==n&&i(n),[l?e:a,(0,t.useCallback)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[s,...a]=t;let l=null==r?void 0:r(s,...a);return i(s),l},[r])]}const Cd=t.createContext(null);var Ed=Object.prototype.hasOwnProperty;function Sd(e,t,n){for(n of e.keys())if(kd(n,t))return n}function kd(e,t){var n,r,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&kd(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((s=r)&&"object"===typeof s&&!(s=Sd(t,s)))return!1;if(!t.has(s))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((s=r[0])&&"object"===typeof s&&!(s=Sd(t,s)))return!1;if(!kd(r[1],t.get(s)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Ed.call(e,n)&&++r&&!Ed.call(t,n))return!1;if(!(n in t)||!kd(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const _d=function(e){const n=os();return[e[0],(0,t.useCallback)(t=>{if(n())return e[1](t)},[n,e[1]])]};function Od(e){return e.split("-")[0]}function Pd(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function zd(e){return e instanceof Pd(e).Element||e instanceof Element}function Td(e){return e instanceof Pd(e).HTMLElement||e instanceof HTMLElement}function Ad(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Pd(e).ShadowRoot||e instanceof ShadowRoot)}var Rd=Math.max,Ld=Math.min,Md=Math.round;function Bd(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Id(){return!/^((?!chrome|android).)*safari/i.test(Bd())}function Dd(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),s=1,a=1;t&&Td(e)&&(s=e.offsetWidth>0&&Md(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Md(r.height)/e.offsetHeight||1);var i=(zd(e)?Pd(e):window).visualViewport,l=!Id()&&n,o=(r.left+(l&&i?i.offsetLeft:0))/s,c=(r.top+(l&&i?i.offsetTop:0))/a,d=r.width/s,u=r.height/a;return{width:d,height:u,top:c,right:o+d,bottom:c+u,left:o,x:o,y:c}}function $d(e){var t=Dd(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Fd(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ad(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ud(e){return e?(e.nodeName||"").toLowerCase():null}function Hd(e){return Pd(e).getComputedStyle(e)}function Vd(e){return["table","td","th"].indexOf(Ud(e))>=0}function qd(e){return((zd(e)?e.ownerDocument:e.document)||window.document).documentElement}function Wd(e){return"html"===Ud(e)?e:e.assignedSlot||e.parentNode||(Ad(e)?e.host:null)||qd(e)}function Gd(e){return Td(e)&&"fixed"!==Hd(e).position?e.offsetParent:null}function Kd(e){for(var t=Pd(e),n=Gd(e);n&&Vd(n)&&"static"===Hd(n).position;)n=Gd(n);return n&&("html"===Ud(n)||"body"===Ud(n)&&"static"===Hd(n).position)?t:n||function(e){var t=/firefox/i.test(Bd());if(/Trident/i.test(Bd())&&Td(e)&&"fixed"===Hd(e).position)return null;var n=Wd(e);for(Ad(n)&&(n=n.host);Td(n)&&["html","body"].indexOf(Ud(n))<0;){var r=Hd(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Yd(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Xd(e,t,n){return Rd(e,Ld(t,n))}function Qd(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Jd(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}var Zd="top",eu="bottom",tu="right",nu="left",ru="auto",su=[Zd,eu,tu,nu],au="start",iu="end",lu="viewport",ou="popper",cu=su.reduce(function(e,t){return e.concat([t+"-"+au,t+"-"+iu])},[]),du=[].concat(su,[ru]).reduce(function(e,t){return e.concat([t,t+"-"+au,t+"-"+iu])},[]),uu=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const mu={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,s=e.options,a=n.elements.arrow,i=n.modifiersData.popperOffsets,l=Od(n.placement),o=Yd(l),c=[nu,tu].indexOf(l)>=0?"height":"width";if(a&&i){var d=function(e,t){return Qd("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Jd(e,su))}(s.padding,n),u=$d(a),m="y"===o?Zd:nu,h="y"===o?eu:tu,p=n.rects.reference[c]+n.rects.reference[o]-i[o]-n.rects.popper[c],f=i[o]-n.rects.reference[o],v=Kd(a),g=v?"y"===o?v.clientHeight||0:v.clientWidth||0:0,x=p/2-f/2,b=d[m],y=g-u[c]-d[h],j=g/2-u[c]/2+x,w=Xd(b,j,y),N=o;n.modifiersData[r]=((t={})[N]=w,t.centerOffset=w-j,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Fd(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hu(e){return e.split("-")[1]}var pu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fu(e){var t,n=e.popper,r=e.popperRect,s=e.placement,a=e.variation,i=e.offsets,l=e.position,o=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,m=i.x,h=void 0===m?0:m,p=i.y,f=void 0===p?0:p,v="function"===typeof d?d({x:h,y:f}):{x:h,y:f};h=v.x,f=v.y;var g=i.hasOwnProperty("x"),x=i.hasOwnProperty("y"),b=nu,y=Zd,j=window;if(c){var w=Kd(n),N="clientHeight",C="clientWidth";if(w===Pd(n)&&"static"!==Hd(w=qd(n)).position&&"absolute"===l&&(N="scrollHeight",C="scrollWidth"),s===Zd||(s===nu||s===tu)&&a===iu)y=eu,f-=(u&&w===j&&j.visualViewport?j.visualViewport.height:w[N])-r.height,f*=o?1:-1;if(s===nu||(s===Zd||s===eu)&&a===iu)b=tu,h-=(u&&w===j&&j.visualViewport?j.visualViewport.width:w[C])-r.width,h*=o?1:-1}var E,S=Object.assign({position:l},c&&pu),k=!0===d?function(e,t){var n=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:Md(n*s)/s||0,y:Md(r*s)/s||0}}({x:h,y:f},Pd(n)):{x:h,y:f};return h=k.x,f=k.y,o?Object.assign({},S,((E={})[y]=x?"0":"",E[b]=g?"0":"",E.transform=(j.devicePixelRatio||1)<=1?"translate("+h+"px, "+f+"px)":"translate3d("+h+"px, "+f+"px, 0)",E)):Object.assign({},S,((t={})[y]=x?f+"px":"",t[b]=g?h+"px":"",t.transform="",t))}const vu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=void 0===r||r,a=n.adaptive,i=void 0===a||a,l=n.roundOffsets,o=void 0===l||l,c={placement:Od(t.placement),variation:hu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,fu(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:o})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,fu(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var gu={passive:!0};const xu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,a=void 0===s||s,i=r.resize,l=void 0===i||i,o=Pd(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach(function(e){e.addEventListener("scroll",n.update,gu)}),l&&o.addEventListener("resize",n.update,gu),function(){a&&c.forEach(function(e){e.removeEventListener("scroll",n.update,gu)}),l&&o.removeEventListener("resize",n.update,gu)}},data:{}};var bu={left:"right",right:"left",bottom:"top",top:"bottom"};function yu(e){return e.replace(/left|right|bottom|top/g,function(e){return bu[e]})}var ju={start:"end",end:"start"};function wu(e){return e.replace(/start|end/g,function(e){return ju[e]})}function Nu(e){var t=Pd(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Cu(e){return Dd(qd(e)).left+Nu(e).scrollLeft}function Eu(e){var t=Hd(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function Su(e){return["html","body","#document"].indexOf(Ud(e))>=0?e.ownerDocument.body:Td(e)&&Eu(e)?e:Su(Wd(e))}function ku(e,t){var n;void 0===t&&(t=[]);var r=Su(e),s=r===(null==(n=e.ownerDocument)?void 0:n.body),a=Pd(r),i=s?[a].concat(a.visualViewport||[],Eu(r)?r:[]):r,l=t.concat(i);return s?l:l.concat(ku(Wd(i)))}function _u(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ou(e,t,n){return t===lu?_u(function(e,t){var n=Pd(e),r=qd(e),s=n.visualViewport,a=r.clientWidth,i=r.clientHeight,l=0,o=0;if(s){a=s.width,i=s.height;var c=Id();(c||!c&&"fixed"===t)&&(l=s.offsetLeft,o=s.offsetTop)}return{width:a,height:i,x:l+Cu(e),y:o}}(e,n)):zd(t)?function(e,t){var n=Dd(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):_u(function(e){var t,n=qd(e),r=Nu(e),s=null==(t=e.ownerDocument)?void 0:t.body,a=Rd(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=Rd(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+Cu(e),o=-r.scrollTop;return"rtl"===Hd(s||n).direction&&(l+=Rd(n.clientWidth,s?s.clientWidth:0)-a),{width:a,height:i,x:l,y:o}}(qd(e)))}function Pu(e,t,n,r){var s="clippingParents"===t?function(e){var t=ku(Wd(e)),n=["absolute","fixed"].indexOf(Hd(e).position)>=0&&Td(e)?Kd(e):e;return zd(n)?t.filter(function(e){return zd(e)&&Fd(e,n)&&"body"!==Ud(e)}):[]}(e):[].concat(t),a=[].concat(s,[n]),i=a[0],l=a.reduce(function(t,n){var s=Ou(e,n,r);return t.top=Rd(s.top,t.top),t.right=Ld(s.right,t.right),t.bottom=Ld(s.bottom,t.bottom),t.left=Rd(s.left,t.left),t},Ou(e,i,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function zu(e){var t,n=e.reference,r=e.element,s=e.placement,a=s?Od(s):null,i=s?hu(s):null,l=n.x+n.width/2-r.width/2,o=n.y+n.height/2-r.height/2;switch(a){case Zd:t={x:l,y:n.y-r.height};break;case eu:t={x:l,y:n.y+n.height};break;case tu:t={x:n.x+n.width,y:o};break;case nu:t={x:n.x-r.width,y:o};break;default:t={x:n.x,y:n.y}}var c=a?Yd(a):null;if(null!=c){var d="y"===c?"height":"width";switch(i){case au:t[c]=t[c]-(n[d]/2-r[d]/2);break;case iu:t[c]=t[c]+(n[d]/2-r[d]/2)}}return t}function Tu(e,t){void 0===t&&(t={});var n=t,r=n.placement,s=void 0===r?e.placement:r,a=n.strategy,i=void 0===a?e.strategy:a,l=n.boundary,o=void 0===l?"clippingParents":l,c=n.rootBoundary,d=void 0===c?lu:c,u=n.elementContext,m=void 0===u?ou:u,h=n.altBoundary,p=void 0!==h&&h,f=n.padding,v=void 0===f?0:f,g=Qd("number"!==typeof v?v:Jd(v,su)),x=m===ou?"reference":ou,b=e.rects.popper,y=e.elements[p?x:m],j=Pu(zd(y)?y:y.contextElement||qd(e.elements.popper),o,d,i),w=Dd(e.elements.reference),N=zu({reference:w,element:b,strategy:"absolute",placement:s}),C=_u(Object.assign({},b,N)),E=m===ou?C:w,S={top:j.top-E.top+g.top,bottom:E.bottom-j.bottom+g.bottom,left:j.left-E.left+g.left,right:E.right-j.right+g.right},k=e.modifiersData.offset;if(m===ou&&k){var _=k[s];Object.keys(S).forEach(function(e){var t=[tu,eu].indexOf(e)>=0?1:-1,n=[Zd,eu].indexOf(e)>=0?"y":"x";S[e]+=_[n]*t})}return S}const Au={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,a=void 0===s||s,i=n.altAxis,l=void 0===i||i,o=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,m=n.altBoundary,h=n.flipVariations,p=void 0===h||h,f=n.allowedAutoPlacements,v=t.options.placement,g=Od(v),x=o||(g===v||!p?[yu(v)]:function(e){if(Od(e)===ru)return[];var t=yu(e);return[wu(e),t,wu(t)]}(v)),b=[v].concat(x).reduce(function(e,n){return e.concat(Od(n)===ru?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,s=n.boundary,a=n.rootBoundary,i=n.padding,l=n.flipVariations,o=n.allowedAutoPlacements,c=void 0===o?du:o,d=hu(r),u=d?l?cu:cu.filter(function(e){return hu(e)===d}):su,m=u.filter(function(e){return c.indexOf(e)>=0});0===m.length&&(m=u);var h=m.reduce(function(t,n){return t[n]=Tu(e,{placement:n,boundary:s,rootBoundary:a,padding:i})[Od(n)],t},{});return Object.keys(h).sort(function(e,t){return h[e]-h[t]})}(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:p,allowedAutoPlacements:f}):n)},[]),y=t.rects.reference,j=t.rects.popper,w=new Map,N=!0,C=b[0],E=0;E<b.length;E++){var S=b[E],k=Od(S),_=hu(S)===au,O=[Zd,eu].indexOf(k)>=0,P=O?"width":"height",z=Tu(t,{placement:S,boundary:d,rootBoundary:u,altBoundary:m,padding:c}),T=O?_?tu:nu:_?eu:Zd;y[P]>j[P]&&(T=yu(T));var A=yu(T),R=[];if(a&&R.push(z[k]<=0),l&&R.push(z[T]<=0,z[A]<=0),R.every(function(e){return e})){C=S,N=!1;break}w.set(S,R)}if(N)for(var L=function(e){var t=b.find(function(t){var n=w.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return C=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ru(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Lu(e){return[Zd,tu,eu,nu].some(function(t){return e[t]>=0})}const Mu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,s=n.offset,a=void 0===s?[0,0]:s,i=du.reduce(function(e,n){return e[n]=function(e,t,n){var r=Od(e),s=[nu,Zd].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,i=a[0],l=a[1];return i=i||0,l=(l||0)*s,[nu,tu].indexOf(r)>=0?{x:l,y:i}:{x:i,y:l}}(n,t.rects,a),e},{}),l=i[t.placement],o=l.x,c=l.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=o,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=i}};const Bu={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,a=void 0===s||s,i=n.altAxis,l=void 0!==i&&i,o=n.boundary,c=n.rootBoundary,d=n.altBoundary,u=n.padding,m=n.tether,h=void 0===m||m,p=n.tetherOffset,f=void 0===p?0:p,v=Tu(t,{boundary:o,rootBoundary:c,padding:u,altBoundary:d}),g=Od(t.placement),x=hu(t.placement),b=!x,y=Yd(g),j="x"===y?"y":"x",w=t.modifiersData.popperOffsets,N=t.rects.reference,C=t.rects.popper,E="function"===typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,S="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,_={x:0,y:0};if(w){if(a){var O,P="y"===y?Zd:nu,z="y"===y?eu:tu,T="y"===y?"height":"width",A=w[y],R=A+v[P],L=A-v[z],M=h?-C[T]/2:0,B=x===au?N[T]:C[T],I=x===au?-C[T]:-N[T],D=t.elements.arrow,$=h&&D?$d(D):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=F[P],H=F[z],V=Xd(0,N[T],$[T]),q=b?N[T]/2-M-V-U-S.mainAxis:B-V-U-S.mainAxis,W=b?-N[T]/2+M+V+H+S.mainAxis:I+V+H+S.mainAxis,G=t.elements.arrow&&Kd(t.elements.arrow),K=G?"y"===y?G.clientTop||0:G.clientLeft||0:0,Y=null!=(O=null==k?void 0:k[y])?O:0,X=A+W-Y,Q=Xd(h?Ld(R,A+q-Y-K):R,A,h?Rd(L,X):L);w[y]=Q,_[y]=Q-A}if(l){var J,Z="x"===y?Zd:nu,ee="x"===y?eu:tu,te=w[j],ne="y"===j?"height":"width",re=te+v[Z],se=te-v[ee],ae=-1!==[Zd,nu].indexOf(g),ie=null!=(J=null==k?void 0:k[j])?J:0,le=ae?re:te-N[ne]-C[ne]-ie+S.altAxis,oe=ae?te+N[ne]+C[ne]-ie-S.altAxis:se,ce=h&&ae?function(e,t,n){var r=Xd(e,t,n);return r>n?n:r}(le,te,oe):Xd(h?le:re,te,h?oe:se);w[j]=ce,_[j]=ce-te}t.modifiersData[r]=_}},requiresIfExists:["offset"]};function Iu(e,t,n){void 0===n&&(n=!1);var r=Td(t),s=Td(t)&&function(e){var t=e.getBoundingClientRect(),n=Md(t.width)/e.offsetWidth||1,r=Md(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=qd(t),i=Dd(e,s,n),l={scrollLeft:0,scrollTop:0},o={x:0,y:0};return(r||!r&&!n)&&(("body"!==Ud(t)||Eu(a))&&(l=function(e){return e!==Pd(e)&&Td(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Nu(e);var t}(t)),Td(t)?((o=Dd(t,!0)).x+=t.clientLeft,o.y+=t.clientTop):a&&(o.x=Cu(a))),{x:i.left+l.scrollLeft-o.x,y:i.top+l.scrollTop-o.y,width:i.width,height:i.height}}function Du(e){var t=new Map,n=new Set,r=[];function s(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&s(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||s(e)}),r}function $u(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var Fu={placement:"bottom",modifiers:[],strategy:"absolute"};function Uu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function Hu(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,s=t.defaultOptions,a=void 0===s?Fu:s;return function(e,t,n){void 0===n&&(n=a);var s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fu,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],l=!1,o={state:s,setOptions:function(n){var l="function"===typeof n?n(s.options):n;c(),s.options=Object.assign({},a,s.options,l),s.scrollParents={reference:zd(e)?ku(e):e.contextElement?ku(e.contextElement):[],popper:ku(t)};var d=function(e){var t=Du(e);return uu.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,s.options.modifiers)));return s.orderedModifiers=d.filter(function(e){return e.enabled}),s.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var l=a({state:s,name:t,instance:o,options:r}),c=function(){};i.push(l||c)}}),o.update()},forceUpdate:function(){if(!l){var e=s.elements,t=e.reference,n=e.popper;if(Uu(t,n)){s.rects={reference:Iu(t,Kd(n),"fixed"===s.options.strategy),popper:$d(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(e){return s.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var a=s.orderedModifiers[r],i=a.fn,c=a.options,d=void 0===c?{}:c,u=a.name;"function"===typeof i&&(s=i({state:s,options:d,name:u,instance:o})||s)}else s.reset=!1,r=-1}}},update:$u(function(){return new Promise(function(e){o.forceUpdate(),e(s)})}),destroy:function(){c(),l=!0}};if(!Uu(e,t))return o;function c(){i.forEach(function(e){return e()}),i=[]}return o.setOptions(n).then(function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)}),o}}const Vu=Hu({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,i=Tu(t,{elementContext:"reference"}),l=Tu(t,{altBoundary:!0}),o=Ru(i,r),c=Ru(l,s,a),d=Lu(o),u=Lu(c);t.modifiersData[n]={referenceClippingOffsets:o,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=zu({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},vu,xu,Mu,Au,Bu,mu]}),qu=["enabled","placement","strategy","modifiers"];const Wu={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Gu={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter(e=>e.trim()!==n.id);t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:r,reference:s}=t.elements,a=null==(n=r.getAttribute("role"))?void 0:n.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in s){const e=s.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(r.id))return;s.setAttribute("aria-describedby",e?`${e},${r.id}`:r.id)}}},Ku=[];const Yu=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:s=!0,placement:a="bottom",strategy:i="absolute",modifiers:l=Ku}=r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(r,qu);const c=(0,t.useRef)(l),d=(0,t.useRef)(),u=(0,t.useCallback)(()=>{var e;null==(e=d.current)||e.update()},[]),m=(0,t.useCallback)(()=>{var e;null==(e=d.current)||e.forceUpdate()},[]),[h,p]=_d((0,t.useState)({placement:a,update:u,forceUpdate:m,attributes:{},styles:{popper:{},arrow:{}}})),f=(0,t.useMemo)(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},r={};Object.keys(t.elements).forEach(e=>{n[e]=t.styles[e],r[e]=t.attributes[e]}),p({state:t,styles:n,attributes:r,update:u,forceUpdate:m,placement:t.placement})}}),[u,m,p]),v=(0,t.useMemo)(()=>(kd(c.current,l)||(c.current=l),c.current),[l]);return(0,t.useEffect)(()=>{d.current&&s&&d.current.setOptions({placement:a,strategy:i,modifiers:[...v,f,Wu]})},[i,a,f,s,v]),(0,t.useEffect)(()=>{if(s&&null!=e&&null!=n)return d.current=Vu(e,n,Object.assign({},o,{placement:a,strategy:i,modifiers:[...v,Gu,f]})),()=>{null!=d.current&&(d.current.destroy(),d.current=void 0,p(e=>Object.assign({},e,{attributes:{},styles:{popper:{}}})))}},[s,e,n]),h},Xu=()=>{};const Qu=e=>e&&("current"in e?e.current:e),Ju={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const Zu=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xu,{disabled:r,clickTrigger:s="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(0,t.useRef)(!1),i=(0,t.useRef)(!1),l=(0,t.useCallback)(t=>{const n=Qu(e);var r;sl()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),a.current=!n||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!ls(n,t.target)||i.current,i.current=!1},[e]),o=ms(t=>{const n=Qu(e);n&&ls(n,t.target)?i.current=!0:i.current=!1}),c=ms(e=>{a.current||n(e)});(0,t.useEffect)(()=>{var t,n;if(r||null==e)return;const a=Ur(Qu(e)),i=a.defaultView||window;let d=null!=(t=i.event)?t:null==(n=i.parent)?void 0:n.event,u=null;Ju[s]&&(u=rs(a,Ju[s],o,!0));const m=rs(a,s,l,!0),h=rs(a,s,e=>{e!==d?c(e):d=void 0});let p=[];return"ontouchstart"in a.documentElement&&(p=[].slice.call(a.body.children).map(e=>rs(e,"mousemove",Xu))),()=>{null==u||u(),m(),h(),p.forEach(e=>e())}},[e,r,s,l,o,c])};function em(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function tm(e){let{enabled:t,enableEvents:n,placement:r,flip:s,offset:a,fixed:i,containerPadding:l,arrowElement:o,popperConfig:c={}}=e;var d,u,m,h,p;const f=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach(e=>{t[e.name]=e}),t):e||t}(c.modifiers);return Object.assign({},c,{placement:r,enabled:t,strategy:i?"fixed":c.strategy,modifiers:em(Object.assign({},f,{eventListeners:{enabled:n,options:null==(d=f.eventListeners)?void 0:d.options},preventOverflow:Object.assign({},f.preventOverflow,{options:l?Object.assign({padding:l},null==(u=f.preventOverflow)?void 0:u.options):null==(m=f.preventOverflow)?void 0:m.options}),offset:{options:Object.assign({offset:a},null==(h=f.offset)?void 0:h.options)},arrow:Object.assign({},f.arrow,{enabled:!!o,options:Object.assign({},null==(p=f.arrow)?void 0:p.options,{element:o})}),flip:Object.assign({enabled:!!s},f.flip)}))})}const nm=["children","usePopper"];const rm=()=>{};function sm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,t.useContext)(Cd),[r,s]=di(),a=(0,t.useRef)(!1),{flip:i,offset:l,rootCloseEvent:o,fixed:c=!1,placement:d,popperConfig:u={},enableEventListeners:m=!0,usePopper:h=!!n}=e,p=null==(null==n?void 0:n.show)?!!e.show:n.show;p&&!a.current&&(a.current=!0);const{placement:f,setMenu:v,menuElement:g,toggleElement:x}=n||{},b=Yu(x,g,tm({placement:d||f||"bottom-start",enabled:h,enableEvents:null==m?p:m,offset:l,flip:i,fixed:c,arrowElement:r,popperConfig:u})),y=Object.assign({ref:v||rm,"aria-labelledby":null==x?void 0:x.id},b.attributes.popper,{style:b.styles.popper}),j={show:p,placement:f,hasShown:a.current,toggle:null==n?void 0:n.toggle,popper:h?b:null,arrowProps:h?Object.assign({ref:s},b.attributes.arrow,{style:b.styles.arrow}):{}};return Zu(g,e=>{null==n||n.toggle(!1,e)},{clickTrigger:o,disabled:!p}),[y,j]}function am(e){let{children:t,usePopper:n=!0}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,nm);const[s,a]=sm(Object.assign({},r,{usePopper:n}));return(0,Ae.jsx)(Ae.Fragment,{children:t(s,a)})}am.displayName="DropdownMenu";const im=am,lm={prefix:String(Math.round(1e10*Math.random())),current:0},om=t.createContext(lm),cm=t.createContext(!1);Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);let dm=new WeakMap;function um(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,t.useContext)(om),r=(0,t.useRef)(null);if(null===r.current&&!e){var s,a;let e=null===(a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===a||null===(s=a.ReactCurrentOwner)||void 0===s?void 0:s.current;if(e){let t=dm.get(e);null==t?dm.set(e,{id:n.current,state:e.memoizedState}):e.memoizedState!==t.state&&(n.current=t.id,dm.delete(e))}r.current=++n.current}return r.current}const mm="function"===typeof t.useId?function(e){let n=t.useId(),[r]=(0,t.useState)("function"===typeof t.useSyncExternalStore?t.useSyncExternalStore(fm,hm,pm):(0,t.useContext)(cm));return e||`${r?"react-aria":`react-aria${lm.prefix}`}-${n}`}:function(e){let n=(0,t.useContext)(om),r=um(!!e),s=`react-aria${n.prefix}`;return e||`${s}-${r}`};function hm(){return!1}function pm(){return!0}function fm(e){return()=>{}}const vm=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},gm=()=>{};function xm(){const e=mm(),{show:n=!1,toggle:r=gm,setToggle:s,menuElement:a}=(0,t.useContext)(Cd)||{},i=(0,t.useCallback)(e=>{r(!n,e)},[n,r]),l={id:e,ref:s||gm,onClick:i,"aria-expanded":!!n};return a&&vm(a)&&(l["aria-haspopup"]=!0),[l,{show:n,toggle:r}]}function bm(e){let{children:t}=e;const[n,r]=xm();return(0,Ae.jsx)(Ae.Fragment,{children:t(n,r)})}bm.displayName="DropdownToggle";const ym=bm,jm=["eventKey","disabled","onClick","active","as"];function wm(e){let{key:n,href:r,active:s,disabled:a,onClick:i}=e;const l=(0,t.useContext)($l),o=(0,t.useContext)(Il),{activeKey:c}=o||{},d=Dl(n,r),u=null==s&&null!=n?Dl(c)===d:s;return[{onClick:ms(e=>{a||(null==i||i(e),l&&!e.isPropagationStopped()&&l(d,e))}),"aria-disabled":a||void 0,"aria-selected":u,[hs("dropdown-item")]:""},{isActive:u}]}const Nm=t.forwardRef((e,t)=>{let{eventKey:n,disabled:r,onClick:s,active:a,as:i=Ba}=e,l=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,jm);const[o]=wm({key:n,href:l.href,disabled:r,onClick:s,active:a});return(0,Ae.jsx)(i,Object.assign({},l,{ref:t},o))});Nm.displayName="DropdownItem";const Cm=Nm;function Em(){const e=Ml(),n=(0,t.useRef)(null),r=(0,t.useCallback)(t=>{n.current=t,e()},[e]);return[n,r]}function Sm(e){let{defaultShow:n,show:r,onSelect:s,onToggle:a,itemSelector:i=`* [${hs("dropdown-item")}]`,focusFirstItemOnShow:l,placement:o="bottom-start",children:c}=e;const d=gs(),[u,m]=Nd(r,n,a),[h,p]=Em(),f=h.current,[v,g]=Em(),x=v.current,b=ds(u),y=(0,t.useRef)(null),j=(0,t.useRef)(!1),w=(0,t.useContext)($l),N=(0,t.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;m(e,{originalEvent:t,source:n})},[m]),C=ms((e,t)=>{null==s||s(e,t),N(!1,t,"select"),t.isPropagationStopped()||null==w||w(e,t)}),E=(0,t.useMemo)(()=>({toggle:N,placement:o,show:u,menuElement:f,toggleElement:x,setMenu:p,setToggle:g}),[N,o,u,f,x,p,g]);f&&b&&!u&&(j.current=f.contains(f.ownerDocument.activeElement));const S=ms(()=>{x&&x.focus&&x.focus()}),k=ms(()=>{const e=y.current;let t=l;if(null==t&&(t=!(!h.current||!vm(h.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const n=Ds(h.current,i)[0];n&&n.focus&&n.focus()});(0,t.useEffect)(()=>{u?k():j.current&&(j.current=!1,S())},[u,j,S,k]),(0,t.useEffect)(()=>{y.current=null});const _=(e,t)=>{if(!h.current)return null;const n=Ds(h.current,i);let r=n.indexOf(e)+t;return r=Math.max(0,Math.min(r,n.length)),n[r]};return function(e,n,r){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=ms(r);(0,t.useEffect)(()=>{const t="function"===typeof e?e():e;return t.addEventListener(n,a,s),()=>t.removeEventListener(n,a,s)},[e])}((0,t.useCallback)(()=>d.document,[d]),"keydown",e=>{var t,n;const{key:r}=e,s=e.target,a=null==(t=h.current)?void 0:t.contains(s),i=null==(n=v.current)?void 0:n.contains(s);if(/input|textarea/i.test(s.tagName)&&(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===s.type))return;if(!a&&!i)return;if("Tab"===r&&(!h.current||!u))return;y.current=e.type;const l={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const t=_(s,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),u){const e=_(s,1);e&&e.focus&&e.focus()}else m(!0,l);return;case"Tab":Fr(s.ownerDocument,"keyup",e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=h.current)&&t.contains(e.target)||m(!1,l)},{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),m(!1,l)}}),(0,Ae.jsx)($l.Provider,{value:C,children:(0,Ae.jsx)(Cd.Provider,{value:E,children:c})})}Sm.displayName="Dropdown",Sm.Menu=im,Sm.Toggle=ym,Sm.Item=Cm;const km=Sm,_m=t.createContext({});_m.displayName="DropdownContext";const Om=_m,Pm=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="hr",role:a="separator",...i}=e;return r=wt(r,"dropdown-divider"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),role:a,...i})});Pm.displayName="DropdownDivider";const zm=Pm,Tm=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="div",role:a="heading",...i}=e;return r=wt(r,"dropdown-header"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),role:a,...i})});Tm.displayName="DropdownHeader";const Am=Tm,Rm=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,eventKey:s,disabled:a=!1,onClick:i,active:l,as:o=hi,...c}=e;const d=wt(n,"dropdown-item"),[u,m]=wm({key:s,href:c.href,disabled:a,onClick:i,active:l});return(0,Ae.jsx)(o,{...c,...u,ref:t,className:vt()(r,d,m.isActive&&"active",a&&"disabled")})});Rm.displayName="DropdownItem";const Lm=Rm,Mm=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="span",...a}=e;return r=wt(r,"dropdown-item-text"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});Mm.displayName="DropdownItemText";const Bm=Mm,Im="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Dm="undefined"!==typeof document||Im?t.useLayoutEffect:t.useEffect,$m=t.createContext(null);$m.displayName="InputGroupContext";const Fm=$m;function Um(e,t){return e}function Hm(e,t,n){let r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}const Vm=t.forwardRef((e,n)=>{let{bsPrefix:r,className:s,align:a,rootCloseEvent:i,flip:l=!0,show:o,renderOnMount:c,as:d="div",popperConfig:u,variant:m,...h}=e,p=!1;const f=(0,t.useContext)(Jl),v=wt(r,"dropdown-menu"),{align:g,drop:x,isRTL:b}=(0,t.useContext)(Om);a=a||g;const y=(0,t.useContext)(Fm),j=[];if(a)if("object"===typeof a){const e=Object.keys(a);if(e.length){const t=e[0],n=a[t];p="start"===n,j.push(`${v}-${t}-${n}`)}}else"end"===a&&(p=!0);const w=Hm(p,x,b),[N,{hasShown:C,popper:E,show:S,toggle:k}]=sm({flip:l,rootCloseEvent:i,show:o,usePopper:!f&&0===j.length,offset:[0,2],popperConfig:u,placement:w});if(N.ref=Yr(Um(n),N.ref),Dm(()=>{S&&(null==E||E.update())},[S]),!C&&!c&&!y)return null;"string"!==typeof d&&(N.show=S,N.close=()=>null==k?void 0:k(!1),N.align=a);let _=h.style;return null!=E&&E.placement&&(_={...h.style,...N.style},h["x-placement"]=E.placement),(0,Ae.jsx)(d,{...h,...N,style:_,...(j.length||f)&&{"data-bs-popper":"static"},className:vt()(s,v,S&&"show",p&&`${v}-end`,m&&`${v}-${m}`,...j)})});Vm.displayName="DropdownMenu";const qm=Vm,Wm=t.forwardRef((e,n)=>{let{bsPrefix:r,split:s,className:a,childBsPrefix:i,as:l=Da,...o}=e;const c=wt(r,"dropdown-toggle"),d=(0,t.useContext)(Cd);void 0!==i&&(o.bsPrefix=i);const[u]=xm();return u.ref=Yr(u.ref,Um(n)),(0,Ae.jsx)(l,{className:vt()(a,c,s&&`${c}-split`,(null==d?void 0:d.show)&&"show"),...u,...o})});Wm.displayName="DropdownToggle";const Gm=Wm,Km=t.forwardRef((e,n)=>{const{bsPrefix:r,drop:s="down",show:a,className:i,align:l="start",onSelect:o,onToggle:c,focusFirstItemOnShow:d,as:u="div",navbar:m,autoClose:h=!0,...p}=ri(e,{show:"onToggle"}),f=(0,t.useContext)(Fm),v=wt(r,"dropdown"),g=Et(),x=Gr((e,t)=>{var n;var r;(null==(n=t.originalEvent)||null==(n=n.target)?void 0:n.classList.contains("dropdown-toggle"))&&"mousedown"===t.source||(t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),r=t.source,(!1===h?"click"===r:"inside"===h?"rootClose"!==r:"outside"!==h||"select"!==r)&&(null==c||c(e,t)))}),b=Hm("end"===l,s,g),y=(0,t.useMemo)(()=>({align:l,drop:s,isRTL:g}),[l,s,g]),j={down:v,"down-centered":`${v}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,Ae.jsx)(Om.Provider,{value:y,children:(0,Ae.jsx)(km,{placement:b,show:a,onSelect:o,onToggle:x,focusFirstItemOnShow:d,itemSelector:`.${v}-item:not(.disabled):not(:disabled)`,children:f?p.children:(0,Ae.jsx)(u,{...p,ref:n,className:vt()(i,a&&"show",j[s])})})})});Km.displayName="Dropdown";const Ym=Object.assign(Km,{Toggle:Gm,Menu:qm,Item:Lm,ItemText:Bm,Divider:zm,Header:Am});var Xm=["color","size","title","className"];function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qm.apply(null,arguments)}var Jm=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Xm);return t.createElement("svg",Qm({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-three-dots-vertical",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"}))});Jm.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Zm=Jm;var eh=["color","size","title","className"];function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},th.apply(null,arguments)}var nh=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,eh);return t.createElement("svg",th({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-cash-coin",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{fillRule:"evenodd",d:"M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8m5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0"}),t.createElement("path",{d:"M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195z"}),t.createElement("path",{d:"M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083q.088-.517.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1z"}),t.createElement("path",{d:"M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 6 6 0 0 1 3.13-1.567"}))});nh.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const rh=nh,sh=e=>{let{student:t,onPrintCard:n,onTransfer:r,onEdit:s,onDelete:a,onViewPayments:i,onViewStudent:l,userRole:o}=e;return(0,Ae.jsxs)(Ym,{align:"end",children:[(0,Ae.jsx)(Ym.Toggle,{variant:"outline-secondary",size:"sm",className:"btn-actions-dropdown",style:{border:"none",backgroundColor:"transparent",color:"#6c757d",boxShadow:"none"},children:(0,Ae.jsx)(Zm,{size:16})}),(0,Ae.jsxs)(Ym.Menu,{className:"shadow-sm",children:[(0,Ae.jsxs)(Ym.Item,{onClick:()=>null===l||void 0===l?void 0:l(t),className:"d-flex align-items-center",children:[(0,Ae.jsx)(Mr,{size:16,className:"me-2 text-info"}),"Voir l'\xe9l\xe8ve"]}),(0,Ae.jsx)(Ym.Divider,{}),(0,Ae.jsxs)(Ym.Item,{onClick:()=>null===n||void 0===n?void 0:n(t),className:"d-flex align-items-center",children:[(0,Ae.jsx)(dd,{size:16,className:"me-2 text-success"}),"Imprimer la carte"]}),(0,Ae.jsxs)(Ym.Item,{onClick:()=>null===r||void 0===r?void 0:r(t),className:"d-flex align-items-center",children:[(0,Ae.jsx)(gd,{size:16,className:"me-2 text-warning"}),"Transf\xe9rer"]}),(0,Ae.jsx)(Ym.Divider,{}),(0,Ae.jsxs)(Ym.Item,{onClick:()=>null===s||void 0===s?void 0:s(t),className:"d-flex align-items-center",children:[(0,Ae.jsx)(gr,{size:16,className:"me-2 text-primary"}),"Modifier"]}),("admin"===o||"accountant"===o)&&(0,Ae.jsxs)(Ym.Item,{onClick:()=>null===i||void 0===i?void 0:i(t),className:"d-flex align-items-center",children:[(0,Ae.jsx)(rh,{size:16,className:"me-2 text-success"}),"Voir paiements"]}),(0,Ae.jsx)(Ym.Divider,{}),(0,Ae.jsxs)(Ym.Item,{onClick:()=>null===a||void 0===a?void 0:a(t),className:"d-flex align-items-center text-danger",children:[(0,Ae.jsx)(Dn,{size:16,className:"me-2"}),"Supprimer"]})]})]})};const ah="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function ih(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function lh(e){return"nodeType"in e}function oh(e){var t,n;return e?ih(e)?e:lh(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function ch(e){const{Document:t}=oh(e);return e instanceof t}function dh(e){return!ih(e)&&e instanceof oh(e).HTMLElement}function uh(e){return e instanceof oh(e).SVGElement}function mh(e){return e?ih(e)?e.document:lh(e)?ch(e)?e:dh(e)||uh(e)?e.ownerDocument:document:document:document}const hh=ah?t.useLayoutEffect:t.useEffect;function ph(e){const n=(0,t.useRef)(e);return hh(()=>{n.current=e}),(0,t.useCallback)(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)},[])}function fh(e,n){void 0===n&&(n=[e]);const r=(0,t.useRef)(e);return hh(()=>{r.current!==e&&(r.current=e)},n),r}function vh(e,n){const r=(0,t.useRef)();return(0,t.useMemo)(()=>{const t=e(r.current);return r.current=t,t},[...n])}function gh(e){const n=ph(e),r=(0,t.useRef)(null),s=(0,t.useCallback)(e=>{e!==r.current&&(null==n||n(e,r.current)),r.current=e},[]);return[r,s]}function xh(e){const n=(0,t.useRef)();return(0,t.useEffect)(()=>{n.current=e},[e]),n.current}let bh={};function yh(e,n){return(0,t.useMemo)(()=>{if(n)return n;const t=null==bh[e]?0:bh[e]+1;return bh[e]=t,e+"-"+t},[e,n])}function jh(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((t,n)=>{const r=Object.entries(n);for(const[s,a]of r){const n=t[s];null!=n&&(t[s]=n+e*a)}return t},{...t})}}const wh=jh(1),Nh=jh(-1);function Ch(e){if(!e)return!1;const{KeyboardEvent:t}=oh(e.target);return t&&e instanceof t}function Eh(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=oh(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Sh=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Sh.Translate.toString(e),Sh.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),kh="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function _h(e){return e.matches(kh)?e:e.querySelector(kh)}const Oh={display:"none"};function Ph(e){let{id:n,value:r}=e;return t.createElement("div",{id:n,style:Oh},r)}function zh(e){let{id:n,announcement:r,ariaLiveType:s="assertive"}=e;return t.createElement("div",{id:n,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":s,"aria-atomic":!0},r)}const Th=(0,t.createContext)(null);const Ah={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Rh={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Lh(e){let{announcements:n=Rh,container:r,hiddenTextDescribedById:s,screenReaderInstructions:i=Ah}=e;const{announce:l,announcement:o}=function(){const[e,n]=(0,t.useState)("");return{announce:(0,t.useCallback)(e=>{null!=e&&n(e)},[]),announcement:e}}(),c=yh("DndLiveRegion"),[d,u]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{u(!0)},[]),function(e){const n=(0,t.useContext)(Th);(0,t.useEffect)(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}((0,t.useMemo)(()=>({onDragStart(e){let{active:t}=e;l(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;n.onDragMove&&l(n.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;l(n.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;l(n.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;l(n.onDragCancel({active:t,over:r}))}}),[l,n])),!d)return null;const m=t.createElement(t.Fragment,null,t.createElement(Ph,{id:s,value:i.draggable}),t.createElement(zh,{id:c,announcement:o}));return r?(0,a.createPortal)(m,r):m}var Mh;function Bh(){}function Ih(e,n){return(0,t.useMemo)(()=>({sensor:e,options:null!=n?n:{}}),[e,n])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(Mh||(Mh={}));const Dh=Object.freeze({x:0,y:0});function $h(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Fh(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Uh(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Hh(e){let{left:t,top:n,height:r,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+r},{x:t+s,y:n+r}]}function Vh(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function qh(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const Wh=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=qh(t,t.left,t.top),a=[];for(const i of r){const{id:e}=i,t=n.get(e);if(t){const n=$h(qh(t),s);a.push({id:e,data:{droppableContainer:i,value:n}})}}return a.sort(Fh)};function Gh(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),i=s-r,l=a-n;if(r<s&&n<a){const n=t.width*t.height,r=e.width*e.height,s=i*l;return Number((s/(n+r-s)).toFixed(4))}return 0}const Kh=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const a of r){const{id:e}=a,r=n.get(e);if(r){const n=Gh(r,t);n>0&&s.push({id:e,data:{droppableContainer:a,value:n}})}}return s.sort(Uh)};function Yh(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Dh}function Xh(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}const Qh=Xh(1);function Jh(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const Zh={ignoreTransform:!1};function ep(e,t){void 0===t&&(t=Zh);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=oh(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=Jh(t);if(!r)return e;const{scaleX:s,scaleY:a,x:i,y:l}=r,o=e.left-i-(1-s)*parseFloat(n),c=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=s?e.width/s:e.width,u=a?e.height/a:e.height;return{width:d,height:u,top:c,right:o+d,bottom:c+u,left:o}}(n,t,r))}const{top:r,left:s,width:a,height:i,bottom:l,right:o}=n;return{top:r,left:s,width:a,height:i,bottom:l,right:o}}function tp(e){return ep(e,{ignoreTransform:!0})}function np(e,t){const n=[];return e?function r(s){if(null!=t&&n.length>=t)return n;if(!s)return n;if(ch(s)&&null!=s.scrollingElement&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!dh(s)||uh(s))return n;if(n.includes(s))return n;const a=oh(e).getComputedStyle(s);return s!==e&&function(e,t){void 0===t&&(t=oh(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"===typeof r&&n.test(r)})}(s,a)&&n.push(s),function(e,t){return void 0===t&&(t=oh(e).getComputedStyle(e)),"fixed"===t.position}(s,a)?n:r(s.parentNode)}(e):n}function rp(e){const[t]=np(e,1);return null!=t?t:null}function sp(e){return ah&&e?ih(e)?e:lh(e)?ch(e)||e===mh(e).scrollingElement?window:dh(e)?e:null:null:null}function ap(e){return ih(e)?e.scrollX:e.scrollLeft}function ip(e){return ih(e)?e.scrollY:e.scrollTop}function lp(e){return{x:ap(e),y:ip(e)}}var op;function cp(e){return!(!ah||!e)&&e===document.scrollingElement}function dp(e){const t={x:0,y:0},n=cp(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(op||(op={}));const up={x:.2,y:.2};function mp(e,t,n,r,s){let{top:a,left:i,right:l,bottom:o}=n;void 0===r&&(r=10),void 0===s&&(s=up);const{isTop:c,isBottom:d,isLeft:u,isRight:m}=dp(e),h={x:0,y:0},p={x:0,y:0},f=t.height*s.y,v=t.width*s.x;return!c&&a<=t.top+f?(h.y=op.Backward,p.y=r*Math.abs((t.top+f-a)/f)):!d&&o>=t.bottom-f&&(h.y=op.Forward,p.y=r*Math.abs((t.bottom-f-o)/f)),!m&&l>=t.right-v?(h.x=op.Forward,p.x=r*Math.abs((t.right-v-l)/v)):!u&&i<=t.left+v&&(h.x=op.Backward,p.x=r*Math.abs((t.left+v-i)/v)),{direction:h,speed:p}}function hp(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function pp(e){return e.reduce((e,t)=>wh(e,lp(t)),Dh)}function fp(e,t){if(void 0===t&&(t=ep),!e)return;const{top:n,left:r,bottom:s,right:a}=t(e);rp(e)&&(s<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const vp=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+ap(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+ip(t),0)}]];class gp{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=np(t),r=pp(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,i]of vp)for(const e of a)Object.defineProperty(this,e,{get:()=>{const t=i(n),a=r[s]-t;return this.rect[e]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class xp{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function bp(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"===typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var yp,jp;function wp(e){e.preventDefault()}function Np(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(yp||(yp={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(jp||(jp={}));const Cp={start:[jp.Space,jp.Enter],cancel:[jp.Esc],end:[jp.Space,jp.Enter,jp.Tab]},Ep=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case jp.Right:return{...n,x:n.x+25};case jp.Left:return{...n,x:n.x-25};case jp.Down:return{...n,y:n.y+25};case jp.Up:return{...n,y:n.y-25}}};class Sp{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new xp(mh(t)),this.windowListeners=new xp(oh(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(yp.Resize,this.handleCancel),this.windowListeners.add(yp.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(yp.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&fp(n),t(Dh)}handleKeyDown(e){if(Ch(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:s=Cp,coordinateGetter:a=Ep,scrollBehavior:i="smooth"}=r,{code:l}=e;if(s.end.includes(l))return void this.handleEnd(e);if(s.cancel.includes(l))return void this.handleCancel(e);const{collisionRect:o}=n.current,c=o?{x:o.left,y:o.top}:Dh;this.referenceCoordinates||(this.referenceCoordinates=c);const d=a(e,{active:t,context:n.current,currentCoordinates:c});if(d){const t=Nh(d,c),r={x:0,y:0},{scrollableAncestors:s}=n.current;for(const n of s){const s=e.code,{isTop:a,isRight:l,isLeft:o,isBottom:c,maxScroll:u,minScroll:m}=dp(n),h=hp(n),p={x:Math.min(s===jp.Right?h.right-h.width/2:h.right,Math.max(s===jp.Right?h.left:h.left+h.width/2,d.x)),y:Math.min(s===jp.Down?h.bottom-h.height/2:h.bottom,Math.max(s===jp.Down?h.top:h.top+h.height/2,d.y))},f=s===jp.Right&&!l||s===jp.Left&&!o,v=s===jp.Down&&!c||s===jp.Up&&!a;if(f&&p.x!==d.x){const e=n.scrollLeft+t.x,a=s===jp.Right&&e<=u.x||s===jp.Left&&e>=m.x;if(a&&!t.y)return void n.scrollTo({left:e,behavior:i});r.x=a?n.scrollLeft-e:s===jp.Right?n.scrollLeft-u.x:n.scrollLeft-m.x,r.x&&n.scrollBy({left:-r.x,behavior:i});break}if(v&&p.y!==d.y){const e=n.scrollTop+t.y,a=s===jp.Down&&e<=u.y||s===jp.Up&&e>=m.y;if(a&&!t.x)return void n.scrollTo({top:e,behavior:i});r.y=a?n.scrollTop-e:s===jp.Down?n.scrollTop-u.y:n.scrollTop-m.y,r.y&&n.scrollBy({top:-r.y,behavior:i});break}}this.handleMove(e,wh(Nh(d,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function kp(e){return Boolean(e&&"distance"in e)}function _p(e){return Boolean(e&&"delay"in e)}Sp.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Cp,onActivation:s}=t,{active:a}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==s||s({event:e.nativeEvent}),!0)}return!1}}];class Op{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=oh(e);return e instanceof t?e:mh(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:a}=s;this.props=e,this.events=t,this.document=mh(a),this.documentListeners=new xp(this.document),this.listeners=new xp(n),this.windowListeners=new xp(oh(a)),this.initialCoordinates=null!=(r=Eh(s))?r:Dh,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(yp.Resize,this.handleCancel),this.windowListeners.add(yp.DragStart,wp),this.windowListeners.add(yp.VisibilityChange,this.handleCancel),this.windowListeners.add(yp.ContextMenu,wp),this.documentListeners.add(yp.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(_p(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(kp(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(yp.Click,Np,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(yp.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:s}=this,{onMove:a,options:{activationConstraint:i}}=s;if(!r)return;const l=null!=(t=Eh(e))?t:Dh,o=Nh(r,l);if(!n&&i){if(kp(i)){if(null!=i.tolerance&&bp(o,i.tolerance))return this.handleCancel();if(bp(o,i.distance))return this.handleStart()}return _p(i)&&bp(o,i.tolerance)?this.handleCancel():void this.handlePending(i,o)}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===jp.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Pp={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class zp extends Op{constructor(e){const{event:t}=e,n=mh(t.target);super(e,Pp,n)}}zp.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const Tp={move:{name:"mousemove"},end:{name:"mouseup"}};var Ap;!function(e){e[e.RightClick=2]="RightClick"}(Ap||(Ap={}));(class extends Op{constructor(e){super(e,Tp,mh(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==Ap.RightClick&&(null==r||r({event:n}),!0)}}];const Rp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var Lp,Mp;function Bp(e){let{acceleration:n,activator:r=Lp.Pointer,canScroll:s,draggingRect:a,enabled:i,interval:l=5,order:o=Mp.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:m,threshold:h}=e;const p=function(e){let{delta:t,disabled:n}=e;const r=xh(t);return vh(e=>{if(n||!r||!e)return Ip;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[op.Backward]:e.x[op.Backward]||-1===s.x,[op.Forward]:e.x[op.Forward]||1===s.x},y:{[op.Backward]:e.y[op.Backward]||-1===s.y,[op.Forward]:e.y[op.Forward]||1===s.y}}},[n,t,r])}({delta:m,disabled:!i}),[f,v]=function(){const e=(0,t.useRef)(null);return[(0,t.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]),(0,t.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),g=(0,t.useRef)({x:0,y:0}),x=(0,t.useRef)({x:0,y:0}),b=(0,t.useMemo)(()=>{switch(r){case Lp.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Lp.DraggableRect:return a}},[r,a,c]),y=(0,t.useRef)(null),j=(0,t.useCallback)(()=>{const e=y.current;if(!e)return;const t=g.current.x*x.current.x,n=g.current.y*x.current.y;e.scrollBy(t,n)},[]),w=(0,t.useMemo)(()=>o===Mp.TreeOrder?[...d].reverse():d,[o,d]);(0,t.useEffect)(()=>{if(i&&d.length&&b){for(const e of w){if(!1===(null==s?void 0:s(e)))continue;const t=d.indexOf(e),r=u[t];if(!r)continue;const{direction:a,speed:i}=mp(e,r,b,n,h);for(const e of["x","y"])p[e][a[e]]||(i[e]=0,a[e]=0);if(i.x>0||i.y>0)return v(),y.current=e,f(j,l),g.current=i,void(x.current=a)}g.current={x:0,y:0},x.current={x:0,y:0},v()}else v()},[n,j,s,v,i,l,JSON.stringify(b),JSON.stringify(p),f,d,w,u,JSON.stringify(h)])}(class extends Op{constructor(e){super(e,Rp)}static setup(){return window.addEventListener(Rp.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Rp.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return!(s.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Lp||(Lp={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Mp||(Mp={}));const Ip={x:{[op.Backward]:!1,[op.Forward]:!1},y:{[op.Backward]:!1,[op.Forward]:!1}};var Dp,$p;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Dp||(Dp={})),function(e){e.Optimized="optimized"}($p||($p={}));const Fp=new Map;function Up(e,t){return vh(n=>e?n||("function"===typeof t?t(e):e):null,[t,e])}function Hp(e){let{callback:n,disabled:r}=e;const s=ph(n),a=(0,t.useMemo)(()=>{if(r||"undefined"===typeof window||"undefined"===typeof window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(s)},[r]);return(0,t.useEffect)(()=>()=>null==a?void 0:a.disconnect(),[a]),a}function Vp(e){return new gp(ep(e),e)}function qp(e,n,r){void 0===n&&(n=Vp);const[s,a]=(0,t.useState)(null);function i(){a(t=>{if(!e)return null;var s;if(!1===e.isConnected)return null!=(s=null!=t?t:r)?s:null;const a=n(e);return JSON.stringify(t)===JSON.stringify(a)?t:a})}const l=function(e){let{callback:n,disabled:r}=e;const s=ph(n),a=(0,t.useMemo)(()=>{if(r||"undefined"===typeof window||"undefined"===typeof window.MutationObserver)return;const{MutationObserver:e}=window;return new e(s)},[s,r]);return(0,t.useEffect)(()=>()=>null==a?void 0:a.disconnect(),[a]),a}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){i();break}}}}),o=Hp({callback:i});return hh(()=>{i(),e?(null==o||o.observe(e),null==l||l.observe(document.body,{childList:!0,subtree:!0})):(null==o||o.disconnect(),null==l||l.disconnect())},[e]),s}const Wp=[];function Gp(e,n){void 0===n&&(n=[]);const r=(0,t.useRef)(null);return(0,t.useEffect)(()=>{r.current=null},n),(0,t.useEffect)(()=>{const t=e!==Dh;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?Nh(e,r.current):Dh}function Kp(e){return(0,t.useMemo)(()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}const Yp=[];function Xp(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return dh(t)?t:e}const Qp=[{sensor:zp,options:{}},{sensor:Sp,options:{}}],Jp={current:{}},Zp={draggable:{measure:tp},droppable:{measure:tp,strategy:Dp.WhileDragging,frequency:$p.Optimized},dragOverlay:{measure:ep}};class ef extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const tf={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ef,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Bh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Zp,measureDroppableContainers:Bh,windowRect:null,measuringScheduled:!1},nf={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Bh,draggableNodes:new Map,over:null,measureDroppableContainers:Bh},rf=(0,t.createContext)(nf),sf=(0,t.createContext)(tf);function af(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ef}}}function lf(e,t){switch(t.type){case Mh.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Mh.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Mh.DragEnd:case Mh.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Mh.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new ef(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case Mh.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const i=new ef(e.droppable.containers);return i.set(n,{...a,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case Mh.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new ef(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function of(e){let{disabled:n}=e;const{active:r,activatorEvent:s,draggableNodes:a}=(0,t.useContext)(rf),i=xh(s),l=xh(null==r?void 0:r.id);return(0,t.useEffect)(()=>{if(!n&&!s&&i&&null!=l){if(!Ch(i))return;if(document.activeElement===i.target)return;const e=a.get(l);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=_h(e);if(t){t.focus();break}}})}},[s,n,a,l,i]),null}function cf(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}const df=(0,t.createContext)({...Dh,scaleX:1,scaleY:1});var uf;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(uf||(uf={}));const mf=(0,t.memo)(function(e){var n,r,s,i;let{id:l,accessibility:o,autoScroll:c=!0,children:d,sensors:u=Qp,collisionDetection:m=Kh,measuring:h,modifiers:p,...f}=e;const v=(0,t.useReducer)(lf,void 0,af),[g,x]=v,[b,y]=function(){const[e]=(0,t.useState)(()=>new Set),n=(0,t.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,t.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]),n]}(),[j,w]=(0,t.useState)(uf.Uninitialized),N=j===uf.Initialized,{draggable:{active:C,nodes:E,translate:S},droppable:{containers:k}}=g,_=null!=C?E.get(C):null,O=(0,t.useRef)({initial:null,translated:null}),P=(0,t.useMemo)(()=>{var e;return null!=C?{id:C,data:null!=(e=null==_?void 0:_.data)?e:Jp,rect:O}:null},[C,_]),z=(0,t.useRef)(null),[T,A]=(0,t.useState)(null),[R,L]=(0,t.useState)(null),M=fh(f,Object.values(f)),B=yh("DndDescribedBy",l),I=(0,t.useMemo)(()=>k.getEnabled(),[k]),D=function(e){return(0,t.useMemo)(()=>({draggable:{...Zp.draggable,...null==e?void 0:e.draggable},droppable:{...Zp.droppable,...null==e?void 0:e.droppable},dragOverlay:{...Zp.dragOverlay,...null==e?void 0:e.dragOverlay}}),[null==e?void 0:e.draggable,null==e?void 0:e.droppable,null==e?void 0:e.dragOverlay])}(h),{droppableRects:$,measureDroppableContainers:F,measuringScheduled:U}=function(e,n){let{dragging:r,dependencies:s,config:a}=n;const[i,l]=(0,t.useState)(null),{frequency:o,measure:c,strategy:d}=a,u=(0,t.useRef)(e),m=function(){switch(d){case Dp.Always:return!1;case Dp.BeforeDragging:return r;default:return!r}}(),h=fh(m),p=(0,t.useCallback)(function(e){void 0===e&&(e=[]),h.current||l(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[h]),f=(0,t.useRef)(null),v=vh(t=>{if(m&&!r)return Fp;if(!t||t===Fp||u.current!==e||null!=i){const t=new Map;for(let n of e){if(!n)continue;if(i&&i.length>0&&!i.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new gp(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,i,r,m,c]);return(0,t.useEffect)(()=>{u.current=e},[e]),(0,t.useEffect)(()=>{m||p()},[r,m]),(0,t.useEffect)(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),(0,t.useEffect)(()=>{m||"number"!==typeof o||null!==f.current||(f.current=setTimeout(()=>{p(),f.current=null},o))},[o,m,p,...s]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:null!=i}}(I,{dragging:N,dependencies:[S.x,S.y],config:D.droppable}),H=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return vh(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(E,C),V=(0,t.useMemo)(()=>R?Eh(R):null,[R]),q=function(){const e=!1===(null==T?void 0:T.autoScrollEnabled),t="object"===typeof c?!1===c.enabled:!1===c,n=N&&!e&&!t;if("object"===typeof c)return{...c,enabled:n};return{enabled:n}}(),W=function(e,t){return Up(e,t)}(H,D.draggable.measure);!function(e){let{activeNode:n,measure:r,initialRect:s,config:a=!0}=e;const i=(0,t.useRef)(!1),{x:l,y:o}="boolean"===typeof a?{x:a,y:a}:a;hh(()=>{if(!l&&!o||!n)return void(i.current=!1);if(i.current||!s)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=Yh(r(e),s);if(l||(t.x=0),o||(t.y=0),i.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=rp(e);n&&n.scrollBy({top:t.y,left:t.x})}},[n,l,o,s,r])}({activeNode:null!=C?E.get(C):null,config:q.layoutShiftCompensation,initialRect:W,measure:D.draggable.measure});const G=qp(H,D.draggable.measure,W),K=qp(H?H.parentElement:null),Y=(0,t.useRef)({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:$,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),X=k.getNodeFor(null==(n=Y.current.over)?void 0:n.id),Q=function(e){let{measure:n}=e;const[r,s]=(0,t.useState)(null),a=Hp({callback:(0,t.useCallback)(e=>{for(const{target:t}of e)if(dh(t)){s(e=>{const r=n(t);return e?{...e,width:r.width,height:r.height}:r});break}},[n])}),i=(0,t.useCallback)(e=>{const t=Xp(e);null==a||a.disconnect(),t&&(null==a||a.observe(t)),s(t?n(t):null)},[n,a]),[l,o]=gh(i);return(0,t.useMemo)(()=>({nodeRef:l,rect:r,setRef:o}),[r,l,o])}({measure:D.dragOverlay.measure}),J=null!=(r=Q.nodeRef.current)?r:H,Z=N?null!=(s=Q.rect)?s:G:null,ee=Boolean(Q.nodeRef.current&&Q.rect),te=Yh(ne=ee?null:G,Up(ne));var ne;const re=Kp(J?oh(J):null),se=function(e){const n=(0,t.useRef)(e),r=vh(t=>e?t&&t!==Wp&&e&&n.current&&e.parentNode===n.current.parentNode?t:np(e):Wp,[e]);return(0,t.useEffect)(()=>{n.current=e},[e]),r}(N?null!=X?X:H:null),ae=function(e,n){void 0===n&&(n=ep);const[r]=e,s=Kp(r?oh(r):null),[a,i]=(0,t.useState)(Yp);function l(){i(()=>e.length?e.map(e=>cp(e)?s:new gp(n(e),e)):Yp)}const o=Hp({callback:l});return hh(()=>{null==o||o.disconnect(),l(),e.forEach(e=>null==o?void 0:o.observe(e))},[e]),a}(se),ie=cf(p,{transform:{x:S.x-te.x,y:S.y-te.y,scaleX:1,scaleY:1},activatorEvent:R,active:P,activeNodeRect:G,containerNodeRect:K,draggingNodeRect:Z,over:Y.current.over,overlayNodeRect:Q.rect,scrollableAncestors:se,scrollableAncestorRects:ae,windowRect:re}),le=V?wh(V,S):null,oe=function(e){const[n,r]=(0,t.useState)(null),s=(0,t.useRef)(e),a=(0,t.useCallback)(e=>{const t=sp(e.target);t&&r(e=>e?(e.set(t,lp(t)),new Map(e)):null)},[]);return(0,t.useEffect)(()=>{const t=s.current;if(e!==t){n(t);const i=e.map(e=>{const t=sp(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,lp(t)]):null}).filter(e=>null!=e);r(i.length?new Map(i):null),s.current=e}return()=>{n(e),n(t)};function n(e){e.forEach(e=>{const t=sp(e);null==t||t.removeEventListener("scroll",a)})}},[a,e]),(0,t.useMemo)(()=>e.length?n?Array.from(n.values()).reduce((e,t)=>wh(e,t),Dh):pp(e):Dh,[e,n])}(se),ce=Gp(oe),de=Gp(oe,[G]),ue=wh(ie,ce),me=Z?Qh(Z,ie):null,he=P&&me?m({active:P,collisionRect:me,droppableRects:$,droppableContainers:I,pointerCoordinates:le}):null,pe=Vh(he,"id"),[fe,ve]=(0,t.useState)(null),ge=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(ee?ie:wh(ie,de),null!=(i=null==fe?void 0:fe.rect)?i:null,G),xe=(0,t.useRef)(null),be=(0,t.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(null==z.current)return;const s=E.get(z.current);if(!s)return;const i=e.nativeEvent,l=new n({active:z.current,activeNode:s,event:i,options:r,context:Y,onAbort(e){if(!E.get(e))return;const{onDragAbort:t}=M.current,n={id:e};null==t||t(n),b({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!E.get(e))return;const{onDragPending:s}=M.current,a={id:e,constraint:t,initialCoordinates:n,offset:r};null==s||s(a),b({type:"onDragPending",event:a})},onStart(e){const t=z.current;if(null==t)return;const n=E.get(t);if(!n)return;const{onDragStart:r}=M.current,s={activatorEvent:i,active:{id:t,data:n.data,rect:O}};(0,a.unstable_batchedUpdates)(()=>{null==r||r(s),w(uf.Initializing),x({type:Mh.DragStart,initialCoordinates:e,active:t}),b({type:"onDragStart",event:s}),A(xe.current),L(i)})},onMove(e){x({type:Mh.DragMove,coordinates:e})},onEnd:o(Mh.DragEnd),onCancel:o(Mh.DragCancel)});function o(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:s}=Y.current;let l=null;if(t&&s){const{cancelDrop:a}=M.current;if(l={activatorEvent:i,active:t,collisions:n,delta:s,over:r},e===Mh.DragEnd&&"function"===typeof a){await Promise.resolve(a(l))&&(e=Mh.DragCancel)}}z.current=null,(0,a.unstable_batchedUpdates)(()=>{x({type:e}),w(uf.Uninitialized),ve(null),A(null),L(null),xe.current=null;const t=e===Mh.DragEnd?"onDragEnd":"onDragCancel";if(l){const e=M.current[t];null==e||e(l),b({type:t,event:l})}})}}xe.current=l},[E]),ye=(0,t.useCallback)((e,t)=>(n,r)=>{const s=n.nativeEvent,a=E.get(r);if(null!==z.current||!a||s.dndKit||s.defaultPrevented)return;const i={active:a};!0===e(n,t.options,i)&&(s.dndKit={capturedBy:t.sensor},z.current=r,be(n,t))},[E,be]),je=function(e,n){return(0,t.useMemo)(()=>e.reduce((e,t)=>{const{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:n(e.handler,t)}))]},[]),[e,n])}(u,ye);!function(e){(0,t.useEffect)(()=>{if(!ah)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(u),hh(()=>{G&&j===uf.Initializing&&w(uf.Initialized)},[G,j]),(0,t.useEffect)(()=>{const{onDragMove:e}=M.current,{active:t,activatorEvent:n,collisions:r,over:s}=Y.current;if(!t||!n)return;const i={active:t,activatorEvent:n,collisions:r,delta:{x:ue.x,y:ue.y},over:s};(0,a.unstable_batchedUpdates)(()=>{null==e||e(i),b({type:"onDragMove",event:i})})},[ue.x,ue.y]),(0,t.useEffect)(()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:s}=Y.current;if(!e||null==z.current||!t||!s)return;const{onDragOver:i}=M.current,l=r.get(pe),o=l&&l.rect.current?{id:l.id,rect:l.rect.current,data:l.data,disabled:l.disabled}:null,c={active:e,activatorEvent:t,collisions:n,delta:{x:s.x,y:s.y},over:o};(0,a.unstable_batchedUpdates)(()=>{ve(o),null==i||i(c),b({type:"onDragOver",event:c})})},[pe]),hh(()=>{Y.current={activatorEvent:R,active:P,activeNode:H,collisionRect:me,collisions:he,droppableRects:$,draggableNodes:E,draggingNode:J,draggingNodeRect:Z,droppableContainers:k,over:fe,scrollableAncestors:se,scrollAdjustedTranslate:ue},O.current={initial:Z,translated:me}},[P,H,he,me,E,J,Z,$,k,fe,se,ue]),Bp({...q,delta:S,draggingRect:me,pointerCoordinates:le,scrollableAncestors:se,scrollableAncestorRects:ae});const we=(0,t.useMemo)(()=>({active:P,activeNode:H,activeNodeRect:G,activatorEvent:R,collisions:he,containerNodeRect:K,dragOverlay:Q,draggableNodes:E,droppableContainers:k,droppableRects:$,over:fe,measureDroppableContainers:F,scrollableAncestors:se,scrollableAncestorRects:ae,measuringConfiguration:D,measuringScheduled:U,windowRect:re}),[P,H,G,R,he,K,Q,E,k,$,fe,F,se,ae,D,U,re]),Ne=(0,t.useMemo)(()=>({activatorEvent:R,activators:je,active:P,activeNodeRect:G,ariaDescribedById:{draggable:B},dispatch:x,draggableNodes:E,over:fe,measureDroppableContainers:F}),[R,je,P,G,x,B,E,fe,F]);return t.createElement(Th.Provider,{value:y},t.createElement(rf.Provider,{value:Ne},t.createElement(sf.Provider,{value:we},t.createElement(df.Provider,{value:ge},d)),t.createElement(of,{disabled:!1===(null==o?void 0:o.restoreFocus)})),t.createElement(Lh,{...o,hiddenTextDescribedById:B}))}),hf=(0,t.createContext)(null),pf="button";function ff(e){let{id:n,data:r,disabled:s=!1,attributes:a}=e;const i=yh("Draggable"),{activators:l,activatorEvent:o,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:m,over:h}=(0,t.useContext)(rf),{role:p=pf,roleDescription:f="draggable",tabIndex:v=0}=null!=a?a:{},g=(null==c?void 0:c.id)===n,x=(0,t.useContext)(g?df:hf),[b,y]=gh(),[j,w]=gh(),N=function(e,n){return(0,t.useMemo)(()=>e.reduce((e,t)=>{let{eventName:r,handler:s}=t;return e[r]=e=>{s(e,n)},e},{}),[e,n])}(l,n),C=fh(r);hh(()=>(m.set(n,{id:n,key:i,node:b,activatorNode:j,data:C}),()=>{const e=m.get(n);e&&e.key===i&&m.delete(n)}),[m,n]);return{active:c,activatorEvent:o,activeNodeRect:d,attributes:(0,t.useMemo)(()=>({role:p,tabIndex:v,"aria-disabled":s,"aria-pressed":!(!g||p!==pf)||void 0,"aria-roledescription":f,"aria-describedby":u.draggable}),[s,p,v,g,f,u.draggable]),isDragging:g,listeners:s?void 0:N,node:b,over:h,setNodeRef:y,setActivatorNodeRef:w,transform:x}}function vf(){return(0,t.useContext)(sf)}const gf={timeout:25};function xf(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function bf(e,t){return e.reduce((e,n,r)=>{const s=t.get(n);return s&&(e[r]=s),e},Array(e.length))}function yf(e){return null!==e&&e>=0}const jf=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const a=xf(t,r,n),i=t[s],l=a[s];return l&&i?{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}:null},wf={scaleX:1,scaleY:1},Nf=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:a,overIndex:i}=e;const l=null!=(t=a[n])?t:r;if(!l)return null;if(s===n){const e=a[i];return e?{x:0,y:n<i?e.top+e.height-(l.top+l.height):e.top-l.top,...wf}:null}const o=function(e,t,n){const r=e[t],s=e[t-1],a=e[t+1];if(!r)return 0;if(n<t)return s?r.top-(s.top+s.height):a?a.top-(r.top+r.height):0;return a?a.top-(r.top+r.height):s?r.top-(s.top+s.height):0}(a,s,n);return s>n&&s<=i?{x:0,y:-l.height-o,...wf}:s<n&&s>=i?{x:0,y:l.height+o,...wf}:{x:0,y:0,...wf}};const Cf="Sortable",Ef=t.createContext({activeIndex:-1,containerId:Cf,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:jf,disabled:{draggable:!1,droppable:!1}});function Sf(e){let{children:n,id:r,items:s,strategy:a=jf,disabled:i=!1}=e;const{active:l,dragOverlay:o,droppableRects:c,over:d,measureDroppableContainers:u}=vf(),m=yh(Cf,r),h=Boolean(null!==o.rect),p=(0,t.useMemo)(()=>s.map(e=>"object"===typeof e&&"id"in e?e.id:e),[s]),f=null!=l,v=l?p.indexOf(l.id):-1,g=d?p.indexOf(d.id):-1,x=(0,t.useRef)(p),b=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(p,x.current),y=-1!==g&&-1===v||b,j=function(e){return"boolean"===typeof e?{draggable:e,droppable:e}:e}(i);hh(()=>{b&&f&&u(p)},[b,p,f,u]),(0,t.useEffect)(()=>{x.current=p},[p]);const w=(0,t.useMemo)(()=>({activeIndex:v,containerId:m,disabled:j,disableTransforms:y,items:p,overIndex:g,useDragOverlay:h,sortedRects:bf(p,c),strategy:a}),[v,m,j.draggable,j.droppable,y,p,g,c,h,a]);return t.createElement(Ef.Provider,{value:w},n)}const kf=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return xf(n,r,s).indexOf(t)},_f=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:a,newIndex:i,previousItems:l,previousContainerId:o,transition:c}=e;return!(!c||!r)&&((l===a||s!==i)&&(!!n||i!==s&&t===o))},Of={duration:200,easing:"ease"},Pf="transform",zf=Sh.Transition.toString({property:Pf,duration:0,easing:"linear"}),Tf={roleDescription:"sortable"};function Af(e){let{animateLayoutChanges:n=_f,attributes:r,disabled:s,data:a,getNewIndex:i=kf,id:l,strategy:o,resizeObserverConfig:c,transition:d=Of}=e;const{items:u,containerId:m,activeIndex:h,disabled:p,disableTransforms:f,sortedRects:v,overIndex:g,useDragOverlay:x,strategy:b}=(0,t.useContext)(Ef),y=function(e,t){var n,r;if("boolean"===typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(s,p),j=u.indexOf(l),w=(0,t.useMemo)(()=>({sortable:{containerId:m,index:j,items:u},...a}),[m,a,j,u]),N=(0,t.useMemo)(()=>u.slice(u.indexOf(l)),[u,l]),{rect:C,node:E,isOver:S,setNodeRef:k}=function(e){let{data:n,disabled:r=!1,id:s,resizeObserverConfig:a}=e;const i=yh("Droppable"),{active:l,dispatch:o,over:c,measureDroppableContainers:d}=(0,t.useContext)(rf),u=(0,t.useRef)({disabled:r}),m=(0,t.useRef)(!1),h=(0,t.useRef)(null),p=(0,t.useRef)(null),{disabled:f,updateMeasurementsFor:v,timeout:g}={...gf,...a},x=fh(null!=v?v:s),b=Hp({callback:(0,t.useCallback)(()=>{m.current?(null!=p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),p.current=null},g)):m.current=!0},[g]),disabled:f||!l}),y=(0,t.useCallback)((e,t)=>{b&&(t&&(b.unobserve(t),m.current=!1),e&&b.observe(e))},[b]),[j,w]=gh(y),N=fh(n);return(0,t.useEffect)(()=>{b&&j.current&&(b.disconnect(),m.current=!1,b.observe(j.current))},[j,b]),(0,t.useEffect)(()=>(o({type:Mh.RegisterDroppable,element:{id:s,key:i,disabled:r,node:j,rect:h,data:N}}),()=>o({type:Mh.UnregisterDroppable,key:i,id:s})),[s]),(0,t.useEffect)(()=>{r!==u.current.disabled&&(o({type:Mh.SetDroppableDisabled,id:s,key:i,disabled:r}),u.current.disabled=r)},[s,i,r,o]),{active:l,rect:h,isOver:(null==c?void 0:c.id)===s,node:j,over:c,setNodeRef:w}}({id:l,data:w,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...c}}),{active:_,activatorEvent:O,activeNodeRect:P,attributes:z,setNodeRef:T,listeners:A,isDragging:R,over:L,setActivatorNodeRef:M,transform:B}=ff({id:l,data:w,attributes:{...Tf,...r},disabled:y.draggable}),I=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useMemo)(()=>e=>{n.forEach(t=>t(e))},n)}(k,T),D=Boolean(_),$=D&&!f&&yf(h)&&yf(g),F=!x&&R,U=F&&$?B:null,H=$?null!=U?U:(null!=o?o:b)({rects:v,activeNodeRect:P,activeIndex:h,overIndex:g,index:j}):null,V=yf(h)&&yf(g)?i({id:l,items:u,activeIndex:h,overIndex:g}):j,q=null==_?void 0:_.id,W=(0,t.useRef)({activeId:q,items:u,newIndex:V,containerId:m}),G=u!==W.current.items,K=n({active:_,containerId:m,isDragging:R,isSorting:D,id:l,index:j,items:u,newIndex:W.current.newIndex,previousItems:W.current.items,previousContainerId:W.current.containerId,transition:d,wasDragging:null!=W.current.activeId}),Y=function(e){let{disabled:n,index:r,node:s,rect:a}=e;const[i,l]=(0,t.useState)(null),o=(0,t.useRef)(r);return hh(()=>{if(!n&&r!==o.current&&s.current){const e=a.current;if(e){const t=ep(s.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&l(n)}}r!==o.current&&(o.current=r)},[n,r,s,a]),(0,t.useEffect)(()=>{i&&l(null)},[i]),i}({disabled:!K,index:j,node:E,rect:C});return(0,t.useEffect)(()=>{D&&W.current.newIndex!==V&&(W.current.newIndex=V),m!==W.current.containerId&&(W.current.containerId=m),u!==W.current.items&&(W.current.items=u)},[D,V,m,u]),(0,t.useEffect)(()=>{if(q===W.current.activeId)return;if(null!=q&&null==W.current.activeId)return void(W.current.activeId=q);const e=setTimeout(()=>{W.current.activeId=q},50);return()=>clearTimeout(e)},[q]),{active:_,activeIndex:h,attributes:z,data:w,rect:C,index:j,newIndex:V,items:u,isOver:S,isSorting:D,isDragging:R,listeners:A,node:E,overIndex:g,over:L,setNodeRef:I,setActivatorNodeRef:M,setDroppableNodeRef:k,setDraggableNodeRef:T,transform:null!=Y?Y:H,transition:function(){if(Y||G&&W.current.newIndex===j)return zf;if(F&&!Ch(O)||!d)return;if(D||K)return Sh.Transition.toString({...d,property:Pf});return}()}}function Rf(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"===typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Lf=[jp.Down,jp.Right,jp.Up,jp.Left],Mf=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:a,over:i,scrollableAncestors:l}}=t;if(Lf.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];a.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;const a=s.get(n.id);if(a)switch(e.code){case jp.Down:r.top<a.top&&t.push(n);break;case jp.Up:r.top>a.top&&t.push(n);break;case jp.Left:r.left>a.left&&t.push(n);break;case jp.Right:r.left<a.left&&t.push(n)}});const o=(e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=Hh(t),a=[];for(const i of r){const{id:e}=i,t=n.get(e);if(t){const n=Hh(t),r=s.reduce((e,t,r)=>e+$h(n[r],t),0),l=Number((r/4).toFixed(4));a.push({id:e,data:{droppableContainer:i,value:l}})}}return a.sort(Fh)})({active:n,collisionRect:r,droppableRects:s,droppableContainers:t,pointerCoordinates:null});let c=Vh(o,"id");if(c===(null==i?void 0:i.id)&&o.length>1&&(c=o[1].id),null!=c){const e=a.get(n.id),t=a.get(c),i=t?s.get(t.id):null,o=null==t?void 0:t.node.current;if(o&&i&&e&&t){const n=np(o).some((e,t)=>l[t]!==e),s=Bf(e,t),a=function(e,t){if(!Rf(e)||!Rf(t))return!1;if(!Bf(e,t))return!1;return e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=n||!s?{x:0,y:0}:{x:a?r.width-i.width:0,y:a?r.height-i.height:0},d={x:i.left,y:i.top};return c.x&&c.y?d:Nh(d,c)}}}};function Bf(e,t){return!(!Rf(e)||!Rf(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const If=e=>{let{student:n,size:r=40,className:s=""}=e;const[a,i]=(0,t.useState)(!1);return!n.photo_url||a?(0,Ae.jsx)("div",{className:`bg-primary bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center ${s}`,style:{width:`${r}px`,height:`${r}px`},children:(0,Ae.jsx)(kc,{className:"text-primary",size:Math.floor(.5*r)})}):(0,Ae.jsx)("img",{src:n.photo_url,alt:n.full_name||`${n.last_name} ${n.first_name}`,className:`rounded-circle ${s}`,style:{width:`${r}px`,height:`${r}px`,objectFit:"cover"},onError:()=>i(!0)})},Df=e=>{let{student:t,handleEdit:n,handleDelete:r,handlePrintCard:s,handleTransferStudent:a,handleViewStudent:i,handleViewPayments:l,handleStatusChange:o,navigate:c,userRole:d}=e;const{attributes:u,listeners:m,setNodeRef:h,transform:p,transition:f,isDragging:v}=Af({id:t.id}),g={transform:Sh.Transform.toString(p),transition:f,opacity:v?.5:1};return(0,Ae.jsxs)("tr",{ref:h,style:g,className:v?"dragging":"",children:[(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)("div",{...u,...m,className:"drag-handle me-2",style:{cursor:"grab"},children:(0,Ae.jsx)(hr,{size:14,className:"text-muted"})}),(0,Ae.jsx)(If,{student:t,size:32,className:"me-2"}),(0,Ae.jsxs)("small",{className:"text-muted",children:["N\xb0 ",t.student_number]})]})}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"fw-medium",children:t.full_name||`${t.last_name||t.subname||""} ${t.first_name||t.name||""}`}),"old"===t.student_status&&(0,Ae.jsx)("span",{className:"badge bg-success bg-opacity-25 text-success small mt-1",children:"Ancien \xe9l\xe8ve"})]})}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("div",{children:[t.date_of_birth&&(0,Ae.jsxs)("div",{className:"d-flex align-items-center small mb-1",children:[(0,Ae.jsx)(Do,{size:12,className:"me-2 flex-shrink-0"}),(0,Ae.jsx)("span",{children:new Date(t.date_of_birth).toLocaleDateString("fr-FR")})]}),t.place_of_birth&&(0,Ae.jsxs)("div",{className:"d-flex align-items-center small text-muted",children:[(0,Ae.jsx)(bo,{size:12,className:"me-2 flex-shrink-0"}),(0,Ae.jsx)("span",{children:t.place_of_birth})]})]})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("span",{className:"badge "+("M"===t.gender?"bg-info":"bg-pink"),children:"M"===t.gender?"Masculin":"F\xe9minin"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("select",{className:"form-select form-select-sm "+("old"===t.student_status?"text-success":"text-primary"),value:t.student_status||"new",onChange:e=>o(t.id,e.target.value),style:{minWidth:"100px"},children:[(0,Ae.jsx)("option",{value:"new",children:"Nouveau"}),(0,Ae.jsx)("option",{value:"old",children:"Ancien"})]})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("div",{className:"small",children:t.parent_name||t.father_name||"-"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("div",{children:[t.parent_phone&&(0,Ae.jsxs)("div",{className:"d-flex align-items-center small mb-1",children:[(0,Ae.jsx)(No,{size:12,className:"me-2 flex-shrink-0"}),(0,Ae.jsx)("span",{children:t.parent_phone})]}),t.parent_email&&(0,Ae.jsxs)("div",{className:"d-flex align-items-center small text-muted",children:[(0,Ae.jsx)(ko,{size:12,className:"me-2 flex-shrink-0"}),(0,Ae.jsx)("span",{children:t.parent_email})]})]})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(sh,{student:t,onPrintCard:s,onTransfer:a,onEdit:n,onDelete:r,onViewPayments:l,onViewStudent:i,userRole:d})})]})},$f=()=>{var e,n,r,s,a,i;const{seriesId:l}=te(),o=ee(),{user:c}=De(),{schoolSettings:d,formatCurrency:u}=Ht(),[m,h]=(0,t.useState)([]),[p,f]=(0,t.useState)(null),[v,g]=(0,t.useState)(null),[x,b]=(0,t.useState)([]),[y,j]=(0,t.useState)(!1),[w,N]=(0,t.useState)(""),[C,E]=(0,t.useState)(""),[S,k]=(0,t.useState)(!1),_=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useMemo)(()=>[...n].filter(e=>null!=e),[...n])}(Ih(zp),Ih(Sp,{coordinateGetter:Mf})),[O,P]=(0,t.useState)(""),[z,T]=(0,t.useState)("all"),[A,R]=(0,t.useState)("list"),[L,M]=(0,t.useState)(!1),[B,I]=(0,t.useState)(!1),[D,$]=(0,t.useState)(!1),[F,U]=(0,t.useState)(!1),[H,V]=(0,t.useState)(!1),[q,W]=(0,t.useState)(null),[G,K]=(0,t.useState)(null),[Y,X]=(0,t.useState)(null),[Q,J]=(0,t.useState)({first_name:"",last_name:"",date_of_birth:"",place_of_birth:"",gender:"M",parent_name:"",parent_phone:"",parent_email:"",address:"",class_series_id:l,student_status:"new"}),[Z,ne]=(0,t.useState)(null),[re,se]=(0,t.useState)(""),[ae,ie]=(0,t.useState)(!1),[le,oe]=(0,t.useState)(null),[ce,de]=(0,t.useState)(null),[ue,me]=(0,t.useState)("");(0,t.useEffect)(()=>{he(),pe()},[l]),(0,t.useEffect)(()=>()=>{le&&le.getTracks().forEach(e=>e.stop())},[le]);const he=async()=>{try{j(!0);const e=await Ft.students.getByClassSeries(l);if(e.success){h(e.data.students),f(e.data.series),g(e.data.school_year);const t=e.data.students.some(e=>null!=e.order);k(t)}else N(e.message||"Erreur lors du chargement des \xe9l\xe8ves")}catch(w){console.error("Error loading students:",w),N("Erreur lors du chargement des \xe9l\xe8ves")}finally{j(!1)}},pe=async()=>{try{const e=await Ft.students.getSchoolYears();if(e.success){b(e.data);const t=e.data.find(e=>e.is_current);t&&me(t.id)}}catch(w){console.error("Error loading school years:",w)}},fe=e=>{const t={...e,class_series:p,current_class:null===p||void 0===p?void 0:p.name};K(t),U(!0)},ve=e=>{const t={...e,class_series:p,class_series_id:null===p||void 0===p?void 0:p.id,current_class:null===p||void 0===p?void 0:p.name};X(t),V(!0)},ge=e=>{console.log("Voir \xe9l\xe8ve:",e)},xe=e=>{o(`/student-payment/${e.id}`)},be=e=>{W(e);let t="";if(e.date_of_birth)try{const n=new Date(e.date_of_birth);isNaN(n.getTime())||(t=n.toISOString().split("T")[0])}catch(w){console.error("Error parsing date:",w)}J({first_name:e.first_name||"",last_name:e.last_name||"",date_of_birth:t,place_of_birth:e.place_of_birth||"",gender:e.gender||"M",parent_name:e.parent_name||"",parent_phone:e.parent_phone||"",parent_email:e.parent_email||"",address:e.address||"",class_series_id:l,student_status:e.student_status||"new"}),e.photo_url?se(e.photo_url):se(""),ne(null),I(!0)},ye=async(e,t)=>{try{const n=await Ft.students.updateStatus(e,t);n.success?(h(n=>n.map(n=>n.id===e?{...n,student_status:t}:n)),E("Statut mis \xe0 jour: "+("old"===t?"Ancien \xe9l\xe8ve":"Nouvel \xe9l\xe8ve")),setTimeout(()=>E(""),3e3)):N(n.message||"Erreur lors de la mise \xe0 jour du statut")}catch(w){N("Erreur lors de la mise \xe0 jour du statut"),console.error("Error updating student status:",w)}},je=async e=>{if((await br().fire({title:"Confirmer la suppression",text:`\xcates-vous s\xfbr de vouloir supprimer l'\xe9l\xe8ve "${e.full_name}" ?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#EF4444",cancelButtonColor:"#6B7280",confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler"})).isConfirmed)try{const t=await Ft.students.delete(e.id);t.success?(he(),E(t.message||"\xc9l\xe8ve supprim\xe9 avec succ\xe8s"),br().fire({title:"Supprim\xe9",text:t.message||"\xc9l\xe8ve supprim\xe9 avec succ\xe8s",icon:"success",timer:2e3,showConfirmButton:!1})):N(t.message||"Erreur lors de la suppression de l'\xe9l\xe8ve")}catch(w){console.error("Error deleting student:",w),N("Erreur lors de la suppression de l'\xe9l\xe8ve")}},we=()=>{le&&(le.getTracks().forEach(e=>e.stop()),oe(null)),ie(!1)},Ne=()=>{J({first_name:"",last_name:"",date_of_birth:"",place_of_birth:"",gender:"M",parent_name:"",parent_phone:"",parent_email:"",address:"",class_series_id:l,student_status:"new"}),W(null),ne(null),se(""),we()},Ce=()=>{M(!1),I(!1),$(!1),Ne(),N(""),de(null)},Ee=m.filter(e=>{const t=`${e.last_name||e.subname||""} ${e.first_name||e.name||""}`.toLowerCase(),n=(e.parent_name||e.father_name||"").toLowerCase(),r=t.includes(O.toLowerCase())||n.includes(O.toLowerCase())||(e.student_number||"").toLowerCase().includes(O.toLowerCase()),s="all"===z||"new"===z&&("new"===e.student_status||!e.student_status)||"old"===z&&"old"===e.student_status;return r&&s});return y&&0===m.length?(0,Ae.jsx)("div",{className:"container-fluid py-4",children:(0,Ae.jsx)("div",{className:"text-center py-5",children:(0,Ae.jsx)("div",{className:"spinner-border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement des \xe9l\xe8ves..."})})})}):(0,Ae.jsxs)("div",{className:"container-fluid py-4",children:[(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsxs)("button",{className:"btn btn-outline-secondary me-3",onClick:()=>o("/school-classes"),children:[(0,Ae.jsx)(Vc,{size:16,className:"me-1"}),"Retour"]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("h2",{className:"h4 mb-1",children:["\xc9l\xe8ves - ",null===p||void 0===p?void 0:p.name]}),(0,Ae.jsxs)("p",{className:"text-muted mb-0",children:[null===p||void 0===p||null===(e=p.school_class)||void 0===e||null===(n=e.level)||void 0===n||null===(r=n.section)||void 0===r?void 0:r.name," - ",null===p||void 0===p||null===(s=p.school_class)||void 0===s||null===(a=s.level)||void 0===a?void 0:a.name," - ",null===p||void 0===p||null===(i=p.school_class)||void 0===i?void 0:i.name,v&&` \u2022 Ann\xe9e ${v.name}`,Ee.length>0&&` \u2022 ${Ee.length} \xe9l\xe8ve${Ee.length>1?"s":""}`]})]})]}),(0,Ae.jsxs)("div",{className:"d-flex gap-2",children:[(0,Ae.jsxs)("button",{className:"btn btn-outline-success",onClick:async()=>{try{var e;j(!0),console.log("Exporting CSV for series:",l);const t=await Ft.students.exportCsv(l),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`eleves_${(null===p||void 0===p||null===(e=p.name)||void 0===e?void 0:e.replace(/[^a-zA-Z0-9]/g,"_"))||"serie"}_${(new Date).toISOString().split("T")[0]}.csv`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n),E("Export CSV r\xe9alis\xe9 avec succ\xe8s")}catch(w){console.error("Error exporting CSV:",w),N("Erreur lors de l'export CSV: "+w.message)}finally{j(!1)}},title:"Exporter en CSV",children:[(0,Ae.jsx)(Kc,{size:16,className:"me-1"}),"Export CSV"]}),(0,Ae.jsxs)("button",{className:"btn btn-outline-danger",onClick:async()=>{try{j(!0),console.log("Exporting PDF for series:",l);const e=await Ft.students.exportPdf(l),t=await e.text(),n=window.open("","_blank");n.document.write(t),n.document.close(),n.onload=()=>{setTimeout(()=>{n.focus(),n.print()},500)},E("Fen\xeatre d'impression ouverte. Vous pouvez maintenant imprimer ou sauvegarder en PDF.")}catch(w){console.error("Error exporting PDF:",w),N("Erreur lors de l'export PDF: "+w.message)}finally{j(!1)}},title:"Exporter en PDF",children:[(0,Ae.jsx)(Kc,{size:16,className:"me-1"}),"Export PDF"]}),(0,Ae.jsxs)("button",{className:"btn btn-outline-info",onClick:()=>$(!0),title:"Importer depuis CSV",children:[(0,Ae.jsx)(tc,{size:16,className:"me-1"}),"Import CSV"]}),(0,Ae.jsxs)("button",{className:"btn btn-primary d-flex align-items-center gap-2",onClick:()=>M(!0),children:[(0,Ae.jsx)(nn,{size:16}),"Nouvel \xc9l\xe8ve"]})]})]})})}),w&&(0,Ae.jsx)("div",{className:"row mb-3",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[w,(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:()=>N(""),"aria-label":"Close"})]})})}),C&&(0,Ae.jsx)("div",{className:"row mb-3",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[C,(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:()=>E(""),"aria-label":"Close"})]})})}),(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"row g-3",children:[(0,Ae.jsxs)("div",{className:"col-md-6",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Rechercher"}),(0,Ae.jsxs)("div",{className:"position-relative",children:[(0,Ae.jsx)(Nn,{className:"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted",size:16}),(0,Ae.jsx)("input",{type:"text",className:"form-control ps-5",placeholder:"Rechercher par nom, pr\xe9nom, parent ou num\xe9ro...",value:O,onChange:e=>P(e.target.value)})]})]}),(0,Ae.jsxs)("div",{className:"col-md-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Statut"}),(0,Ae.jsxs)("select",{className:"form-select",value:z,onChange:e=>T(e.target.value),children:[(0,Ae.jsx)("option",{value:"all",children:"Tous les \xe9l\xe8ves"}),(0,Ae.jsx)("option",{value:"new",children:"Nouveaux \xe9l\xe8ves"}),(0,Ae.jsx)("option",{value:"old",children:"Anciens \xe9l\xe8ves"})]})]}),(0,Ae.jsxs)("div",{className:"col-md-3 d-flex align-items-end",children:[(0,Ae.jsxs)("div",{className:"btn-group me-3",role:"group",children:[(0,Ae.jsx)("button",{type:"button",className:"btn "+("grid"===A?"btn-primary":"btn-outline-secondary"),onClick:()=>R("grid"),title:"Vue grille",children:(0,Ae.jsx)(kn,{size:16})}),(0,Ae.jsx)("button",{type:"button",className:"btn "+("list"===A?"btn-primary":"btn-outline-secondary"),onClick:()=>R("list"),title:"Vue liste",children:(0,Ae.jsx)(zn,{size:16})})]}),(0,Ae.jsx)("button",{className:"btn btn-outline-secondary me-2",onClick:()=>P(""),children:"R\xe9initialiser"}),(0,Ae.jsxs)("button",{className:"btn btn-warning",onClick:async()=>{if((await br().fire({title:"Reclasser par ordre alphab\xe9tique",text:"Cette action va r\xe9organiser tous les \xe9l\xe8ves par ordre alphab\xe9tique (Nom + Pr\xe9nom). Continuer ?",icon:"question",showCancelButton:!0,confirmButtonColor:"#0d6efd",cancelButtonColor:"#6c757d",confirmButtonText:"Oui, reclasser",cancelButtonText:"Annuler"})).isConfirmed)try{j(!0);const e=await Ft.students.sortAlphabetically(l,{});e.success?(h(e.data),k(!1),E(e.message),setTimeout(()=>E(""),3e3)):N(e.message||"Erreur lors du reclassement")}catch(w){console.error("Error sorting alphabetically:",w),N("Erreur lors du reclassement alphab\xe9tique")}finally{j(!1)}},title:"Reclasser par ordre alphab\xe9tique",children:[(0,Ae.jsx)(Jc,{size:16,className:"me-1"}),"Ordre alphab\xe9tique"]})]})]})})})})}),(0,Ae.jsx)("div",{className:"row",children:(0,Ae.jsx)("div",{className:"col-12",children:0===Ee.length?(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("div",{className:"card-body text-center py-5",children:[(0,Ae.jsx)(kc,{size:48,className:"text-muted mb-3"}),(0,Ae.jsx)("h5",{className:"text-muted",children:"Aucun \xe9l\xe8ve trouv\xe9"}),(0,Ae.jsx)("p",{className:"text-muted mb-4",children:O?"Aucun \xe9l\xe8ve ne correspond \xe0 vos crit\xe8res de recherche.":"Commencez par ajouter le premier \xe9l\xe8ve de cette s\xe9rie."}),(0,Ae.jsxs)("button",{className:"btn btn-primary",onClick:()=>M(!0),children:[(0,Ae.jsx)(nn,{size:16,className:"me-2"}),"Ajouter un \xe9l\xe8ve"]})]})}):"grid"===A?(0,Ae.jsx)("div",{className:"row",children:Ee.map(e=>(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Ae.jsx)("div",{className:"card h-100 hover-card",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(If,{student:e,size:40,className:"me-3"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h6",{className:"card-title mb-1",children:e.full_name||`${e.last_name||e.subname||""} ${e.first_name||e.name||""}`}),(0,Ae.jsx)("div",{className:"d-flex align-items-center",children:(0,Ae.jsxs)("small",{className:"text-muted",children:["N\xb0 ",e.student_number]})})]})]}),(0,Ae.jsx)("span",{className:"badge "+("M"===e.gender?"bg-info":"bg-pink"),children:"M"===e.gender?"M":"F"})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[e.date_of_birth&&(0,Ae.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,Ae.jsx)(Do,{size:14,className:"text-muted me-2 flex-shrink-0"}),(0,Ae.jsx)("small",{className:"text-muted",children:new Date(e.date_of_birth).toLocaleDateString("fr-FR")})]}),e.place_of_birth&&(0,Ae.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,Ae.jsx)(bo,{size:14,className:"text-muted me-2 flex-shrink-0"}),(0,Ae.jsx)("small",{className:"text-muted",children:e.place_of_birth})]}),(e.parent_name||e.father_name)&&(0,Ae.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,Ae.jsx)(kc,{size:14,className:"text-muted me-2 flex-shrink-0"}),(0,Ae.jsxs)("small",{className:"text-muted",children:["Parent: ",e.parent_name||e.father_name]})]})]}),(0,Ae.jsx)("div",{className:"d-flex justify-content-end mt-auto",children:(0,Ae.jsx)(sh,{student:e,onPrintCard:fe,onTransfer:ve,onEdit:be,onDelete:je,onViewPayments:xe,onViewStudent:ge,userRole:null===c||void 0===c?void 0:c.role})})]})})},e.id))}):(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)("div",{className:"card-body p-0",children:(0,Ae.jsx)("div",{className:"table-responsive",children:(0,Ae.jsx)(mf,{sensors:_,collisionDetection:Wh,onDragEnd:async e=>{const{active:t,over:n}=e;if(t.id!==n.id){const e=m.findIndex(e=>e.id===t.id),r=m.findIndex(e=>e.id===n.id),s=xf(m,e,r);h(s),k(!0);try{const e=s.map((e,t)=>({id:e.id,order:t+1}));await Ft.students.reorder({students:e,class_series_id:parseInt(l)}),E("Ordre des \xe9l\xe8ves mis \xe0 jour avec succ\xe8s"),setTimeout(()=>E(""),3e3)}catch(w){console.error("Error reordering students:",w),N("Erreur lors de la r\xe9organisation des \xe9l\xe8ves"),he()}}},children:(0,Ae.jsxs)("table",{className:"table table-hover mb-0",children:[(0,Ae.jsx)("thead",{className:"table-light",children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Photo & N\xb0"}),(0,Ae.jsx)("th",{children:"Nom & Pr\xe9nom"}),(0,Ae.jsx)("th",{children:"Date/Lieu naissance"}),(0,Ae.jsx)("th",{children:"Sexe"}),(0,Ae.jsx)("th",{children:"Statut"}),(0,Ae.jsx)("th",{children:"Parent"}),(0,Ae.jsx)("th",{children:"Contact"}),(0,Ae.jsx)("th",{children:"Actions"})]})}),(0,Ae.jsx)(Sf,{items:Ee.map(e=>e.id),strategy:Nf,children:(0,Ae.jsx)("tbody",{children:Ee.map(e=>(0,Ae.jsx)(Df,{student:e,handleEdit:be,handleDelete:je,handlePrintCard:fe,handleTransferStudent:ve,handleViewStudent:ge,handleViewPayments:xe,handleStatusChange:ye,navigate:o,userRole:null===c||void 0===c?void 0:c.role},e.id))})})]})})})})})})}),(L||B)&&(0,Ae.jsx)("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Ae.jsx)("div",{className:"modal-dialog modal-lg",children:(0,Ae.jsxs)("div",{className:"modal-content",children:[(0,Ae.jsxs)("div",{className:"modal-header",children:[(0,Ae.jsx)("h5",{className:"modal-title",children:q?"Modifier l'\xe9l\xe8ve":"Ajouter un \xe9l\xe8ve"}),(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:Ce})]}),(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=["first_name","last_name","date_of_birth","place_of_birth","gender","parent_name"].filter(e=>!Q[e]||""===Q[e].trim());if(t.length>0)N(`Champs obligatoires manquants: ${t.map(e=>({first_name:"Pr\xe9nom",last_name:"Nom",date_of_birth:"Date de naissance",place_of_birth:"Lieu de naissance",gender:"Sexe",parent_name:"Nom du parent"}[e])).join(", ")}`);else if(l){console.log("Form data before submission:",Q),console.log("School year:",v),console.log("Series ID:",l);try{j(!0),N("");const e={...Q,class_series_id:parseInt(l)};if(!e.class_series_id||isNaN(e.class_series_id))return void N("ID de s\xe9rie de classe invalide");let t;if(console.log("Final form data:",e),q&&(console.log("Editing student:",q.id),console.log("Has new photo:",!!Z),console.log("Student photo type:",typeof Z),console.log("Student photo:",Z)),Z){const n=new FormData;Object.keys(e).forEach(t=>{const r=e[t];void 0!==r&&null!==r&&""!==r?n.append(t,String(r)):["first_name","last_name","date_of_birth","place_of_birth","gender","parent_name","class_series_id"].includes(t)&&n.append(t,"")}),n.append("photo",Z),console.log("FormData contents:");for(let[e,t]of n.entries())console.log(`${e}:`,t);t=q?await Ft.students.updateWithPhoto(q.id,n):await Ft.students.createWithPhoto(n)}else{const e={...Q,class_series_id:parseInt(l)};t=q?await Ft.students.update(q.id,e):await Ft.students.create(e)}if(t.success)if(E(t.message||`\xc9l\xe8ve ${q?"modifi\xe9":"cr\xe9\xe9"} avec succ\xe8s`),Ne(),M(!1),I(!1),he(),!q&&t.data){const e={...t.data,class_series:p,current_class:null===p||void 0===p?void 0:p.name};K(e),br().fire({title:"\xc9l\xe8ve cr\xe9\xe9 avec succ\xe8s !",text:"Voulez-vous imprimer sa carte scolaire maintenant ?",icon:"success",showCancelButton:!0,confirmButtonText:"\ud83d\udda8\ufe0f Imprimer la carte",cancelButtonText:"Plus tard",confirmButtonColor:"#28a745",cancelButtonColor:"#6c757d"}).then(e=>{e.isConfirmed&&U(!0)})}else br().fire({title:"Succ\xe8s",text:t.message||`\xc9l\xe8ve ${q?"modifi\xe9":"cr\xe9\xe9"} avec succ\xe8s`,icon:"success",timer:2e3,showConfirmButton:!1});else N(t.message||`Erreur lors de ${q?"la modification":"la cr\xe9ation"} de l'\xe9l\xe8ve`)}catch(w){console.error("Error saving student:",w),N(`Erreur lors de ${q?"la modification":"la cr\xe9ation"} de l'\xe9l\xe8ve`)}finally{j(!1)}}else N("S\xe9rie de classe manquante")},children:[(0,Ae.jsxs)("div",{className:"modal-body",children:[(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsxs)("div",{className:"col-12",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Photo de l'\xe9l\xe8ve"}),(0,Ae.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,Ae.jsx)("div",{className:"mb-3 position-relative",style:{width:"150px",height:"150px"},children:re?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("img",{src:re,alt:"Aper\xe7u photo \xe9l\xe8ve",className:"img-thumbnail border-2 shadow-sm",style:{width:"150px",height:"150px",objectFit:"cover"}}),(0,Ae.jsx)("button",{type:"button",className:"btn btn-sm btn-danger position-absolute",onClick:()=>{ne(null),se(""),N("")},style:{top:"-8px",right:"-8px"},title:"Supprimer la photo",children:(0,Ae.jsx)(ot,{size:12})})]}):(0,Ae.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center border border-dashed border-2 rounded h-100",style:{backgroundColor:"#f8f9fa"},children:[(0,Ae.jsx)(kc,{size:48,className:"text-muted mb-2"}),(0,Ae.jsx)("small",{className:"text-muted text-center",children:"Aucune photo"})]})}),(0,Ae.jsxs)("div",{className:"d-flex gap-2 mb-3",children:[(0,Ae.jsxs)("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480,facingMode:"user"}});oe(e),ie(!0)}catch(w){console.error("Erreur d'acc\xe8s \xe0 la cam\xe9ra:",w),N("Impossible d'acc\xe9der \xe0 la cam\xe9ra. V\xe9rifiez les permissions.")}},children:[(0,Ae.jsx)(nd,{size:16,className:"me-1"}),"Capturer"]}),(0,Ae.jsxs)("label",{className:"btn btn-outline-secondary btn-sm",htmlFor:"photoUpload",children:[(0,Ae.jsx)(id,{size:16,className:"me-1"}),"Choisir fichier"]}),(0,Ae.jsx)("input",{id:"photoUpload",type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(!t.type.startsWith("image/"))return void N("Veuillez s\xe9lectionner un fichier image valide");if(t.size>5242880)return void N("La taille de l'image ne doit pas d\xe9passer 5MB");ne(t);const e=new FileReader;e.onload=e=>{se(e.target.result)},e.readAsDataURL(t),N("")}},style:{display:"none"}})]}),ae&&(0,Ae.jsx)("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{backgroundColor:"rgba(0,0,0,0.8)",zIndex:9999},children:(0,Ae.jsxs)("div",{className:"bg-white p-4 rounded",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,Ae.jsx)("h5",{className:"mb-0",children:"Capture Photo"}),(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:we})]}),(0,Ae.jsx)("video",{id:"cameraVideo",autoPlay:!0,playsInline:!0,ref:e=>{e&&le&&(e.srcObject=le)},style:{width:"400px",height:"300px"},className:"border rounded mb-3"}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-center gap-2",children:[(0,Ae.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:()=>{const e=document.getElementById("cameraVideo"),t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight;t.getContext("2d").drawImage(e,0,0),t.toBlob(e=>{const n=new File([e],"photo_eleve.jpg",{type:"image/jpeg"});ne(n),se(t.toDataURL()),we()},"image/jpeg",.8)},children:[(0,Ae.jsx)(nd,{size:16,className:"me-1"}),"Capturer"]}),(0,Ae.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:we,children:"Annuler"})]})]})})]})]})}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Nom *"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",value:Q.last_name,onChange:e=>J({...Q,last_name:e.target.value}),required:!0})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Pr\xe9nom *"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",value:Q.first_name,onChange:e=>J({...Q,first_name:e.target.value}),required:!0})]})})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Date de naissance *"}),(0,Ae.jsx)("input",{type:"date",className:"form-control",value:Q.date_of_birth,onChange:e=>J({...Q,date_of_birth:e.target.value}),required:!0})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Lieu de naissance *"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",value:Q.place_of_birth,onChange:e=>J({...Q,place_of_birth:e.target.value}),required:!0})]})})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-4",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Sexe *"}),(0,Ae.jsxs)("select",{className:"form-select",value:Q.gender,onChange:e=>J({...Q,gender:e.target.value}),required:!0,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner"}),(0,Ae.jsx)("option",{value:"M",children:"Masculin"}),(0,Ae.jsx)("option",{value:"F",children:"F\xe9minin"})]})]})}),(0,Ae.jsx)("div",{className:"col-md-4",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Statut"}),(0,Ae.jsxs)("select",{className:"form-select",value:Q.student_status||"new",onChange:e=>J({...Q,student_status:e.target.value}),children:[(0,Ae.jsx)("option",{value:"new",children:"Nouveau \xe9l\xe8ve"}),(0,Ae.jsx)("option",{value:"old",children:"Ancien \xe9l\xe8ve"})]})]})}),(0,Ae.jsx)("div",{className:"col-md-4",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Nom du parent *"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",value:Q.parent_name,onChange:e=>J({...Q,parent_name:e.target.value}),required:!0})]})})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"T\xe9l\xe9phone parent"}),(0,Ae.jsx)("input",{type:"tel",className:"form-control",value:Q.parent_phone,onChange:e=>J({...Q,parent_phone:e.target.value})})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Email parent"}),(0,Ae.jsx)("input",{type:"email",className:"form-control",value:Q.parent_email,onChange:e=>J({...Q,parent_email:e.target.value})})]})})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Adresse"}),(0,Ae.jsx)("textarea",{className:"form-control",rows:"3",value:Q.address,onChange:e=>J({...Q,address:e.target.value})})]})]}),(0,Ae.jsxs)("div",{className:"modal-footer",children:[(0,Ae.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:Ce,children:"Annuler"}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:y,children:y?"Enregistrement...":q?"Modifier":"Cr\xe9er"})]})]})]})})}),D&&(0,Ae.jsx)("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Ae.jsx)("div",{className:"modal-dialog",children:(0,Ae.jsxs)("div",{className:"modal-content",children:[(0,Ae.jsxs)("div",{className:"modal-header",children:[(0,Ae.jsx)("h5",{className:"modal-title",children:"Importer des \xe9l\xe8ves (CSV)"}),(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:Ce})]}),(0,Ae.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!ce)return void N("Veuillez s\xe9lectionner un fichier CSV");if(!ue)return void N("Veuillez s\xe9lectionner une ann\xe9e scolaire");if(!l)return void N("ID de s\xe9rie manquant");const t=ce.name.toLowerCase().split(".").pop();if(["text/csv","application/csv","text/plain"].includes(ce.type)||"csv"===t)try{var n;j(!0),N("");const e=new FormData;e.append("file",ce),e.append("class_series_id",l),console.log("Import CSV - FormData contents:",{file:{name:ce.name,type:ce.type,size:ce.size,lastModified:ce.lastModified},class_series_id:l,seriesInfo:null===p||void 0===p?void 0:p.name,schoolYearInfo:null===(n=x.find(e=>e.id==ue))||void 0===n?void 0:n.name});for(let[n,r]of e.entries())console.log("FormData entry:",n,r);const t=await Ft.students.importCsv(e);if(t.success)E(t.message),$(!1),de(null),he(),t.data.errors&&t.data.errors.length>0?br().fire({title:"Import termin\xe9 avec des erreurs",html:`\n                            <p><strong>${t.data.imported} \xe9l\xe8ve(s) import\xe9(s)</strong></p>\n                            <p>Erreurs :</p>\n                            <ul style="text-align: left;">\n                                ${t.data.errors.map(e=>`<li>${e}</li>`).join("")}\n                            </ul>\n                        `,icon:"warning"}):br().fire({title:"Import r\xe9ussi",text:t.message,icon:"success",timer:2e3,showConfirmButton:!1});else if(t.errors){let e="Erreurs de validation:\n";Object.keys(t.errors).forEach(n=>{e+=`\u2022 ${n}: ${t.errors[n].join(", ")}\n`}),N(e)}else N(t.message||"Erreur lors de l'import")}catch(w){console.error("Error importing CSV:",w);let t="Erreur lors de l'import CSV";w.message&&(t+=": "+w.message),"TypeError"===w.name&&w.message.includes("fetch")&&(t="Impossible de se connecter au serveur. V\xe9rifiez votre connexion."),w.message.includes("JSON")&&(t="Erreur de format de r\xe9ponse du serveur."),N(t)}finally{j(!1)}else N("Le fichier doit \xeatre au format CSV (.csv)")},children:[(0,Ae.jsxs)("div",{className:"modal-body",children:[(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Ann\xe9e scolaire *"}),(0,Ae.jsxs)("select",{className:"form-select",value:ue,onChange:e=>me(e.target.value),required:!0,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner une ann\xe9e"}),x.map(e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.name," ",e.is_current?"(Courante)":""]},e.id))]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Ae.jsx)("label",{className:"form-label mb-0",children:"Fichier CSV *"}),(0,Ae.jsxs)("button",{type:"button",className:"btn btn-sm btn-outline-info",onClick:()=>{const e=[["Nom","Pr\xe9nom","Date de naissance (DD/MM/YYYY)","Lieu de naissance","Sexe (M/F)","Nom du parent","T\xe9l\xe9phone parent (optionnel)","Email parent (optionnel)","Adresse (optionnel)"],["NGUEME","Jean","15/03/2010","Douala","M","NGUEME Paul","690123456","parent@email.com","Bonanjo, Douala"],["TCHOUA","Marie","20/08/2009","Yaound\xe9","F","TCHOUA Pierre","691234567","marie.parent@email.com","Melen, Yaound\xe9"]].map(e=>e.map(e=>`"${e}"`).join(";")).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="modele_import_eleves.csv",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n),E("Mod\xe8le CSV t\xe9l\xe9charg\xe9 avec succ\xe8s")},title:"T\xe9l\xe9charger le mod\xe8le CSV",children:[(0,Ae.jsx)(Kc,{size:14,className:"me-1"}),"Mod\xe8le CSV"]})]}),(0,Ae.jsx)("input",{type:"file",className:"form-control",accept:".csv,.txt",onChange:e=>{const t=e.target.files[0];de(t),t&&(e=>{if(!e)return;const t=new FileReader;t.onload=e=>{try{var t;const n=e.target.result.split("\n").filter(e=>e.trim());if(n.length<2)return void N("Le fichier CSV doit contenir au moins une ligne d'en-t\xeates et une ligne de donn\xe9es");const r=n[0].split(";").map(e=>e.replace(/"/g,"").trim()),s=["Nom","Pr\xe9nom","Date de naissance","Lieu de naissance","Sexe","Nom du parent"].filter(e=>!r.some(t=>t.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(t.toLowerCase())));if(s.length>0)return void N(`En-t\xeates manquants dans le CSV: ${s.join(", ")}`);console.log("Pr\xe9visualisation CSV:",{totalLines:n.length,headers:r,dataLines:n.length-1,firstDataLine:null===(t=n[1])||void 0===t?void 0:t.split(";").map(e=>e.replace(/"/g,"").trim())}),N(""),E(`Fichier CSV valide: ${n.length-1} ligne(s) de donn\xe9es d\xe9tect\xe9e(s)`)}catch(w){N("Erreur lors de la lecture du fichier CSV: "+w.message)}},t.onerror=()=>{N("Erreur lors de la lecture du fichier")},t.readAsText(e,"UTF-8")})(t)},required:!0}),(0,Ae.jsxs)("div",{className:"form-text",children:["Le fichier doit contenir les colonnes : Nom, Pr\xe9nom, Date naissance, Lieu naissance, Sexe, Nom parent, T\xe9l\xe9phone parent (optionnel), Email parent (optionnel), Adresse (optionnel)",(0,Ae.jsx)("br",{}),(0,Ae.jsx)("small",{className:"text-muted",children:'\ud83d\udca1 Cliquez sur "Mod\xe8le CSV" pour t\xe9l\xe9charger un exemple de format'})]})]})]}),(0,Ae.jsxs)("div",{className:"modal-footer",children:[(0,Ae.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:Ce,children:"Annuler"}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:y,children:y?"Import en cours...":"Importer"})]})]})]})})}),(0,Ae.jsx)("style",{jsx:!0,children:"\n                .hover-card {\n                    transition: box-shadow 0.2s ease-in-out;\n                }\n                .hover-card:hover {\n                    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\n                }\n                .bg-pink {\n                    background-color: #e91e63 !important;\n                }\n                .drag-handle {\n                    opacity: 0.6;\n                    transition: opacity 0.2s ease;\n                }\n                .drag-handle:hover {\n                    opacity: 1;\n                }\n                .dragging {\n                    background-color: rgba(0, 123, 255, 0.1) !important;\n                }\n                tbody tr:hover .drag-handle {\n                    opacity: 1;\n                }\n            "}),F&&G&&(0,Ae.jsx)(hd,{student:G,schoolYear:v,show:F,onHide:()=>{U(!1),K(null)},onPrintSuccess:()=>{console.log("Carte imprim\xe9e avec succ\xe8s")}}),H&&Y&&(0,Ae.jsx)(wd,{student:Y,show:H,onHide:()=>{V(!1),X(null)},onTransferSuccess:(e,t)=>{he(),console.log(`\xc9l\xe8ve transf\xe9r\xe9 vers ${t.className} - ${t.seriesName}`)}})]})};var Ff=["color","size","title","className"];function Uf(){return Uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uf.apply(null,arguments)}var Hf=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Ff);return t.createElement("svg",Uf({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-people-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"}))});Hf.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Vf=Hf;var qf=["color","size","title","className"];function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wf.apply(null,arguments)}var Gf=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,qf);return t.createElement("svg",Wf({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-house-heart-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M7.293 1.5a1 1 0 0 1 1.414 0L11 3.793V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v3.293l2.354 2.353a.5.5 0 0 1-.708.707L8 2.207 1.354 8.853a.5.5 0 1 1-.708-.707z"}),t.createElement("path",{d:"m14 9.293-6-6-6 6V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5zm-6-.811c1.664-1.673 5.825 1.254 0 5.018-5.825-3.764-1.664-6.691 0-5.018"}))});Gf.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Kf=Gf,Yf=()=>{ee();const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)({}),[a,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,m]=(0,t.useState)(""),[h,p]=(0,t.useState)("grid"),[f,v]=(0,t.useState)({total_students:0,total_classes:0,total_series:0});(0,t.useEffect)(()=>{g(),x()},[]);const g=async()=>{try{i(!0);const e=await Ft.accountant.getClasses();e.success?(n(e.data.classes),s(e.data.grouped_classes)):o(e.message||"Erreur lors du chargement des classes")}catch(l){console.error("Error loading classes:",l),o("Erreur lors du chargement des classes")}finally{i(!1)}},x=async()=>{try{const e=await Ft.accountant.dashboard();e.success&&v(e.data)}catch(l){console.error("Error loading dashboard:",l)}},b=e.filter(e=>{var t,n,r;return e.name.toLowerCase().includes(u.toLowerCase())||(null===(t=e.level)||void 0===t?void 0:t.name.toLowerCase().includes(u.toLowerCase()))||(null===(n=e.level)||void 0===n||null===(r=n.section)||void 0===r?void 0:r.name.toLowerCase().includes(u.toLowerCase()))});return a&&0===e.length?(0,Ae.jsx)("div",{className:"container-fluid py-4",children:(0,Ae.jsx)("div",{className:"text-center py-5",children:(0,Ae.jsx)("div",{className:"spinner-border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement des classes..."})})})}):(0,Ae.jsxs)("div",{className:"container-fluid py-4",children:[(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{className:"h4 mb-1",children:"Gestion des Classes"}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Visualisation des classes et gestion des \xe9l\xe8ves (Mode Comptable)"})]}),(0,Ae.jsx)("div",{className:"d-flex align-items-center gap-2",children:(0,Ae.jsxs)("span",{className:"badge bg-info",children:[(0,Ae.jsx)(jc,{size:14,className:"me-1"}),"Lecture seule"]})})]})})}),l&&(0,Ae.jsx)("div",{className:"row mb-3",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[l,(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:()=>o(""),"aria-label":"Close"})]})})}),(0,Ae.jsxs)("div",{className:"row mb-4",children:[(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsx)("div",{className:"card bg-primary text-white",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"fs-2 fw-bold",children:f.total_students}),(0,Ae.jsx)("div",{children:"\xc9l\xe8ves Total"})]}),(0,Ae.jsx)(Vf,{size:40,className:"opacity-75"})]})})})}),(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsx)("div",{className:"card bg-success text-white",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"fs-2 fw-bold",children:f.total_classes}),(0,Ae.jsx)("div",{children:"Classes"})]}),(0,Ae.jsx)(Kf,{size:40,className:"opacity-75"})]})})})}),(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsx)("div",{className:"card bg-warning text-white",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"fs-2 fw-bold",children:f.total_series}),(0,Ae.jsx)("div",{children:"S\xe9ries"})]}),(0,Ae.jsx)(kn,{size:40,className:"opacity-75"})]})})})}),(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsx)("div",{className:"card bg-info text-white",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"fs-6 fw-bold",children:f.current_year}),(0,Ae.jsx)("div",{children:"Ann\xe9e Scolaire"})]}),(0,Ae.jsx)(jc,{size:40,className:"opacity-75"})]})})})})]}),(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"row g-3",children:[(0,Ae.jsxs)("div",{className:"col-md-8",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Rechercher"}),(0,Ae.jsxs)("div",{className:"position-relative",children:[(0,Ae.jsx)(Nn,{className:"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted",size:16}),(0,Ae.jsx)("input",{type:"text",className:"form-control ps-5",placeholder:"Rechercher par nom de classe, niveau ou section...",value:u,onChange:e=>m(e.target.value)})]})]}),(0,Ae.jsx)("div",{className:"col-md-4 d-flex align-items-end",children:(0,Ae.jsxs)("div",{className:"btn-group w-100",role:"group",children:[(0,Ae.jsxs)("button",{type:"button",className:"btn "+("grid"===h?"btn-primary":"btn-outline-secondary"),onClick:()=>p("grid"),children:[(0,Ae.jsx)(kn,{size:16,className:"me-1"}),"Grille"]}),(0,Ae.jsxs)("button",{type:"button",className:"btn "+("list"===h?"btn-primary":"btn-outline-secondary"),onClick:()=>p("list"),children:[(0,Ae.jsx)(zn,{size:16,className:"me-1"}),"Liste"]})]})})]})})})})}),"grid"===h?(0,Ae.jsx)("div",{className:"row",children:0===b.length?(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("div",{className:"card-body text-center py-5",children:[(0,Ae.jsx)(Kf,{size:48,className:"text-muted mb-3"}),(0,Ae.jsx)("h5",{className:"text-muted",children:"Aucune classe trouv\xe9e"}),(0,Ae.jsx)("p",{className:"text-muted",children:u?"Aucune classe ne correspond \xe0 vos crit\xe8res de recherche.":"Aucune classe disponible pour le moment."})]})})}):b.map(e=>{var t,n,r;return(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Ae.jsx)("div",{className:"card h-100 hover-card",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h6",{className:"card-title mb-1",children:e.name}),(0,Ae.jsxs)("small",{className:"text-muted",children:[null===(t=e.level)||void 0===t||null===(n=t.section)||void 0===n?void 0:n.name," - ",null===(r=e.level)||void 0===r?void 0:r.name]})]}),(0,Ae.jsxs)("span",{className:"badge bg-primary",children:[e.series_count||0," s\xe9rie",(e.series_count||0)>1?"s":""]})]}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-auto",children:[(0,Ae.jsxs)("small",{className:"text-muted",children:[e.total_students||0," \xe9l\xe8ve",(e.total_students||0)>1?"s":""]}),(0,Ae.jsx)(_e,{to:`/class-comp/${e.id}`,className:"btn btn-primary btn-sm",children:"Voir les s\xe9ries"})]})]})})},e.id)})}):(0,Ae.jsx)("div",{className:"row",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)("div",{className:"card-body p-0",children:(0,Ae.jsx)("div",{className:"table-responsive",children:(0,Ae.jsxs)("table",{className:"table table-hover mb-0",children:[(0,Ae.jsx)("thead",{className:"table-light",children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Classe"}),(0,Ae.jsx)("th",{children:"Section"}),(0,Ae.jsx)("th",{children:"Niveau"}),(0,Ae.jsx)("th",{children:"S\xe9ries"}),(0,Ae.jsx)("th",{children:"\xc9l\xe8ves"}),(0,Ae.jsx)("th",{children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:b.map(e=>{var t,n,r;return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{className:"fw-medium",children:e.name}),(0,Ae.jsx)("td",{children:null===(t=e.level)||void 0===t||null===(n=t.section)||void 0===n?void 0:n.name}),(0,Ae.jsx)("td",{children:null===(r=e.level)||void 0===r?void 0:r.name}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("span",{className:"badge bg-light text-dark",children:[e.series_count||0," s\xe9rie",(e.series_count||0)>1?"s":""]})}),(0,Ae.jsxs)("td",{children:[e.total_students||0," \xe9l\xe8ve",(e.total_students||0)>1?"s":""]}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(_e,{to:`/class-comp/${e.id}`,className:"btn btn-sm btn-primary",children:"Voir les s\xe9ries"})})]},e.id)})})]})})})})})}),(0,Ae.jsx)("style",{jsx:!0,children:"\n                .hover-card {\n                    transition: box-shadow 0.2s ease-in-out;\n                }\n                .hover-card:hover {\n                    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\n                }\n            "})]})};const Xf=function(e){let{setError:t}=e;return(0,Ae.jsx)("div",{className:"dL",children:(0,Ae.jsx)("div",{className:"choices",children:[{name:"Francais",code:"fr"},{name:"Anglais",code:"en"}].map(e=>(0,Ae.jsxs)("div",{className:`choice ${e.code===Qt()?"checked":""} `,id:"lang_choice",onClick:n=>{((e,t)=>{Xt.includes(localStorage.getItem("lang"))?(localStorage.setItem("lang",e),window.location.reload()):t(Yt.error)})(e.code,t)},children:[(0,Ae.jsx)("div",{className:"example",children:(0,Ae.jsx)("img",{src:`../../assets/${e.code}.png`,alt:"d"})}),(0,Ae.jsx)("div",{className:"name",children:e.name})]},e.code))})})},Qf={en:{add:"Ajouter",addAdmin:"Add administrator",addind:"Ajout...",admin:"Administrateur",allAdmin:"Tous les administrateurs",confirm:"Confirmez votre mot de passe",delete:"Supprimer",email:"Email",editProfile:"Editer un profil",logout:"Se d\xe9connecter",noAdmin:"Aucun admin pour l'instant",password:"Mot de passe",teacher:"Enseignant",username:"Pseudo",saving:"Enregistrement",save:"Enregistrer",role:"R\xf4le",cancel:"Annuler",selectSex:"--- Selectionner le sexe de l'enseignant ----",m:"Masculin",comptable:"Comptable",f:"F\xe9minin",sex:"Sex de l'enseignant",teacherName:"Nom de l'enseignagnt :",teacherSubname:"Pr\xe9nom de l'ensignant :",allComp:"Tous les comptables",noComp:"Aucun comptable pour l'instant",selectRole:"S\xe9lectionnez un r\xf4le",number:"Num\xe9ro de t\xe9l\xe9phone de l'enseignant :"},fr:{add:"Ajouter",addAdmin:"Ajouter un administrateur",addind:"Ajout...",admin:"Administrateur",allAdmin:"Tous les administrateurs",confirm:"Confirmez votre mot de passe",delete:"Supprimer",selectRole:"S\xe9lectionnez un r\xf4le",email:"Email",editProfile:"Editer un profil",logout:"Se d\xe9connecter",allComp:"Tous les comptables",noComp:"Aucun comptable pour l'instant",noAdmin:"Aucun admin pour l'instant",password:"Mot de passe",teacher:"Enseignant",role:"R\xf4le",username:"Pseudo",saving:"Enregistrement",save:"Enregistrer",cancel:"Annuler",comptable:"Comptable",selectSex:"--- Selectionner le sexe de l'enseignant ----",m:"Masculin",f:"F\xe9minin",sex:"Sex de l'enseignant",teacherName:"Nom de l'enseignagnt :",teacherSubname:"Pr\xe9nom de l'ensignant :",number:"Num\xe9ro de t\xe9l\xe9phone de l'enseignant :"}};var Jf=["color","size","title","className"];function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zf.apply(null,arguments)}var ev=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Jf);return t.createElement("svg",Zf({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-camera-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"}),t.createElement("path",{d:"M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0"}))});ev.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const tv=ev;const nv=function(e){let{setIsEditInfos:n,setError:r}=e;const[s,a]=(0,t.useState)(!1),[i,l]=(0,t.useState)(!1);let[o,c]=(0,t.useState)({});const[d,u]=(0,t.useState)({password:"",confirm:""});(0,t.useEffect)(()=>{(async()=>{a(!0);const e=await fetch(ze+"/users/getTeacherOrAdmin",{headers:{Authorization:sessionStorage.user}}),t=await e.json();console.log(t),c(t),a(!1)})()},[]);const m=e=>{const t=URL.createObjectURL(e.target.files[0]);p(t)},[h,p]=(0,t.useState)("assets/1.png");return(0,Ae.jsxs)("div",{className:"profileBox",style:{display:"flex",justifyContent:"center"},children:[(0,Ae.jsx)("div",{className:"card",style:{width:"500px"},children:(0,Ae.jsxs)("form",{onSubmit:e=>{(e=>{e.preventDefault(),l(!0),o.password=d.password,o.confirm=d.confirm,fetch(ze+"/users/edit",{method:"PUT",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:sessionStorage.user}}).then(e=>e.json()).then(e=>{e.success?window.location.reload():r(e.message)}),l(!1)})(e)},children:["ad"===sessionStorage.stat||"comp"===sessionStorage.stat?(0,Ae.jsxs)("div",{className:"card-content pro",children:[(0,Ae.jsx)("div",{className:"d",children:(0,Ae.jsxs)("div",{className:"img avatar-img",children:[(0,Ae.jsx)("img",{src:h,alt:"Asset"}),(0,Ae.jsx)("label",{htmlFor:"avatar",className:"changeAvatar",children:(0,Ae.jsx)(tv,{})}),(0,Ae.jsx)("input",{type:"file",capture:"user",onChange:e=>{m(e)},accept:"image/*",style:{display:"none"},id:"avatar"})]})}),(0,Ae.jsxs)("div",{className:"field",children:[(0,Ae.jsx)("label",{className:"label",children:Qf[Qt()].username}),(0,Ae.jsx)("input",{type:"text",value:o.username,onChange:e=>{c(t=>({...t,username:e.target.value}))},placeholder:Qf[Qt()].username})]}),(0,Ae.jsxs)("div",{className:"field",children:[(0,Ae.jsx)("label",{className:"label",children:"Noms et Prenoms"}),(0,Ae.jsx)("input",{type:"text",value:o.email,onChange:e=>{c(t=>({...t,email:e.target.value}))},placeholder:Qf[Qt()].email})]}),(0,Ae.jsxs)("div",{className:"field",children:[(0,Ae.jsxs)("div",{className:"label",children:[Qf[Qt()].password," "]}),(0,Ae.jsx)("input",{type:"password",value:d.password,onChange:e=>{u(t=>({...t,password:e.target.value}))},placeholder:Qf[Qt()].password})]}),(0,Ae.jsxs)("div",{className:"field",children:[(0,Ae.jsx)("div",{className:"label",children:Qf[Qt()].confirm}),(0,Ae.jsx)("input",{type:"password",value:d.confirm,onChange:e=>{u(t=>({...t,confirm:e.target.value}))},placeholder:Qf[Qt()].confirm})]})]}):(0,Ae.jsxs)("div",{className:"card-content pro",children:[(0,Ae.jsx)("div",{className:"d",children:(0,Ae.jsxs)("div",{className:"img avatar-img",children:[(0,Ae.jsx)("img",{src:h,alt:"Asset"}),(0,Ae.jsx)("label",{htmlFor:"avatar",className:"changeAvatar",children:(0,Ae.jsx)(tv,{})}),(0,Ae.jsx)("input",{type:"file",capture:"user",onChange:e=>{m(e)},accept:"image/*",style:{display:"none"},id:"avatar"})]})}),(0,Ae.jsxs)("div",{className:"field",children:[(0,Ae.jsx)("div",{className:"label",children:Qf[Qt()].teacherName}),(0,Ae.jsx)("input",{type:"text",value:o.name,onChange:e=>{c(t=>({...t,name:e.target.value}))},placeholder:Qf[Qt()].teacherName})]}),(0,Ae.jsxs)("div",{className:"field",children:[(0,Ae.jsx)("div",{className:"label",children:Qf[Qt()].teacherSubname}),(0,Ae.jsx)("input",{type:"text",value:o.subname,onChange:e=>{c(t=>({...t,subname:e.target.value}))},placeholder:Qf[Qt()].teacherSubname})]}),(0,Ae.jsxs)("div",{className:"field",children:[(0,Ae.jsx)("div",{className:"label",children:Qf[Qt()].number}),(0,Ae.jsx)("input",{type:"tel",value:o.phone_number,onChange:e=>{c(t=>({...t,phone_number:e.target.value}))},placeholder:Qf[Qt()].number})]}),(0,Ae.jsxs)("div",{className:"field",children:[(0,Ae.jsx)("div",{className:"label",children:Qf[Qt()].sex}),(0,Ae.jsxs)("select",{value:o.sex,onChange:e=>{c(t=>({...t,sex:e.target.value}))},className:"form-control",children:[(0,Ae.jsx)("option",{value:"",children:Qf[Qt()].selectSex}),(0,Ae.jsx)("option",{value:"m",children:Qf[Qt()].m}),(0,Ae.jsx)("option",{value:"f",children:Qf[Qt()].f})]})]})]}),(0,Ae.jsxs)("div",{className:"foot",children:[(0,Ae.jsx)("button",{className:"btn btn-blue",type:"submit",children:i?Qf[Qt()].saving:Qf[Qt()].save}),(0,Ae.jsx)("button",{onClick:()=>{n(e=>!e)},children:Qf[Qt()].cancel})]})]})}),s?"Chargement":""]})};const rv=function(e){let{userInfos:t,setIsEditInfos:n}=e;const r=ee(),s=()=>{sessionStorage.removeItem("stat"),sessionStorage.removeItem("user"),r("/login"),window.location.reload()};return(0,Ae.jsx)(Ae.Fragment,{children:"ad"===sessionStorage.stat||"comp"===sessionStorage.stat?(0,Ae.jsx)("div",{className:"profile",children:(0,Ae.jsx)("div",{className:"profileBox",children:(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsxs)("div",{className:"card-content pro",children:[(0,Ae.jsx)("div",{className:"d",children:(0,Ae.jsx)("div",{className:"img",children:(0,Ae.jsx)("img",{src:"assets/1.png",alt:"Asset"})})}),(0,Ae.jsx)("h2",{children:t.username}),(0,Ae.jsx)("h5",{children:t.email}),(0,Ae.jsx)("h5",{children:Qf[Qt()].admin})]}),(0,Ae.jsxs)("div",{className:"foot",children:[(0,Ae.jsx)("button",{className:"btn btn-blue",onClick:()=>{n(e=>!e)},children:Qf[Qt()].editProfile}),(0,Ae.jsx)("button",{onClick:()=>{s()},children:Qf[Qt()].logout})]})]})})}):(0,Ae.jsx)("div",{className:"pro",style:{width:"50%",marginLeft:"25%"},children:(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsxs)("div",{className:"card-content pro",children:[(0,Ae.jsx)("div",{className:"d",children:(0,Ae.jsx)("div",{className:"img",children:(0,Ae.jsx)("img",{src:"assets/1.png",alt:"Asset"})})}),(0,Ae.jsx)("h2",{children:t.name+" "+t.subname}),(0,Ae.jsx)("h5",{children:t.matricule}),(0,Ae.jsx)("h5",{children:Qf[Qt()].teacher})]}),(0,Ae.jsxs)("div",{className:"foot",children:[(0,Ae.jsx)("button",{className:"btn btn-blue",onClick:()=>{n(e=>!e)},children:Qf[Qt()].editProfile}),(0,Ae.jsx)("button",{onClick:()=>{s()},children:Qf[Qt()].logout})]})]})})})};const sv=function(){const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)([]),[l,o]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{(async()=>{s(!0);const e=await fetch(ze+"/users/getTeacherOrAdmin/",{headers:{Authorization:sessionStorage.user}}),t=await e.json();i(t),s(!1)})()},[]),(0,Ae.jsxs)("div",{className:"container proCon",children:[""!==e?(0,Ae.jsx)("div",{className:"alert alert-danger",children:e}):(0,Ae.jsx)(Ae.Fragment,{}),l?(0,Ae.jsx)(nv,{setIsEditInfos:o,setError:n}):(0,Ae.jsx)(rv,{userInfos:a,setIsEditInfos:o}),(0,Ae.jsx)(Xf,{setError:n}),""]})};const av=function(){return(0,Ae.jsx)("div",{children:"StudentsComp"})},iv=()=>{var e,n,r;const{id:s}=te(),a=ee(),[i,l]=(0,t.useState)(null),[o,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[v,g]=(0,t.useState)("grid");(0,t.useEffect)(()=>{x()},[s]);const x=async()=>{try{u(!0);const e=await Ft.accountant.getClassSeries(s);e.success?(l(e.data.class),c(e.data.series)):h(e.message||"Erreur lors du chargement des s\xe9ries")}catch(m){console.error("Error loading class series:",m),h("Erreur lors du chargement des s\xe9ries")}finally{u(!1)}},b=o.filter(e=>e.name.toLowerCase().includes(p.toLowerCase()));return d&&!i?(0,Ae.jsx)("div",{className:"container-fluid py-4",children:(0,Ae.jsx)("div",{className:"text-center py-5",children:(0,Ae.jsx)("div",{className:"spinner-border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement des s\xe9ries..."})})})}):(0,Ae.jsxs)("div",{className:"container-fluid py-4",children:[(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsxs)("button",{className:"btn btn-outline-secondary me-3",onClick:()=>a("/class-comp"),children:[(0,Ae.jsx)(Vc,{size:16,className:"me-1"}),"Retour"]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("h2",{className:"h4 mb-1",children:["S\xe9ries - ",null===i||void 0===i?void 0:i.name]}),(0,Ae.jsxs)("p",{className:"text-muted mb-0",children:[null===i||void 0===i||null===(e=i.level)||void 0===e||null===(n=e.section)||void 0===n?void 0:n.name," - ",null===i||void 0===i||null===(r=i.level)||void 0===r?void 0:r.name,b.length>0&&` \u2022 ${b.length} s\xe9rie${b.length>1?"s":""}`]})]})]}),(0,Ae.jsx)("div",{className:"d-flex align-items-center gap-2",children:(0,Ae.jsxs)("span",{className:"badge bg-info",children:[(0,Ae.jsx)(jc,{size:14,className:"me-1"}),"Mode Comptable"]})})]})})}),m&&(0,Ae.jsx)("div",{className:"row mb-3",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[m,(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:()=>h(""),"aria-label":"Close"})]})})}),(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"row g-3",children:[(0,Ae.jsxs)("div",{className:"col-md-8",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Rechercher"}),(0,Ae.jsxs)("div",{className:"position-relative",children:[(0,Ae.jsx)(Nn,{className:"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted",size:16}),(0,Ae.jsx)("input",{type:"text",className:"form-control ps-5",placeholder:"Rechercher par nom de s\xe9rie...",value:p,onChange:e=>f(e.target.value)})]})]}),(0,Ae.jsx)("div",{className:"col-md-4 d-flex align-items-end",children:(0,Ae.jsxs)("div",{className:"btn-group w-100",role:"group",children:[(0,Ae.jsxs)("button",{type:"button",className:"btn "+("grid"===v?"btn-primary":"btn-outline-secondary"),onClick:()=>g("grid"),children:[(0,Ae.jsx)(kn,{size:16,className:"me-1"}),"Grille"]}),(0,Ae.jsxs)("button",{type:"button",className:"btn "+("list"===v?"btn-primary":"btn-outline-secondary"),onClick:()=>g("list"),children:[(0,Ae.jsx)(zn,{size:16,className:"me-1"}),"Liste"]})]})})]})})})})}),"grid"===v?(0,Ae.jsx)("div",{className:"row",children:0===b.length?(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("div",{className:"card-body text-center py-5",children:[(0,Ae.jsx)(Kf,{size:48,className:"text-muted mb-3"}),(0,Ae.jsx)("h5",{className:"text-muted",children:"Aucune s\xe9rie trouv\xe9e"}),(0,Ae.jsx)("p",{className:"text-muted",children:p?"Aucune s\xe9rie ne correspond \xe0 vos crit\xe8res de recherche.":"Cette classe n'a pas encore de s\xe9ries configur\xe9es."})]})})}):b.map(e=>(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Ae.jsx)("div",{className:"card h-100 hover-card",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h6",{className:"card-title mb-1",children:e.name}),(0,Ae.jsxs)("small",{className:"text-muted",children:["S\xe9rie de ",null===i||void 0===i?void 0:i.name]})]}),(0,Ae.jsxs)("span",{className:"badge bg-primary",children:[e.students_count||0," \xe9l\xe8ve",(e.students_count||0)>1?"s":""]})]}),(0,Ae.jsx)("div",{className:"d-flex justify-content-end mt-auto",children:(0,Ae.jsxs)(_e,{to:`/students/series/${e.id}`,className:"btn btn-primary btn-sm",children:[(0,Ae.jsx)(Vf,{size:14,className:"me-1"}),"Voir les \xe9l\xe8ves"]})})]})})},e.id))}):(0,Ae.jsx)("div",{className:"row",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)("div",{className:"card-body p-0",children:(0,Ae.jsx)("div",{className:"table-responsive",children:(0,Ae.jsxs)("table",{className:"table table-hover mb-0",children:[(0,Ae.jsx)("thead",{className:"table-light",children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"S\xe9rie"}),(0,Ae.jsx)("th",{children:"Classe"}),(0,Ae.jsx)("th",{children:"\xc9l\xe8ves"}),(0,Ae.jsx)("th",{children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:b.map(e=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{className:"fw-medium",children:e.name}),(0,Ae.jsx)("td",{children:null===i||void 0===i?void 0:i.name}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("span",{className:"badge bg-light text-dark",children:[e.students_count||0," \xe9l\xe8ve",(e.students_count||0)>1?"s":""]})}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)(_e,{to:`/students/series/${e.id}`,className:"btn btn-sm btn-primary",children:[(0,Ae.jsx)(Vf,{size:14,className:"me-1"}),"Voir les \xe9l\xe8ves"]})})]},e.id))})]})})})})})}),(0,Ae.jsx)("style",{jsx:!0,children:"\n                .hover-card {\n                    transition: box-shadow 0.2s ease-in-out;\n                }\n                .hover-card:hover {\n                    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\n                }\n            "})]})};var lv=["color","size","title","className"];function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ov.apply(null,arguments)}var cv=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,lv);return t.createElement("svg",ov({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-receipt",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27m.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0z"}),t.createElement("path",{d:"M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5"}))});cv.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const dv=cv,uv=()=>{var e,n,r;const{studentId:s}=te(),a=ee(),{schoolSettings:i,formatCurrency:l,getLogoUrl:o}=Ht(),[c,d]=(0,t.useState)(null),[u,m]=(0,t.useState)([]),[h,p]=(0,t.useState)([]),[f,v]=(0,t.useState)(null),[g,x]=(0,t.useState)({required:0,paid:0,remaining:0}),[b,y]=(0,t.useState)({eligible_for_scholarship:!1,scholarship_amount:0,eligible_for_reduction:!1,reduction_percentage:0,deadline:null,reasons:[]}),[j,w]=(0,t.useState)(!1),[N,C]=(0,t.useState)(!1),[E,S]=(0,t.useState)(""),[k,_]=(0,t.useState)(!0),[O,P]=(0,t.useState)(!1),[z,T]=(0,t.useState)(""),[A,R]=(0,t.useState)(""),[L,M]=(0,t.useState)({amount:"",payment_method:"cash",reference_number:"",notes:"",payment_date:(new Date).toISOString().split("T")[0],is_rame_physical:!1,rame_choice:"none"});(0,t.useEffect)(()=>{B(),I()},[s]);const B=async()=>{try{_(!0);const e=await Ft.payments.getStudentInfo(s);e.success?(d(e.data.student),m(e.data.payment_status),v(e.data.school_year),x({required:e.data.total_required,paid:e.data.total_paid,remaining:e.data.total_remaining}),y(e.data.discount_info||{eligible_for_scholarship:!1,scholarship_amount:0,eligible_for_reduction:!1,reduction_percentage:0,deadline:null,reasons:[]})):T(e.message)}catch(z){T("Erreur lors du chargement des informations de paiement"),console.error("Error loading payment info:",z)}finally{_(!1)}},I=async()=>{try{const e=await Ft.payments.getStudentHistory(s);e.success&&p(e.data)}catch(z){console.error("Error loading payment history:",z)}},D=async e=>{try{const t=await Ft.payments.generateReceipt(e);t.success?(S(t.data.html),C(!0)):T("Erreur lors de la g\xe9n\xe9ration du re\xe7u")}catch(z){T("Erreur lors de la g\xe9n\xe9ration du re\xe7u"),console.error("Error generating receipt:",z)}},$=e=>l(parseInt(e)),F=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return"RAME Physique";return{cash:"Esp\xe8ces",card:"Carte",transfer:"Virement",check:"Ch\xe8que"}[e]||e};return k?(0,Ae.jsx)(Ka,{fluid:!0,className:"py-4",children:(0,Ae.jsx)("div",{className:"text-center",children:(0,Ae.jsx)(kt,{animation:"border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement..."})})})}):c?(0,Ae.jsxs)(Ka,{fluid:!0,className:"py-4",children:[(0,Ae.jsx)(Xa,{className:"mb-4",children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(Da,{variant:"outline-secondary",size:"sm",onClick:()=>a(-1),className:"me-3",children:(0,Ae.jsx)(Vc,{size:16})}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("h2",{className:"mb-1",children:["Paiement - ",c.last_name," ",c.first_name]}),(0,Ae.jsxs)("p",{className:"text-muted mb-0",children:[null===(e=c.classSeries)||void 0===e||null===(n=e.schoolClass)||void 0===n?void 0:n.name," - ",null===(r=c.classSeries)||void 0===r?void 0:r.name," | ",null===f||void 0===f?void 0:f.name]})]})]}),g.remaining<=0?(0,Ae.jsxs)(Da,{variant:"success",disabled:!0,children:[(0,Ae.jsx)(rh,{size:16,className:"me-2"}),"Paiements Complets"]}):(0,Ae.jsxs)(Da,{variant:"primary",onClick:()=>w(!0),children:[(0,Ae.jsx)(rh,{size:16,className:"me-2"}),"Nouveau Paiement"]})]})})}),z&&(0,Ae.jsx)(gi,{variant:"danger",dismissible:!0,onClose:()=>T(""),children:z}),A&&(0,Ae.jsx)(gi,{variant:"success",dismissible:!0,onClose:()=>R(""),children:A}),(b.eligible_for_scholarship||b.eligible_for_reduction||b.reasons.length>0)&&(0,Ae.jsx)(Xa,{className:"mb-4",children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsxs)(Fi,{className:"border-success",children:[(0,Ae.jsx)(Fi.Header,{className:"bg-success text-white",children:(0,Ae.jsx)("h5",{className:"mb-0",children:"\ud83d\udcb0 Bourses et R\xe9ductions Disponibles"})}),(0,Ae.jsxs)(Fi.Body,{children:[b.reasons.map((e,t)=>(0,Ae.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,Ae.jsx)("span",{className:"badge bg-success me-2",children:"\u2713"}),(0,Ae.jsx)("span",{children:e})]},t)),b.deadline&&(0,Ae.jsx)("div",{className:"mt-3 p-2 bg-warning bg-opacity-25 rounded",children:(0,Ae.jsxs)("small",{className:"text-warning",children:[(0,Ae.jsx)("strong",{children:"\u23f0 Date limite:"})," ",new Date(b.deadline).toLocaleDateString("fr-FR")]})}),!b.eligible_for_scholarship&&!b.eligible_for_reduction&&0===b.reasons.length&&(0,Ae.jsx)("div",{className:"text-muted",children:(0,Ae.jsx)("em",{children:"Aucune r\xe9duction disponible pour cet \xe9l\xe8ve actuellement."})})]})]})})}),(0,Ae.jsxs)(Xa,{className:"mb-4",children:[(0,Ae.jsx)(Ja,{md:4,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)("h3",{className:"text-primary",children:$(g.required)}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Total \xe0 payer"})]})})}),(0,Ae.jsx)(Ja,{md:4,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)("h3",{className:"text-success",children:$(g.paid)}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Total pay\xe9"})]})})}),(0,Ae.jsx)(Ja,{md:4,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)("h3",{className:g.remaining>0?"text-warning":"text-success",children:$(g.remaining)}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Reste \xe0 payer"})]})})})]}),(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:7,children:(0,Ae.jsxs)(Fi,{className:"mb-4",children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsx)("h5",{className:"mb-0",children:"Statut des Paiements par Tranche"})}),(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)(Hi,{responsive:!0,children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Tranche"}),(0,Ae.jsx)("th",{children:"Montant Requis"}),(0,Ae.jsx)("th",{children:"Montant Pay\xe9"}),(0,Ae.jsx)("th",{children:"Reste"}),(0,Ae.jsx)("th",{children:"Statut"})]})}),(0,Ae.jsx)("tbody",{children:u.map((e,t)=>(0,Ae.jsxs)("tr",{className:e.is_optional?"table-secondary":"",children:[(0,Ae.jsxs)("td",{children:[e.tranche.name,e.is_optional&&(0,Ae.jsx)("small",{className:"text-muted d-block",children:"(Optionnelle)"})]}),(0,Ae.jsx)("td",{children:$(e.required_amount)}),(0,Ae.jsx)("td",{children:$(e.paid_amount)}),(0,Ae.jsx)("td",{children:$(e.remaining_amount)}),(0,Ae.jsxs)("td",{children:[(0,Ae.jsx)(qi,{bg:e.is_fully_paid?"success":"warning",children:e.is_fully_paid?"Complet":"Partiel"}),e.is_optional&&!e.is_fully_paid&&(0,Ae.jsx)("small",{className:"text-muted d-block",children:"Non obligatoire"})]})]},t))})]})})]})}),(0,Ae.jsx)(Ja,{md:5,children:(0,Ae.jsxs)(Fi,{children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsx)("h5",{className:"mb-0",children:"Historique des Paiements"})}),(0,Ae.jsx)(Fi.Body,{children:0===h.length?(0,Ae.jsx)("p",{className:"text-muted text-center",children:"Aucun paiement enregistr\xe9"}):(0,Ae.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:h.map(e=>{return(0,Ae.jsxs)("div",{className:"border-bottom pb-3 mb-3",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("strong",{children:$(e.total_amount)}),(e.has_scholarship||e.has_reduction)&&(0,Ae.jsx)("span",{className:"badge bg-success ms-2",children:"R\xe9duit"}),(0,Ae.jsx)("br",{}),(0,Ae.jsxs)("small",{className:"text-muted",children:[(0,Ae.jsx)(Do,{size:14,className:"me-1"}),(t=e.payment_date,new Date(t).toLocaleDateString("fr-FR"))]}),(0,Ae.jsx)("br",{}),(0,Ae.jsxs)("small",{className:"text-muted",children:[(0,Ae.jsx)(cr,{size:14,className:"me-1"}),F(e.payment_method,e.is_rame_physical)]}),(e.has_scholarship||e.has_reduction)&&(0,Ae.jsxs)("div",{className:"mt-2",children:[e.has_scholarship&&(0,Ae.jsxs)("div",{className:"badge bg-success me-1 mb-1",children:["Bourse: ",$(e.scholarship_amount)]}),e.has_reduction&&(0,Ae.jsxs)("div",{className:"badge bg-info me-1 mb-1",children:["R\xe9duction: ",$(e.reduction_amount)]}),e.discount_reason&&(0,Ae.jsx)("small",{className:"text-success d-block",children:(0,Ae.jsx)("em",{children:e.discount_reason})})]})]}),(0,Ae.jsx)(Da,{variant:"outline-primary",size:"sm",onClick:()=>(async e=>{await D(e)})(e.id),children:(0,Ae.jsx)(dv,{size:14})})]}),e.notes&&(0,Ae.jsxs)("small",{className:"text-muted d-block mt-1",children:["Note: ",e.notes]})]},e.id);var t})})})]})})]}),(0,Ae.jsxs)(Aa,{show:j,onHide:()=>w(!1),size:"lg",children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsx)(Aa.Title,{children:"Nouveau Paiement"})}),(0,Ae.jsxs)(El,{onSubmit:async e=>{if(e.preventDefault(),!L.amount||parseFloat(L.amount)<=0)T("Veuillez saisir un montant valide");else if(parseFloat(L.amount)>g.remaining)T(`Le montant saisi (${l(parseInt(L.amount))}) est sup\xe9rieur au montant restant (${l(g.remaining)}). Veuillez saisir un montant inf\xe9rieur ou \xe9gal au solde restant.`);else try{P(!0),T("");const e={student_id:parseInt(s),amount:parseFloat(L.amount),payment_method:L.payment_method,reference_number:L.reference_number||null,notes:L.notes||null,payment_date:L.payment_date},t=await Ft.payments.create(e);if(t.success){R("Paiement enregistr\xe9 avec succ\xe8s"),w(!1),M({amount:"",payment_method:"cash",reference_number:"",notes:"",payment_date:(new Date).toISOString().split("T")[0],is_rame_physical:!1,rame_choice:"none"}),await B(),await I();(await br().fire({title:"Paiement enregistr\xe9 !",text:"Voulez-vous imprimer le re\xe7u maintenant ?",icon:"success",showCancelButton:!0,confirmButtonText:"Imprimer le re\xe7u",cancelButtonText:"Plus tard"})).isConfirmed&&D(t.data.id)}else T(t.message||"Erreur lors de l'enregistrement du paiement")}catch(z){T("Erreur lors de l'enregistrement du paiement"),console.error("Error creating payment:",z)}finally{P(!1)}},children:[(0,Ae.jsxs)(Aa.Body,{children:[(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:["Montant du versement (",i.currency||"FCFA",") *"]}),(0,Ae.jsx)(El.Control,{type:"number",min:"1",max:g.remaining,step:"1",value:L.amount,onChange:e=>M({...L,amount:e.target.value}),placeholder:"Ex: 25000",required:!0}),(0,Ae.jsxs)(El.Text,{className:"text-muted",children:["Reste \xe0 payer: ",$(g.remaining),(0,Ae.jsx)("br",{}),"rame_physical"===L.payment_method?(0,Ae.jsx)("small",{className:"text-info",children:"\u2139\ufe0f Paiement par rame physique - Montant \xe9quivalent de la tranche RAME"}):(0,Ae.jsx)("small",{className:"text-warning",children:"\u26a0\ufe0f Le montant ne peut pas d\xe9passer le solde restant"})]})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Mode de paiement *"}),(0,Ae.jsxs)(El.Select,{value:L.payment_method,onChange:e=>{const t=e.target.value;M({...L,payment_method:t,is_rame_physical:!1})},required:!0,children:[(0,Ae.jsx)("option",{value:"cash",children:"Esp\xe8ces"}),(0,Ae.jsx)("option",{value:"card",children:"Carte bancaire"}),(0,Ae.jsx)("option",{value:"transfer",children:"Virement"}),(0,Ae.jsx)("option",{value:"check",children:"Ch\xe8que"})]})]})})]}),u&&u.length>0&&u.some(e=>{if(!e||!e.tranche)return!1;const t=e.tranche.name||"",n=e.remaining_amount||0;return t&&("RAME"===t||t.toUpperCase().includes("RAME"))&&n>0})&&(0,Ae.jsx)(Xa,{className:"mb-3",children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsx)(Fi,{className:"bg-light border-warning",children:(0,Ae.jsxs)(Fi.Body,{className:"py-3",children:[(0,Ae.jsxs)("h6",{className:"text-warning mb-3",children:[(0,Ae.jsx)(rh,{className:"me-2"}),"Paiement de la tranche RAME"]}),(0,Ae.jsx)(Xa,{children:(0,Ae.jsx)(Ja,{md:12,children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{className:"fw-bold",children:"Options RAME *"}),(0,Ae.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,Ae.jsx)(El.Check,{type:"radio",name:"rame_choice",id:"rame_none",label:"Ne pas payer (par d\xe9faut)",checked:"none"===L.rame_choice,onChange:()=>M({...L,rame_choice:"none",is_rame_physical:!1})}),(0,Ae.jsx)(El.Check,{type:"radio",name:"rame_choice",id:"rame_espece",label:"Esp\xe8ce (paiement normal)",checked:"cash"===L.rame_choice,onChange:()=>M({...L,rame_choice:"cash",is_rame_physical:!1})}),(0,Ae.jsx)(El.Check,{type:"radio",name:"rame_choice",id:"rame_physique",label:"Physique (rame apport\xe9e)",checked:"physical"===L.rame_choice,onChange:()=>M({...L,rame_choice:"physical",is_rame_physical:!0})})]})]})})})]})})})}),g.remaining>0&&b&&b.eligible_for_reduction&&(0,Ae.jsx)(Xa,{className:"mb-3",children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsx)(Fi,{className:"bg-success bg-opacity-10 border-success",children:(0,Ae.jsxs)(Fi.Body,{className:"py-3",children:[(0,Ae.jsxs)("h6",{className:"text-success mb-2",children:[(0,Ae.jsx)(qi,{bg:"success",className:"me-2",children:"\ud83d\udcb0"}),"R\xe9duction disponible !"]}),(0,Ae.jsx)("p",{className:"mb-2 small",children:(0,Ae.jsxs)("strong",{children:["Payez la totalit\xe9 maintenant et \xe9conomisez ",b.reduction_percentage||10,"% !"]})}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{className:"small text-muted",children:[(0,Ae.jsxs)("strong",{className:"text-success",children:["Montants r\xe9duits de ",b.reduction_percentage||10,"% d\xe9j\xe0 appliqu\xe9s !"]}),(0,Ae.jsx)("br",{}),"Total \xe0 payer avec r\xe9duction : ",$(g.remaining)]}),(0,Ae.jsx)(Da,{variant:"success",size:"sm",onClick:()=>{M({...L,amount:g.remaining.toString()})},children:"Payer la totalit\xe9"})]}),b.deadline&&(0,Ae.jsxs)("small",{className:"text-warning d-block mt-2",children:["\u23f0 Offre valable jusqu'au ",new Date(b.deadline).toLocaleDateString("fr-FR")]})]})})})}),(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Date du paiement"}),(0,Ae.jsx)(El.Control,{type:"date",value:L.payment_date,onChange:e=>M({...L,payment_date:e.target.value})})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Num\xe9ro de r\xe9f\xe9rence"}),(0,Ae.jsx)(El.Control,{type:"text",value:L.reference_number,onChange:e=>M({...L,reference_number:e.target.value}),placeholder:"Num\xe9ro ch\xe8que, virement..."})]})})]}),(0,Ae.jsx)(Xa,{children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Notes"}),(0,Ae.jsx)(El.Control,{as:"textarea",rows:3,value:L.notes,onChange:e=>M({...L,notes:e.target.value}),placeholder:"Notes additionnelles..."})]})})})]}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:()=>w(!1),children:"Annuler"}),(0,Ae.jsx)(Da,{variant:"primary",type:"submit",disabled:O,children:O?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(kt,{animation:"border",size:"sm",className:"me-2"}),"Enregistrement..."]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(hc,{size:16,className:"me-2"}),"Enregistrer le Paiement"]})})]})]})]}),(0,Ae.jsxs)(Aa,{show:N,onHide:()=>C(!1),size:"lg",children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsx)(Aa.Title,{children:"Re\xe7u de Paiement"})}),(0,Ae.jsx)(Aa.Body,{children:(0,Ae.jsx)("div",{dangerouslySetInnerHTML:{__html:E}})}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:()=>C(!1),children:"Fermer"}),(0,Ae.jsxs)(Da,{variant:"primary",onClick:()=>{const e=window.open("","_blank");e.document.write(`\n            <html>\n                <head>\n                    <title>Re\xe7u de Paiement</title>\n                    <style>\n                        body { font-family: Arial, sans-serif; margin: 20px; }\n                        @media print { \n                            body { margin: 0; }\n                            .no-print { display: none; }\n                        }\n                    </style>\n                </head>\n                <body>\n                    ${E}\n                    <div class="no-print" style="text-align: center; margin-top: 30px;">\n                        <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">Imprimer</button>\n                        <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 5px; cursor: pointer; margin-left: 10px;">Fermer</button>\n                    </div>\n                </body>\n            </html>\n        `),e.document.close()},children:[(0,Ae.jsx)(dd,{size:16,className:"me-2"}),"Imprimer"]})]})]})]}):(0,Ae.jsx)(Ka,{fluid:!0,className:"py-4",children:(0,Ae.jsx)(gi,{variant:"danger",children:"\xc9tudiant non trouv\xe9 ou erreur lors du chargement des donn\xe9es."})})},mv=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)({}),[a,i]=(0,t.useState)(null),[l,o]=(0,t.useState)([]),[c,d]=(0,t.useState)(!1),[u,m]=(0,t.useState)(""),[h,p]=(0,t.useState)({start_date:"",end_date:"",series_id:""});(0,t.useEffect)(()=>{f();const e=(new Date).toISOString().split("T")[0];p(t=>({...t,start_date:e,end_date:e})),v({start_date:e,end_date:e})},[]);const f=async()=>{try{const e=await Ft.accountant.getClasses();if(e.success){const t=[];e.data.classes.forEach(e=>{e.series&&e.series.length>0&&e.series.forEach(n=>{t.push({id:n.id,name:`${e.name} - ${n.name}`,class_name:e.name,series_name:n.name})})}),o(t),console.log("Series loaded:",t)}else console.error("Error loading classes:",e.message)}catch(u){console.error("Error loading series:",u)}},v=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{d(!0),m("");const t=e||h,r=await Ft.payments.getStats(t);r.success?(n(r.data.payments),s(r.data.stats),i(r.data.school_year)):m(r.message)}catch(u){m("Erreur lors du chargement des donn\xe9es"),console.error("Error loading payment stats:",u)}finally{d(!1)}},g=(e,t)=>{p(n=>({...n,[e]:t}))},x=()=>{const t=l.find(e=>e.id==h.series_id),n=h.start_date&&h.end_date?`Du ${new Date(h.start_date).toLocaleDateString("fr-FR")} au ${new Date(h.end_date).toLocaleDateString("fr-FR")}`:"Toutes les p\xe9riodes";return`\n            <div class="report">\n                <div class="report-header text-center" style="margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px;">\n                    <h1>COLL\xc8GE POLYVALENT BILINGUE DE DOUALA</h1>\n                    <h2>\xc9tat des Paiements</h2>\n                    <p><strong>Ann\xe9e scolaire:</strong> ${(null===a||void 0===a?void 0:a.name)||"N/A"}</p>\n                    <p><strong>P\xe9riode:</strong> ${n}</p>\n                    ${t?`<p><strong>S\xe9rie:</strong> ${t.name}</p>`:"<p><strong>S\xe9rie:</strong> Toutes les s\xe9ries</p>"}\n                    <p><strong>G\xe9n\xe9r\xe9 le:</strong> ${(new Date).toLocaleDateString("fr-FR")} \xe0 ${(new Date).toLocaleTimeString("fr-FR")}</p>\n                </div>\n                \n                <div class="stats-section">\n                    <h3>R\xe9sum\xe9 des Statistiques</h3>\n                    <div class="stats-grid">\n                        <div class="stat-card">\n                            <h4>Total des Paiements</h4>\n                            <p style="font-size: 24px; color: #007bff;">${r.total_payments||0}</p>\n                        </div>\n                        <div class="stat-card">\n                            <h4>Montant Total</h4>\n                            <p style="font-size: 24px; color: #28a745;">${parseInt(r.total_amount||0).toLocaleString()} FCFA</p>\n                        </div>\n                    </div>\n                </div>\n                \n                <div class="payments-section">\n                    <h3>D\xe9tail des Paiements</h3>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>Date</th>\n                                <th>Re\xe7u N\xb0</th>\n                                <th>\xc9tudiant</th>\n                                <th>Classe</th>\n                                <th>Montant</th>\n                                <th>Mode</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            ${e.map(e=>{var t,n,r;return`\n                                <tr>\n                                    <td>${new Date(e.payment_date).toLocaleDateString("fr-FR")}</td>\n                                    <td>${e.receipt_number}</td>\n                                    <td>${e.student.last_name} ${e.student.first_name}</td>\n                                    <td>${(null===(t=e.student.class_series)||void 0===t||null===(n=t.school_class)||void 0===n?void 0:n.name)||"N/A"} - ${(null===(r=e.student.class_series)||void 0===r?void 0:r.name)||"N/A"}</td>\n                                    <td class="text-right">${parseInt(e.total_amount).toLocaleString()} FCFA</td>\n                                    <td>${y(e.payment_method,e.is_rame_physical)}</td>\n                                </tr>\n                            `}).join("")}\n                        </tbody>\n                    </table>\n                </div>\n                \n                ${Object.keys(r.by_tranche||{}).length>0?`\n                <div class="tranches-section">\n                    <h3>R\xe9partition par Tranche</h3>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>Tranche</th>\n                                <th>Nombre de Paiements</th>\n                                <th>Montant Total</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            ${Object.entries(r.by_tranche).map(e=>{let[t,n]=e;return`\n                                <tr>\n                                    <td>${t}</td>\n                                    <td class="text-center">${n.count}</td>\n                                    <td class="text-right">${parseInt(n.amount).toLocaleString()} FCFA</td>\n                                </tr>\n                            `}).join("")}\n                        </tbody>\n                    </table>\n                </div>\n                `:""}\n            </div>\n        `},b=e=>parseInt(e).toLocaleString()+" FCFA",y=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return"Rame Physique";return{cash:"Esp\xe8ces",card:"Carte",transfer:"Virement",check:"Ch\xe8que"}[e]||e};return(0,Ae.jsxs)(Ka,{fluid:!0,className:"py-4",children:[(0,Ae.jsx)(Xa,{className:"mb-4",children:(0,Ae.jsxs)(Ja,{children:[(0,Ae.jsx)("h2",{children:"\xc9tats des Paiements"}),(0,Ae.jsx)("p",{className:"text-muted",children:"Consultez et exportez les rapports de paiements"})]})}),(0,Ae.jsxs)(Fi,{className:"mb-4",children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsx)("h5",{className:"mb-0",children:"Filtres de Recherche"})}),(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Date de d\xe9but"}),(0,Ae.jsx)(El.Control,{type:"date",value:h.start_date,onChange:e=>g("start_date",e.target.value)})]})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Date de fin"}),(0,Ae.jsx)(El.Control,{type:"date",value:h.end_date,onChange:e=>g("end_date",e.target.value)})]})}),(0,Ae.jsx)(Ja,{md:4,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"S\xe9rie (optionnel)"}),(0,Ae.jsxs)(El.Select,{value:h.series_id,onChange:e=>g("series_id",e.target.value),children:[(0,Ae.jsx)("option",{value:"",children:"Toutes les s\xe9ries"}),l.map(e=>(0,Ae.jsx)("option",{value:e.id,children:e.name},e.id))]})]})}),(0,Ae.jsx)(Ja,{md:2,className:"d-flex align-items-end",children:(0,Ae.jsxs)("div",{className:"d-flex gap-2 mb-3",children:[(0,Ae.jsx)(Da,{variant:"primary",onClick:()=>{h.start_date&&h.end_date&&h.start_date>h.end_date?m("La date de d\xe9but doit \xeatre ant\xe9rieure \xe0 la date de fin"):v()},disabled:c,children:c?(0,Ae.jsx)(kt,{animation:"border",size:"sm"}):(0,Ae.jsx)(Nn,{size:16})}),e.length>0&&(0,Ae.jsx)(Da,{variant:"success",onClick:()=>{const e=window.open("","_blank"),t=x();e.document.write(`\n            <html>\n                <head>\n                    <title>\xc9tat des Paiements</title>\n                    <style>\n                        body { font-family: Arial, sans-serif; margin: 20px; }\n                        table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n                        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n                        th { background-color: #f5f5f5; font-weight: bold; }\n                        .text-center { text-align: center; }\n                        .text-right { text-align: right; }\n                        .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 20px 0; }\n                        .stat-card { border: 1px solid #ddd; padding: 15px; text-align: center; }\n                        @media print { \n                            body { margin: 0; }\n                            .no-print { display: none; }\n                        }\n                    </style>\n                </head>\n                <body>\n                    ${t}\n                    <div class="no-print" style="text-align: center; margin-top: 30px;">\n                        <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">Imprimer</button>\n                        <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 5px; cursor: pointer; margin-left: 10px;">Fermer</button>\n                    </div>\n                </body>\n            </html>\n        `),e.document.close()},children:(0,Ae.jsx)(dd,{size:16})})]})})]})})]}),u&&(0,Ae.jsx)(gi,{variant:"danger",dismissible:!0,onClose:()=>m(""),children:u}),Object.keys(r).length>0&&(0,Ae.jsxs)(Xa,{className:"mb-4",children:[(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)("h3",{className:"text-primary",children:r.total_payments}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Total Paiements"})]})})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)("h3",{className:"text-success",children:b(r.total_amount||0)}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Montant Total"})]})})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)("h3",{className:"text-info",children:Object.keys(r.by_method||{}).length}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Modes de Paiement"})]})})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)("h3",{className:"text-warning",children:Object.keys(r.by_tranche||{}).length}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Tranches Touch\xe9es"})]})})})]}),(0,Ae.jsxs)(Fi,{children:[(0,Ae.jsxs)(Fi.Header,{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsx)("h5",{className:"mb-0",children:"D\xe9tail des Paiements"}),e.length>0&&(0,Ae.jsxs)(qi,{bg:"info",children:[e.length," paiement(s)"]})]}),(0,Ae.jsx)(Fi.Body,{children:c?(0,Ae.jsx)("div",{className:"text-center py-4",children:(0,Ae.jsx)(kt,{animation:"border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement..."})})}):0===e.length?(0,Ae.jsx)("p",{className:"text-muted text-center py-4",children:"Aucun paiement trouv\xe9 pour les crit\xe8res s\xe9lectionn\xe9s"}):(0,Ae.jsxs)(Hi,{responsive:!0,hover:!0,children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Date"}),(0,Ae.jsx)("th",{children:"Re\xe7u N\xb0"}),(0,Ae.jsx)("th",{children:"\xc9tudiant"}),(0,Ae.jsx)("th",{children:"Classe"}),(0,Ae.jsx)("th",{children:"Montant"}),(0,Ae.jsx)("th",{children:"Mode"}),(0,Ae.jsx)("th",{children:"Tranches Affect\xe9es"})]})}),(0,Ae.jsx)("tbody",{children:e.map(e=>{var t,n,r,s,a;return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(a=e.payment_date,new Date(a).toLocaleDateString("fr-FR"))}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("code",{children:e.receipt_number})}),(0,Ae.jsxs)("td",{children:[e.student.last_name," ",e.student.first_name]}),(0,Ae.jsxs)("td",{children:[(null===(t=e.student.class_series)||void 0===t||null===(n=t.school_class)||void 0===n?void 0:n.name)||"N/A"," -",(null===(r=e.student.class_series)||void 0===r?void 0:r.name)||"N/A"]}),(0,Ae.jsx)("td",{className:"text-end",children:(0,Ae.jsx)("strong",{children:b(e.total_amount)})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(qi,{bg:e.is_rame_physical?"info":"secondary",children:y(e.payment_method,e.is_rame_physical)})}),(0,Ae.jsx)("td",{children:null===(s=e.payment_details)||void 0===s?void 0:s.map(e=>(0,Ae.jsxs)(qi,{bg:"primary",className:"me-1 mb-1",children:[e.payment_tranche.name,": ",b(e.amount_allocated)]},e.id))})]},e.id)})})]})})]}),Object.keys(r.by_tranche||{}).length>0&&(0,Ae.jsxs)(Fi,{className:"mt-4",children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsx)("h5",{className:"mb-0",children:"R\xe9partition par Tranche de Paiement"})}),(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)(Hi,{responsive:!0,children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Tranche"}),(0,Ae.jsx)("th",{children:"Nombre de Paiements"}),(0,Ae.jsx)("th",{children:"Montant Total"}),(0,Ae.jsx)("th",{children:"Pourcentage"})]})}),(0,Ae.jsx)("tbody",{children:Object.entries(r.by_tranche).map(e=>{let[t,n]=e;return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:t}),(0,Ae.jsx)("td",{children:n.count}),(0,Ae.jsx)("td",{className:"text-end",children:(0,Ae.jsx)("strong",{children:b(n.amount)})}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)(qi,{bg:"info",children:[(n.amount/r.total_amount*100).toFixed(1),"%"]})})]},t)})})]})})]})]})},hv=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],pv=["activeKey","getControlledId","getControllerId"],fv=["as"];function vv(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gv(e){let{active:n,eventKey:r,mountOnEnter:s,transition:a,unmountOnExit:i,role:l="tabpanel",onEnter:o,onEntering:c,onEntered:d,onExit:u,onExiting:m,onExited:h}=e,p=vv(e,hv);const f=(0,t.useContext)(Fl);if(!f)return[Object.assign({},p,{role:l}),{eventKey:r,isActive:n,mountOnEnter:s,transition:a,unmountOnExit:i,onEnter:o,onEntering:c,onEntered:d,onExit:u,onExiting:m,onExited:h}];const{activeKey:v,getControlledId:g,getControllerId:x}=f,b=vv(f,pv),y=Dl(r);return[Object.assign({},p,{role:l,id:g(r),"aria-labelledby":x(r)}),{eventKey:r,isActive:null==n&&null!=y?Dl(v)===y:n,transition:a||b.transition,mountOnEnter:null!=s?s:b.mountOnEnter,unmountOnExit:null!=i?i:b.unmountOnExit,onEnter:o,onEntering:c,onEntered:d,onExit:u,onExiting:m,onExited:h}]}const xv=t.forwardRef((e,t)=>{let{as:n="div"}=e,r=vv(e,fv);const[s,{isActive:a,onEnter:i,onEntering:l,onEntered:o,onExit:c,onExiting:d,onExited:u,mountOnEnter:m,unmountOnExit:h,transition:p=Ss}]=gv(r);return(0,Ae.jsx)(Fl.Provider,{value:null,children:(0,Ae.jsx)($l.Provider,{value:null,children:(0,Ae.jsx)(p,{in:a,onEnter:i,onEntering:l,onEntered:o,onExit:c,onExiting:d,onExited:u,mountOnEnter:m,unmountOnExit:h,children:(0,Ae.jsx)(n,Object.assign({},s,{ref:t,hidden:!a,"aria-hidden":!a}))})})})});xv.displayName="TabPanel";const bv=e=>{const{id:n,generateChildId:r,onSelect:s,activeKey:a,defaultActiveKey:i,transition:l,mountOnEnter:o,unmountOnExit:c,children:d}=e,[u,m]=Nd(a,i,s),h=mm(n),p=(0,t.useMemo)(()=>r||((e,t)=>h?`${h}-${t}-${e}`:null),[h,r]),f=(0,t.useMemo)(()=>({onSelect:m,activeKey:u,transition:l,mountOnEnter:o||!1,unmountOnExit:c||!1,getControlledId:e=>p(e,"tabpane"),getControllerId:e=>p(e,"tab")}),[m,u,l,o,c,p]);return(0,Ae.jsx)(Fl.Provider,{value:f,children:(0,Ae.jsx)($l.Provider,{value:m||null,children:d})})};bv.Panel=xv;const yv=bv;function jv(e){return"boolean"===typeof e?e?ua:Ss:e}const wv=e=>{let{transition:t,...n}=e;return(0,Ae.jsx)(yv,{...n,transition:jv(t)})};wv.displayName="TabContainer";const Nv=wv,Cv=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="div",...a}=e;return r=wt(r,"tab-content"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});Cv.displayName="TabContent";const Ev=Cv,Sv=t.forwardRef((e,t)=>{let{bsPrefix:n,transition:r,...s}=e;const[{className:a,as:i="div",...l},{isActive:o,onEnter:c,onEntering:d,onEntered:u,onExit:m,onExiting:h,onExited:p,mountOnEnter:f,unmountOnExit:v,transition:g=ua}]=gv({...s,transition:jv(r)}),x=wt(n,"tab-pane");return(0,Ae.jsx)(Fl.Provider,{value:null,children:(0,Ae.jsx)($l.Provider,{value:null,children:(0,Ae.jsx)(g,{in:o,onEnter:c,onEntering:d,onEntered:u,onExit:m,onExiting:h,onExited:p,mountOnEnter:f,unmountOnExit:v,children:(0,Ae.jsx)(i,{...l,ref:t,className:vt()(a,x,o&&"active")})})})})});Sv.displayName="TabPane";const kv=Sv,_v={eventKey:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().node.isRequired,disabled:Ue().bool,tabClassName:Ue().string,tabAttrs:Ue().object},Ov=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Ov.propTypes=_v;const Pv=Object.assign(Ov,{Container:Nv,Content:Ev,Pane:kv});var zv=["color","size","title","className"];function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tv.apply(null,arguments)}var Av=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,zv);return t.createElement("svg",Tv({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-file-earmark-text",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5"}),t.createElement("path",{d:"M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"}))});Av.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Rv=Av;var Lv=["color","size","title","className"];function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mv.apply(null,arguments)}var Bv=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Lv);return t.createElement("svg",Mv({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-file-text",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5M5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z"}),t.createElement("path",{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1"}))});Bv.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Iv=Bv,Dv=()=>{const{schoolSettings:e,formatCurrency:n}=Ht(),[r,s]=(0,t.useState)("insolvable"),[a,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)(""),[c,d]=(0,t.useState)(null),[u,m]=(0,t.useState)({filterType:"section",sectionId:"",classId:"",seriesId:""}),[h,p]=(0,t.useState)({sections:[],classes:[],series:[]});(0,t.useEffect)(()=>{f()},[]);const f=async()=>{try{const[t,n]=await Promise.all([Ft.sections.getAll(),Ft.schoolClasses.getAll()]),r=t.success&&Array.isArray(t.data)?t.data:[],s=n.success&&Array.isArray(n.data)?n.data:[];let a=[];if(s.length>0)try{const e=s.map(e=>Ft.accountant.getClassSeries(e.id));(await Promise.all(e)).forEach((e,t)=>{if(e.success&&e.data){const t=Array.isArray(e.data)?e.data:[];a=[...a,...t]}})}catch(e){console.error("Error loading series:",e)}p({sections:r,classes:s,series:a})}catch(l){console.error("Error loading options:",l)}};return(0,Ae.jsxs)(Ka,{fluid:!0,className:"py-4",children:[(0,Ae.jsx)(Xa,{className:"mb-4",children:(0,Ae.jsxs)(Ja,{children:[(0,Ae.jsxs)("h2",{children:[(0,Ae.jsx)(Iv,{className:"me-3"}),"Rapports Financiers"]}),(0,Ae.jsx)("p",{className:"text-muted",children:"G\xe9n\xe9ration de rapports d\xe9taill\xe9s avec prise en compte des bourses et r\xe9ductions"})]})}),l&&(0,Ae.jsx)(gi,{variant:"danger",dismissible:!0,onClose:()=>o(""),children:l}),(0,Ae.jsxs)(Fi,{className:"mb-4",children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsxs)("h5",{className:"mb-0",children:[(0,Ae.jsx)(Nn,{className:"me-2"}),"Filtres"]})}),(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:4,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Filtrer par"}),(0,Ae.jsxs)(El.Select,{value:u.filterType,onChange:e=>{m({...u,filterType:e.target.value,sectionId:"",classId:"",seriesId:""})},children:[(0,Ae.jsx)("option",{value:"section",children:"Section"}),(0,Ae.jsx)("option",{value:"class",children:"Classe"}),(0,Ae.jsx)("option",{value:"series",children:"S\xe9rie"})]})]})}),(0,Ae.jsx)(Ja,{md:4,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"section"===u.filterType?"Section":"class"===u.filterType?"Classe":"S\xe9rie"}),(0,Ae.jsxs)(El.Select,{value:"section"===u.filterType?u.sectionId:"class"===u.filterType?u.classId:u.seriesId,onChange:e=>{const t={...u};"section"===u.filterType?t.sectionId=e.target.value:"class"===u.filterType?t.classId=e.target.value:t.seriesId=e.target.value,m(t)},children:[(0,Ae.jsx)("option",{value:"",children:"section"===u.filterType?"Toutes les sections":"class"===u.filterType?"Toutes les classes":"Toutes les s\xe9ries"}),"section"===u.filterType&&h.sections.map(e=>(0,Ae.jsx)("option",{value:e.id,children:e.name},e.id)),"class"===u.filterType&&h.classes.map(e=>(0,Ae.jsx)("option",{value:e.id,children:e.name},e.id)),"series"===u.filterType&&h.series.map(e=>(0,Ae.jsx)("option",{value:e.id,children:e.name},e.id))]})]})})]}),(0,Ae.jsx)(Xa,{children:(0,Ae.jsxs)(Ja,{className:"d-flex gap-2",children:[(0,Ae.jsx)(Da,{variant:"primary",onClick:()=>(async e=>{i(!0),o("");try{let t;switch(e){case"insolvable":t=await Ft.reports.getInsolvableReport(u);break;case"payments":t=await Ft.reports.getPaymentsReport(u);break;case"rame":t=await Ft.reports.getRameReport(u);break;case"recovery":t=await Ft.reports.getRecoveryReport(u);break;default:throw new Error("Type de rapport non reconnu")}t.success?d(t.data):o(t.message||"Erreur lors de la g\xe9n\xe9ration du rapport")}catch(l){o("Erreur lors de la g\xe9n\xe9ration du rapport"),console.error("Error generating report:",l)}finally{i(!1)}})(r),disabled:a,children:a?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(kt,{animation:"border",size:"sm",className:"me-2"}),"G\xe9n\xe9ration..."]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Rv,{className:"me-2"}),"G\xe9n\xe9rer le rapport"]})}),c&&(0,Ae.jsx)(Ae.Fragment,{children:(0,Ae.jsxs)(Da,{variant:"outline-success",onClick:()=>async function(){if(c)try{br().fire({title:"Export en cours...",text:"G\xe9n\xe9ration du fichier PDF",allowOutsideClick:!1,showConfirmButton:!1,willOpen:()=>{br().showLoading()}});const e={...u,report_type:r},t=await Ft.reports.exportPdf(e);if(t.success){const e=window.open("","_blank");e.document.write(t.data),e.document.close(),setTimeout(()=>{e.focus(),e.print()},500),br().fire("Succ\xe8s","Rapport ouvert pour impression/sauvegarde PDF","success")}else br().fire("Erreur",t.message||"Erreur lors de l'export PDF","error")}catch(l){console.error("Error exporting PDF:",l),br().fire("Erreur","Erreur lors de l'export PDF","error")}else br().fire("Erreur","Aucun rapport \xe0 exporter","error")}(),children:[(0,Ae.jsx)(Kc,{className:"me-2"}),"Exporter PDF"]})})]})})]})]}),(0,Ae.jsx)(Pv.Container,{activeKey:r,onSelect:s,children:(0,Ae.jsx)(Xa,{children:(0,Ae.jsxs)(Ja,{children:[(0,Ae.jsxs)(so,{variant:"tabs",className:"mb-4",children:[(0,Ae.jsx)(so.Item,{children:(0,Ae.jsxs)(so.Link,{eventKey:"insolvable",children:[(0,Ae.jsx)(bn,{className:"me-2"}),"\xc9tat Insolvable"]})}),(0,Ae.jsx)(so.Item,{children:(0,Ae.jsxs)(so.Link,{eventKey:"payments",children:[(0,Ae.jsx)(rh,{className:"me-2"}),"Paiements"]})}),(0,Ae.jsx)(so.Item,{children:(0,Ae.jsxs)(so.Link,{eventKey:"rame",children:[(0,Ae.jsx)(Rv,{className:"me-2"}),"\xc9tat RAME"]})}),(0,Ae.jsx)(so.Item,{children:(0,Ae.jsxs)(so.Link,{eventKey:"recovery",children:[(0,Ae.jsx)(Do,{className:"me-2"}),"Recouvrement"]})})]}),(0,Ae.jsxs)(Pv.Content,{children:[(0,Ae.jsx)(Pv.Pane,{eventKey:"insolvable",children:(()=>{var e;return(0,Ae.jsxs)(Fi,{children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsx)("h5",{className:"mb-0",children:"\xc9tat Insolvable - \xc9l\xe8ves n'ayant pas fini de payer"})}),(0,Ae.jsx)(Fi.Body,{children:c?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("div",{className:"mb-3",children:(0,Ae.jsxs)(qi,{bg:"info",children:["Total des \xe9l\xe8ves insolvables: ",(null===c||void 0===c?void 0:c.total_insolvable_students)||0]})}),(0,Ae.jsxs)(Hi,{responsive:!0,striped:!0,size:"sm",children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"\xc9tudiant"}),(0,Ae.jsx)("th",{children:"Classe/S\xe9rie"}),(0,Ae.jsx)("th",{children:"Total Requis"}),(0,Ae.jsx)("th",{children:"Total Pay\xe9"}),(0,Ae.jsx)("th",{children:"Reste \xe0 Payer"}),(0,Ae.jsx)("th",{children:"Tranches Incompl\xe8tes"})]})}),(0,Ae.jsx)("tbody",{children:null===(e=c.students)||void 0===e?void 0:e.map((e,t)=>{var r,s,a;return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:null===e||void 0===e||null===(r=e.student)||void 0===r?void 0:r.full_name}),(0,Ae.jsx)("td",{children:null===e||void 0===e||null===(s=e.student)||void 0===s?void 0:s.class_series}),(0,Ae.jsx)("td",{children:n((null===e||void 0===e?void 0:e.total_required)||0)}),(0,Ae.jsx)("td",{children:n((null===e||void 0===e?void 0:e.total_paid)||0)}),(0,Ae.jsx)("td",{className:"text-danger",children:n((null===e||void 0===e?void 0:e.total_remaining)||0)}),(0,Ae.jsx)("td",{children:null===(a=e.incomplete_tranches)||void 0===a?void 0:a.map((e,t)=>(0,Ae.jsx)("div",{children:(0,Ae.jsxs)("small",{className:"text-muted",children:[(0,Ae.jsxs)("strong",{children:[null===e||void 0===e?void 0:e.tranche_name,":"]})," ",n((null===e||void 0===e?void 0:e.paid_amount)||0),"/",n((null===e||void 0===e?void 0:e.required_amount)||0),(0,Ae.jsxs)("span",{className:"text-danger",children:[" (reste: ",n((null===e||void 0===e?void 0:e.remaining_amount)||0),")"]})]})},t))})]},t)})})]})]}):(0,Ae.jsx)("p",{className:"text-muted text-center",children:"G\xe9n\xe9rez un rapport pour voir les donn\xe9es"})})]})})()}),(0,Ae.jsx)(Pv.Pane,{eventKey:"payments",children:(()=>{var e;return(0,Ae.jsxs)(Fi,{children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsx)("h5",{className:"mb-0",children:"\xc9tat des Paiements - Tous les \xe9l\xe8ves avec infos toutes tranches"})}),(0,Ae.jsx)(Fi.Body,{children:c?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("div",{className:"mb-3",children:(0,Ae.jsxs)(qi,{bg:"info",children:["Total des \xe9l\xe8ves: ",(null===c||void 0===c?void 0:c.total_students)||0]})}),null===(e=c.students)||void 0===e?void 0:e.map((e,t)=>{var r,s,a;return(0,Ae.jsxs)("div",{className:"mb-3 p-3 border rounded",children:[(0,Ae.jsxs)("h6",{className:"mb-2",children:[null===e||void 0===e||null===(r=e.student)||void 0===r?void 0:r.full_name," - ",null===e||void 0===e||null===(s=e.student)||void 0===s?void 0:s.class_series]}),(0,Ae.jsxs)(Hi,{responsive:!0,striped:!0,size:"sm",children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Tranche"}),(0,Ae.jsx)("th",{children:"Montant Requis"}),(0,Ae.jsx)("th",{children:"Montant Pay\xe9"}),(0,Ae.jsx)("th",{children:"Reste \xe0 Payer"}),(0,Ae.jsx)("th",{children:"Statut"})]})}),(0,Ae.jsx)("tbody",{children:null===e||void 0===e||null===(a=e.tranches_details)||void 0===a?void 0:a.map((e,t)=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:null===e||void 0===e?void 0:e.tranche_name}),(0,Ae.jsx)("td",{children:n((null===e||void 0===e?void 0:e.required_amount)||0)}),(0,Ae.jsx)("td",{children:n((null===e||void 0===e?void 0:e.paid_amount)||0)}),(0,Ae.jsx)("td",{className:((null===e||void 0===e?void 0:e.remaining_amount)||0)>0?"text-danger":"text-success",children:n((null===e||void 0===e?void 0:e.remaining_amount)||0)}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(qi,{bg:"complete"===(null===e||void 0===e?void 0:e.status)?"success":"warning",children:"complete"===(null===e||void 0===e?void 0:e.status)?"Complet":"Incomplet"})})]},t))})]})]},t)})]}):(0,Ae.jsx)("p",{className:"text-muted text-center",children:"G\xe9n\xe9rez un rapport pour voir les donn\xe9es"})})]})})()}),(0,Ae.jsx)(Pv.Pane,{eventKey:"rame",children:(()=>{var e,t,r,s,a;return(0,Ae.jsxs)(Fi,{children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsx)("h5",{className:"mb-0",children:"\xc9tat des RAME - D\xe9tails par \xe9l\xe8ve (esp\xe8ces/physique/pas pay\xe9)"})}),(0,Ae.jsx)(Fi.Body,{children:c?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("div",{className:"mb-3",children:(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(qi,{bg:"info",children:["Total \xe9l\xe8ves: ",(null===c||void 0===c||null===(e=c.summary)||void 0===e?void 0:e.total_students)||0]})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(qi,{bg:"success",children:["Pay\xe9s: ",(null===c||void 0===c||null===(t=c.summary)||void 0===t?void 0:t.paid_count)||0]})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(qi,{bg:"primary",children:["Esp\xe8ces: ",(null===c||void 0===c||null===(r=c.summary)||void 0===r?void 0:r.cash_count)||0]})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(qi,{bg:"secondary",children:["Physique: ",(null===c||void 0===c||null===(s=c.summary)||void 0===s?void 0:s.physical_count)||0]})})]})}),(0,Ae.jsxs)(Hi,{responsive:!0,striped:!0,size:"sm",children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"\xc9tudiant"}),(0,Ae.jsx)("th",{children:"Classe/S\xe9rie"}),(0,Ae.jsx)("th",{children:"Montant RAME"}),(0,Ae.jsx)("th",{children:"Montant Pay\xe9"}),(0,Ae.jsx)("th",{children:"Type de Paiement"}),(0,Ae.jsx)("th",{children:"Statut"}),(0,Ae.jsx)("th",{children:"Date Paiement"})]})}),(0,Ae.jsx)("tbody",{children:null===(a=c.students)||void 0===a?void 0:a.map((e,t)=>{var r,s,a,i,l,o,c,d,u,m,h;return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:null===e||void 0===e||null===(r=e.student)||void 0===r?void 0:r.full_name}),(0,Ae.jsx)("td",{children:null===e||void 0===e||null===(s=e.student)||void 0===s?void 0:s.class_series}),(0,Ae.jsx)("td",{children:n((null===e||void 0===e||null===(a=e.rame_details)||void 0===a?void 0:a.required_amount)||0)}),(0,Ae.jsx)("td",{children:n((null===e||void 0===e||null===(i=e.rame_details)||void 0===i?void 0:i.paid_amount)||0)}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(qi,{bg:"physical"===(null===e||void 0===e||null===(l=e.rame_details)||void 0===l?void 0:l.payment_type)?"success":"cash"===(null===e||void 0===e||null===(o=e.rame_details)||void 0===o?void 0:o.payment_type)?"primary":"secondary",children:"physical"===(null===e||void 0===e||null===(c=e.rame_details)||void 0===c?void 0:c.payment_type)?"Physique":"cash"===(null===e||void 0===e||null===(d=e.rame_details)||void 0===d?void 0:d.payment_type)?"Esp\xe8ces":"Non pay\xe9"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(qi,{bg:"paid"===(null===e||void 0===e||null===(u=e.rame_details)||void 0===u?void 0:u.payment_status)?"success":"warning",children:"paid"===(null===e||void 0===e||null===(m=e.rame_details)||void 0===m?void 0:m.payment_status)?"Pay\xe9":"En attente"})}),(0,Ae.jsx)("td",{children:null!==e&&void 0!==e&&null!==(h=e.rame_details)&&void 0!==h&&h.payment_date?new Date(e.rame_details.payment_date).toLocaleDateString("fr-FR"):"-"})]},t)})})]})]}):(0,Ae.jsx)("p",{className:"text-muted text-center",children:"G\xe9n\xe9rez un rapport pour voir les donn\xe9es"})})]})})()}),(0,Ae.jsx)(Pv.Pane,{eventKey:"recovery",children:(()=>{var e,t,r,s,a,i;return(0,Ae.jsxs)(Fi,{children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsx)("h5",{className:"mb-0",children:"Rapport de Recouvrement"})}),(0,Ae.jsx)(Fi.Body,{children:c?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)(Xa,{className:"mb-4",children:[(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)("h3",{className:"text-primary",children:n(null===(e=c.summary)||void 0===e?void 0:e.total_expected)}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Total Attendu"})]})})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)("h3",{className:"text-success",children:n(null===(t=c.summary)||void 0===t?void 0:t.total_collected)}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Total Collect\xe9"})]})})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)("h3",{className:"text-warning",children:n(null===(r=c.summary)||void 0===r?void 0:r.total_remaining)}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Reste \xe0 Collecter"})]})})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsxs)("h3",{className:"text-info",children:[null===(s=c.summary)||void 0===s||null===(a=s.recovery_rate)||void 0===a?void 0:a.toFixed(1),"%"]}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Taux de Recouvrement"})]})})})]}),(0,Ae.jsxs)(Hi,{responsive:!0,striped:!0,children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"P\xe9riode"}),(0,Ae.jsx)("th",{children:"Attendu"}),(0,Ae.jsx)("th",{children:"Collect\xe9"}),(0,Ae.jsx)("th",{children:"Reste"}),(0,Ae.jsx)("th",{children:"Taux"}),(0,Ae.jsx)("th",{children:"Bourses"}),(0,Ae.jsx)("th",{children:"R\xe9ductions"})]})}),(0,Ae.jsx)("tbody",{children:null===(i=c.periods)||void 0===i?void 0:i.map((e,t)=>{var r;return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:e.period_name}),(0,Ae.jsx)("td",{children:n(e.expected)}),(0,Ae.jsx)("td",{children:n(e.collected)}),(0,Ae.jsx)("td",{children:n(e.remaining)}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)(qi,{bg:e.rate>=80?"success":e.rate>=50?"warning":"danger",children:[null===(r=e.rate)||void 0===r?void 0:r.toFixed(1),"%"]})}),(0,Ae.jsx)("td",{children:n(e.scholarships)}),(0,Ae.jsx)("td",{children:n(e.reductions)})]},t)})})]})]}):(0,Ae.jsx)("p",{className:"text-muted text-center",children:"G\xe9n\xe9rez un rapport pour voir les donn\xe9es"})})]})})()})]})]})})})]})};var $v=["color","size","title","className"];function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fv.apply(null,arguments)}var Uv=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,$v);return t.createElement("svg",Fv({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-person-check",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4"}),t.createElement("path",{d:"M8.256 14a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1z"}))});Uv.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Hv=Uv;var Vv=["color","size","title","className"];function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qv.apply(null,arguments)}var Wv=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Vv);return t.createElement("svg",qv({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-person-x",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m.256 7a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1z"}),t.createElement("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m-.646-4.854.646.647.646-.647a.5.5 0 0 1 .708.708l-.647.646.647.646a.5.5 0 0 1-.708.708l-.646-.647-.646.647a.5.5 0 0 1-.708-.708l.647-.646-.647-.646a.5.5 0 0 1 .708-.708"}))});Wv.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Gv=Wv;var Kv=["color","size","title","className"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yv.apply(null,arguments)}var Xv=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Kv);return t.createElement("svg",Yv({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-person-plus",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"}),t.createElement("path",{fillRule:"evenodd",d:"M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5"}))});Xv.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Qv=Xv,Jv=e=>{let{show:n,onHide:r,onPhotoSelected:s}=e;const[a,i]=(0,t.useState)("select"),[l,o]=(0,t.useState)(null),[c,d]=(0,t.useState)(null),[u,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)(""),[f,v]=(0,t.useState)(!1),g=(0,t.useRef)(null),x=(0,t.useRef)(null),b=(0,t.useRef)(null),y=(0,t.useRef)(null),j=()=>{y.current&&(y.current.getTracks().forEach(e=>e.stop()),y.current=null),m(!1)},w=()=>{j(),i("select"),o(null),d(null),p(""),v(!1),r()},N=()=>{i("select"),o(null),d(null),p("")};return(0,Ae.jsxs)(Aa,{show:n,onHide:w,size:"lg",centered:!0,children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsxs)(Aa.Title,{children:["select"===a&&"Ajouter une photo","camera"===a&&"Prendre une photo","preview"===a&&"Aper\xe7u de la photo"]})}),(0,Ae.jsxs)(Aa.Body,{children:[h&&(0,Ae.jsx)(gi,{variant:"danger",children:h}),"select"===a&&(0,Ae.jsxs)(Xa,{className:"text-center",children:[(0,Ae.jsx)(Ja,{md:6,className:"mb-3",children:(0,Ae.jsx)("div",{className:"d-grid",children:(0,Ae.jsxs)(Da,{variant:"primary",size:"lg",onClick:async()=>{try{p("");const e=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480}});g.current&&(g.current.srcObject=e,y.current=e,m(!0),i("camera"))}catch(e){p("Impossible d'acc\xe9der \xe0 la cam\xe9ra. V\xe9rifiez les permissions."),console.error("Camera error:",e)}},className:"py-4",children:[(0,Ae.jsx)(nd,{size:32,className:"mb-2 d-block mx-auto"}),"Prendre une photo"]})})}),(0,Ae.jsx)(Ja,{md:6,className:"mb-3",children:(0,Ae.jsxs)("div",{className:"d-grid",children:[(0,Ae.jsxs)(Da,{variant:"outline-primary",size:"lg",onClick:()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.click()},className:"py-4",children:[(0,Ae.jsx)(tc,{size:32,className:"mb-2 d-block mx-auto"}),"S\xe9lectionner un fichier"]}),(0,Ae.jsx)("input",{ref:b,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&(t.type.startsWith("image/")?(d(t),o(URL.createObjectURL(t)),i("preview"),p("")):p("Veuillez s\xe9lectionner un fichier image (JPG, PNG)."))},style:{display:"none"}})]})})]}),"camera"===a&&(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("video",{ref:g,autoPlay:!0,style:{width:"100%",maxWidth:"500px",borderRadius:"8px",marginBottom:"20px"}}),(0,Ae.jsx)("canvas",{ref:x,style:{display:"none"}}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)(Da,{variant:"success",size:"lg",onClick:()=>{if(g.current&&x.current){const e=x.current,t=g.current;e.width=t.videoWidth,e.height=t.videoHeight;e.getContext("2d").drawImage(t,0,0),e.toBlob(e=>{const t=new File([e],"camera-photo.jpg",{type:"image/jpeg"});d(t),o(URL.createObjectURL(e)),i("preview"),j()},"image/jpeg",.8)}},className:"me-3",children:[(0,Ae.jsx)(nd,{className:"me-2"}),"Capturer"]}),(0,Ae.jsx)(Da,{variant:"secondary",onClick:N,children:"Annuler"})]})]}),"preview"===a&&l&&(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("img",{src:l,alt:"Aper\xe7u",style:{width:"100%",maxWidth:"400px",borderRadius:"8px",marginBottom:"20px"}}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)(Da,{variant:"success",size:"lg",onClick:async()=>{if(c){v(!0),p("");try{const e=new FormData;e.append("photo",c);const t=await fetch("http://localhost:8000/api/upload-photo",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:e}),n=await t.json();n.success?(s(n.data.url),w()):p(n.message||"Erreur lors de l'upload")}catch(e){p("Erreur lors de l'upload de la photo"),console.error("Upload error:",e)}finally{v(!1)}}},disabled:f,className:"me-3",children:f?"Upload...":"Utiliser cette photo"}),(0,Ae.jsx)(Da,{variant:"secondary",onClick:N,disabled:f,children:"Retour"})]})]})]})]})},Zv=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)({}),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[u,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)("create"),[f,v]=(0,t.useState)(null),[g,x]=(0,t.useState)(!1),[b,y]=(0,t.useState)(""),[j,w]=(0,t.useState)("all"),[N,C]=(0,t.useState)("all"),[E,S]=(0,t.useState)({name:"",email:"",contact:"",photo:"",role:"comptable",is_active:!0,generate_password:!0}),k={admin:"Administrateur",surveillant_general:"Surveillant G\xe9n\xe9ral",comptable:"Comptable",secretaire:"Secr\xe9taire",enseignant:"Enseignant",teacher:"Enseignant",accountant:"Comptable"},_={admin:"danger",surveillant_general:"primary",comptable:"success",secretaire:"info",enseignant:"warning",teacher:"warning",accountant:"success"};(0,t.useEffect)(()=>{O()},[]);const O=async()=>{o(!0);try{const[e,t]=await Promise.all([Ft.userManagement.getAll(),Ft.userManagement.getStats()]);e.success&&(n(e.data),s(e.data)),t.success&&i(t.data)}catch(c){d("Erreur lors du chargement des donn\xe9es"),console.error("Error loading data:",c)}finally{o(!1)}};(0,t.useEffect)(()=>{let t=e;b&&(t=t.filter(e=>{var t,n;return e.name.toLowerCase().includes(b.toLowerCase())||e.email.toLowerCase().includes(b.toLowerCase())||(null===(t=e.contact)||void 0===t?void 0:t.toLowerCase().includes(b.toLowerCase()))||(null===(n=k[e.role])||void 0===n?void 0:n.toLowerCase().includes(b.toLowerCase()))})),"all"!==j&&(t=t.filter(e=>e.role===j)),"all"!==N&&(t=t.filter(e=>"active"===N?e.is_active:!e.is_active)),s(t)},[e,b,j,N,k]);const P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;const n=e.name.split(" ").map(e=>e[0]).join("").substring(0,2).toUpperCase(),r=()=>(0,Ae.jsx)("div",{style:{width:t,height:t,borderRadius:"50%",backgroundColor:"warning"===_[e.role]?"#ffc107":"success"===_[e.role]?"#28a745":"primary"===_[e.role]?"#007bff":"#6c757d",display:"flex",alignItems:"center",justifyContent:"center",fontSize:.4*t,fontWeight:"bold",color:"white"},children:n});return e.photo?(0,Ae.jsx)("img",{src:e.photo,alt:e.name,style:{width:t,height:t,borderRadius:"50%",objectFit:"cover",border:"2px solid #fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onError:r=>{console.error("Error loading image:",e.photo),r.target.style.display="none";const s=r.target.parentNode;if(s&&!s.querySelector(".initials-avatar")){const r=document.createElement("div");r.className="initials-avatar",r.style.cssText=`\n                                width: ${t}px;\n                                height: ${t}px;\n                                border-radius: 50%;\n                                background-color: ${"warning"===_[e.role]?"#ffc107":"success"===_[e.role]?"#28a745":"primary"===_[e.role]?"#007bff":"#6c757d"};\n                                display: flex;\n                                align-items: center;\n                                justify-content: center;\n                                font-size: ${.4*t}px;\n                                font-weight: bold;\n                                color: white;\n                            `,r.textContent=n,s.appendChild(r)}}}):(0,Ae.jsx)(r,{})},z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;p(e),v(t),"create"===e?S({name:"",email:"",contact:"",photo:"",role:"comptable",is_active:!0,generate_password:!0}):"edit"===e&&t&&S({name:t.name,email:t.email,contact:t.contact||"",photo:t.photo||"",role:t.role,is_active:t.is_active,generate_password:!1}),m(!0)},T=()=>{m(!1),v(null),d("")},A=async e=>{e.preventDefault(),o(!0);try{let e;"create"===h?e=await Ft.userManagement.create(E):"edit"===h&&(e=await Ft.userManagement.update(f.id,E)),e.success?("create"===h&&e.data.password?await br().fire({title:"Utilisateur cr\xe9\xe9 !",html:`\n                            <p>L'utilisateur <strong>${e.data.user.name}</strong> a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s.</p>\n                            <div class="alert alert-warning mt-3">\n                                <strong>Mot de passe g\xe9n\xe9r\xe9 :</strong><br>\n                                <code style="font-size: 1.2em;">${e.data.password}</code><br>\n                                <small>Notez ce mot de passe car il ne sera plus affich\xe9.</small>\n                            </div>\n                        `,icon:"success",confirmButtonText:"Compris"}):br().fire("Succ\xe8s",e.message,"success"),T(),await O()):d(e.message||"Erreur lors de la sauvegarde")}catch(c){d("Erreur lors de la sauvegarde"),console.error("Error saving user:",c)}finally{o(!1)}};return(0,Ae.jsxs)(Ka,{fluid:!0,className:"py-4",children:[(0,Ae.jsx)(Xa,{className:"mb-4",children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("h2",{children:[(0,Ae.jsx)(Tr,{className:"me-3"}),"Gestion des Utilisateurs"]}),(0,Ae.jsx)("p",{className:"text-muted",children:"G\xe9rer les comptes des surveillants g\xe9n\xe9raux, comptables et secr\xe9taires (enseignants cr\xe9\xe9s via gestion des utilisateurs)"})]}),(0,Ae.jsxs)(Da,{variant:"primary",onClick:()=>z("create"),className:"d-flex align-items-center",children:[(0,Ae.jsx)(Qv,{className:"me-2"}),"Nouvel Utilisateur"]})]})})}),c&&(0,Ae.jsx)(gi,{variant:"danger",dismissible:!0,onClose:()=>d(""),children:c}),(()=>{var e;return(0,Ae.jsxs)(Xa,{className:"mb-4",children:[(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)(Tr,{size:40,className:"text-primary mb-2"}),(0,Ae.jsx)("h3",{children:a.total_users}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Total Utilisateurs"})]})})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)(Hv,{size:40,className:"text-success mb-2"}),(0,Ae.jsx)("h3",{children:a.active_users}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Actifs"})]})})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)(Gv,{size:40,className:"text-warning mb-2"}),(0,Ae.jsx)("h3",{children:a.inactive_users}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Inactifs"})]})})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"text-center",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)(Vn,{size:40,className:"text-info mb-2"}),(0,Ae.jsx)("h3",{children:(null===(e=a.by_role)||void 0===e?void 0:e.teacher)||0}),(0,Ae.jsx)("p",{className:"text-muted mb-0",children:"Enseignants"})]})})})]})})(),(0,Ae.jsx)(Fi,{className:"mb-4",children:(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Rechercher"}),(0,Ae.jsx)(El.Control,{type:"text",placeholder:"Nom, email, contact ou r\xf4le...",value:b,onChange:e=>y(e.target.value)})]})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Filtrer par r\xf4le"}),(0,Ae.jsxs)(El.Select,{value:j,onChange:e=>w(e.target.value),children:[(0,Ae.jsx)("option",{value:"all",children:"Tous les r\xf4les"}),(0,Ae.jsx)("option",{value:"surveillant_general",children:"Surveillants G\xe9n\xe9raux"}),(0,Ae.jsx)("option",{value:"comptable",children:"Comptables"}),(0,Ae.jsx)("option",{value:"secretaire",children:"Secr\xe9taires"}),(0,Ae.jsx)("option",{value:"enseignant",children:"Enseignants"}),(0,Ae.jsx)("option",{value:"teacher",children:"Enseignants (anciens)"}),(0,Ae.jsx)("option",{value:"accountant",children:"Comptables (anciens)"})]})]})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Filtrer par statut"}),(0,Ae.jsxs)(El.Select,{value:N,onChange:e=>C(e.target.value),children:[(0,Ae.jsx)("option",{value:"all",children:"Tous"}),(0,Ae.jsx)("option",{value:"active",children:"Actifs"}),(0,Ae.jsx)("option",{value:"inactive",children:"Inactifs"})]})]})})]}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("small",{className:"text-muted",children:[r.length," utilisateur(s) trouv\xe9(s) sur ",e.length," total"]}),(0,Ae.jsx)(Da,{variant:"outline-secondary",size:"sm",onClick:()=>{y(""),w("all"),C("all")},children:"R\xe9initialiser les filtres"})]})]})}),(0,Ae.jsxs)(Fi,{children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsx)("h5",{className:"mb-0",children:"Liste des Utilisateurs"})}),(0,Ae.jsx)(Fi.Body,{children:l?(0,Ae.jsx)("div",{className:"text-center py-4",children:(0,Ae.jsx)(kt,{animation:"border"})}):(0,Ae.jsxs)(Hi,{responsive:!0,hover:!0,children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Photo"}),(0,Ae.jsx)("th",{children:"Nom"}),(0,Ae.jsx)("th",{children:"Email"}),(0,Ae.jsx)("th",{children:"Contact"}),(0,Ae.jsx)("th",{children:"R\xf4le"}),(0,Ae.jsx)("th",{children:"Statut"}),(0,Ae.jsx)("th",{children:"Date de cr\xe9ation"}),(0,Ae.jsx)("th",{children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:r.map(e=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{style:{textAlign:"center"},children:P(e,35)}),(0,Ae.jsx)("td",{children:e.name}),(0,Ae.jsx)("td",{children:e.email}),(0,Ae.jsx)("td",{children:e.contact||"-"}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(qi,{bg:_[e.role],children:k[e.role]})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(qi,{bg:e.is_active?"success":"secondary",children:e.is_active?"Actif":"Inactif"})}),(0,Ae.jsx)("td",{children:new Date(e.created_at).toLocaleDateString("fr-FR")}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)(Ym,{as:gc,children:[(0,Ae.jsx)(Da,{variant:"outline-primary",size:"sm",onClick:()=>z("view",e),children:(0,Ae.jsx)(nr,{})}),(0,Ae.jsx)(Ym.Toggle,{split:!0,variant:"outline-primary",size:"sm"}),(0,Ae.jsxs)(Ym.Menu,{children:[(0,Ae.jsxs)(Ym.Item,{onClick:()=>z("edit",e),children:[(0,Ae.jsx)(gr,{className:"me-2"}),"Modifier"]}),(0,Ae.jsxs)(Ym.Item,{onClick:()=>(async e=>{if((await br().fire({title:"R\xe9initialiser le mot de passe ?",text:`Voulez-vous vraiment r\xe9initialiser le mot de passe de ${e.name} ?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, r\xe9initialiser",cancelButtonText:"Annuler"})).isConfirmed)try{const t=await Ft.userManagement.resetPassword(e.id);t.success?await br().fire({title:"Mot de passe r\xe9initialis\xe9 !",html:`\n                            <p>Le mot de passe de <strong>${e.name}</strong> a \xe9t\xe9 r\xe9initialis\xe9.</p>\n                            <div class="alert alert-info mt-3">\n                                <strong>Nouveau mot de passe :</strong><br>\n                                <code style="font-size: 1.2em;">${t.data.new_password}</code><br>\n                                <small>Notez ce mot de passe car il ne sera plus affich\xe9.</small>\n                            </div>\n                        `,icon:"success",confirmButtonText:"Compris"}):br().fire("Erreur",t.message,"error")}catch(c){br().fire("Erreur","Erreur lors de la r\xe9initialisation du mot de passe","error")}})(e),children:[(0,Ae.jsx)(Lc,{className:"me-2"}),"R\xe9initialiser mot de passe"]}),(0,Ae.jsxs)(Ym.Item,{onClick:()=>(async e=>{try{const t=await Ft.userManagement.toggleStatus(e.id);t.success?(br().fire("Succ\xe8s",t.message,"success"),await O()):br().fire("Erreur",t.message,"error")}catch(c){br().fire("Erreur","Erreur lors du changement de statut","error")}})(e),children:[e.is_active?(0,Ae.jsx)(Gv,{className:"me-2"}):(0,Ae.jsx)(Hv,{className:"me-2"}),e.is_active?"D\xe9sactiver":"Activer"]}),"admin"!==e.role&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Ym.Divider,{}),(0,Ae.jsxs)(Ym.Item,{className:"text-danger",onClick:()=>(async e=>{if((await br().fire({title:"Supprimer l'utilisateur ?",text:`Voulez-vous vraiment supprimer ${e.name} ? Cette action est irr\xe9versible.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler"})).isConfirmed)try{const t=await Ft.userManagement.delete(e.id);t.success?(br().fire("Supprim\xe9 !",t.message,"success"),await O()):br().fire("Erreur",t.message,"error")}catch(c){br().fire("Erreur","Erreur lors de la suppression","error")}})(e),children:[(0,Ae.jsx)(Dn,{className:"me-2"}),"Supprimer"]})]})]})]})})]},e.id))})]})})]}),(0,Ae.jsxs)(Aa,{show:u,onHide:T,size:"lg",children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsxs)(Aa.Title,{children:["create"===h&&"Cr\xe9er un utilisateur","edit"===h&&"Modifier l'utilisateur","view"===h&&"D\xe9tails de l'utilisateur"]})}),(0,Ae.jsxs)(El,{onSubmit:A,children:[(0,Ae.jsxs)(Aa.Body,{children:[c&&(0,Ae.jsx)(gi,{variant:"danger",children:c}),(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Nom complet *"}),(0,Ae.jsx)(El.Control,{type:"text",value:E.name,onChange:e=>S({...E,name:e.target.value}),required:!0,disabled:"view"===h})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Email *"}),(0,Ae.jsx)(El.Control,{type:"email",value:E.email,onChange:e=>S({...E,email:e.target.value}),required:!0,disabled:"view"===h})]})})]}),(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Contact *"}),(0,Ae.jsx)(El.Control,{type:"tel",value:E.contact,onChange:e=>S({...E,contact:e.target.value}),placeholder:"Ex: +237 6XX XXX XXX",required:!0,disabled:"view"===h})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Photo *"}),(0,Ae.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Ae.jsxs)(Da,{variant:E.photo?"outline-success":"outline-primary",onClick:()=>x(!0),disabled:"view"===h,children:[(0,Ae.jsx)("i",{className:`bi bi-${E.photo?"check-circle":"camera"} me-2`}),E.photo?"Photo s\xe9lectionn\xe9e":"Choisir une photo"]}),E.photo&&(0,Ae.jsx)("img",{src:E.photo,alt:"Aper\xe7u",style:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",border:"2px solid #28a745"},onError:e=>{e.target.style.display="none"}})]}),!E.photo&&(0,Ae.jsx)(El.Text,{className:"text-muted",children:"Prenez une photo avec la cam\xe9ra ou s\xe9lectionnez un fichier"})]})})]}),(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"R\xf4le *"}),(0,Ae.jsxs)(El.Select,{value:E.role,onChange:e=>S({...E,role:e.target.value}),required:!0,disabled:"view"===h,children:[(0,Ae.jsx)("option",{value:"surveillant_general",children:"Surveillant G\xe9n\xe9ral"}),(0,Ae.jsx)("option",{value:"comptable",children:"Comptable"}),(0,Ae.jsx)("option",{value:"secretaire",children:"Secr\xe9taire"})]})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Statut"}),(0,Ae.jsx)(El.Check,{type:"switch",id:"is_active",label:E.is_active?"Actif":"Inactif",checked:E.is_active,onChange:e=>S({...E,is_active:e.target.checked}),disabled:"view"===h})]})})]}),"create"===h&&(0,Ae.jsx)(El.Group,{className:"mb-3",children:(0,Ae.jsx)(El.Check,{type:"checkbox",id:"generate_password",label:"G\xe9n\xe9rer automatiquement un mot de passe",checked:E.generate_password,onChange:e=>S({...E,generate_password:e.target.checked})})})]}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:T,children:"Annuler"}),"view"!==h&&(0,Ae.jsx)(Da,{variant:"primary",type:"submit",disabled:l,children:l?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(kt,{animation:"border",size:"sm",className:"me-2"}),"Sauvegarde..."]}):"create"===h?"Cr\xe9er":"Modifier"})]})]})]}),(0,Ae.jsx)(Jv,{show:g,onHide:()=>x(!1),onPhotoSelected:e=>{S({...E,photo:e}),x(!1)}})]})};var eg=["color","size","title","className"];function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tg.apply(null,arguments)}var ng=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,eg);return t.createElement("svg",tg({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-plus-circle",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),t.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"}))});ng.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const rg=ng;var sg=["color","size","title","className"];function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ag.apply(null,arguments)}var ig=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,sg);return t.createElement("svg",ag({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-pencil-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z"}))});ig.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const lg=ig,og=()=>{const[e,n]=(0,t.useState)(!1),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[u,m]=(0,t.useState)(""),[h,p]=(0,t.useState)("all"),[f,v]=(0,t.useState)({name:"",code:"",description:"",is_active:!0}),[g,x]=(0,t.useState)({});(0,t.useEffect)(()=>{b()},[]),(0,t.useEffect)(()=>{y()},[r,u,h]);const b=async()=>{try{n(!0);const e=await Ft.subjects.getAll();e.success&&s(e.data)}catch(e){console.error("Erreur lors du chargement des mati\xe8res:",e),br().fire("Erreur","Impossible de charger les mati\xe8res","error")}finally{n(!1)}},y=()=>{let e=r;if(u&&(e=e.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())||e.code.toLowerCase().includes(u.toLowerCase()))),"all"!==h){const t="active"===h;e=e.filter(e=>e.is_active===t)}i(e)},j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(d(e),v({name:e.name,code:e.code,description:e.description||"",is_active:e.is_active})):(d(null),v({name:"",code:"",description:"",is_active:!0})),x({}),o(!0)},w=()=>{o(!1),d(null),v({name:"",code:"",description:"",is_active:!0}),x({})},N=e=>{const{name:t,value:n,type:r,checked:s}=e.target;v(e=>({...e,[t]:"checkbox"===r?s:n})),g[t]&&x(e=>({...e,[t]:null}))};return e&&0===r.length?(0,Ae.jsx)(_t,{}):(0,Ae.jsxs)("div",{className:"container-fluid",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Ae.jsx)("h2",{children:"Gestion des Mati\xe8res"}),(0,Ae.jsxs)(Da,{variant:"primary",onClick:()=>j(),children:[(0,Ae.jsx)(rg,{className:"me-2"}),"Nouvelle Mati\xe8re"]})]}),(0,Ae.jsx)(Fi,{className:"mb-4",children:(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)("div",{className:"row g-3",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"position-relative",children:[(0,Ae.jsx)(Nn,{className:"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted",size:16}),(0,Ae.jsx)(El.Control,{type:"text",placeholder:"Rechercher par nom ou code...",value:u,onChange:e=>m(e.target.value),className:"ps-5"})]})}),(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsxs)(El.Select,{value:h,onChange:e=>p(e.target.value),children:[(0,Ae.jsx)("option",{value:"all",children:"Tous les statuts"}),(0,Ae.jsx)("option",{value:"active",children:"Actives uniquement"}),(0,Ae.jsx)("option",{value:"inactive",children:"Inactives uniquement"})]})}),(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsxs)("div",{className:"text-muted",children:["Total: ",a.length," mati\xe8re(s)"]})})]})})}),(0,Ae.jsx)(Fi,{children:(0,Ae.jsxs)(Hi,{responsive:!0,children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Code"}),(0,Ae.jsx)("th",{children:"Nom"}),(0,Ae.jsx)("th",{children:"Description"}),(0,Ae.jsx)("th",{children:"Statut"}),(0,Ae.jsx)("th",{width:"150",children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:a.length>0?a.map(e=>{return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)("code",{className:"fs-6",children:e.code})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("strong",{children:e.name})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("small",{className:"text-muted",children:e.description||"-"})}),(0,Ae.jsx)("td",{children:(t=e.is_active,(0,Ae.jsx)(qi,{bg:t?"success":"secondary",children:t?"Active":"Inactive"}))}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)(gc,{size:"sm",children:[(0,Ae.jsx)(Da,{variant:"outline-primary",onClick:()=>j(e),title:"Modifier",children:(0,Ae.jsx)(lg,{size:14})}),(0,Ae.jsx)(Da,{variant:e.is_active?"outline-warning":"outline-success",onClick:()=>(async e=>{try{(await br().fire({title:"Confirmation",text:`Voulez-vous ${e.is_active?"d\xe9sactiver":"activer"} cette mati\xe8re ?`,icon:"question",showCancelButton:!0,confirmButtonText:"Oui",cancelButtonText:"Annuler"})).isConfirmed&&(await Ft.subjects.toggleStatus(e.id)).success&&(br().fire("Succ\xe8s!","Statut mis \xe0 jour avec succ\xe8s","success"),b())}catch(r){var t,n;br().fire("Erreur",(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Une erreur est survenue","error")}})(e),title:e.is_active?"D\xe9sactiver":"Activer",children:e.is_active?(0,Ae.jsx)(Jn,{size:14}):(0,Ae.jsx)(Mr,{size:14})}),(0,Ae.jsx)(Da,{variant:"outline-danger",onClick:()=>(async e=>{try{(await br().fire({title:"Confirmation",text:"\xcates-vous s\xfbr de vouloir supprimer cette mati\xe8re ? Cette action est irr\xe9versible.",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler",confirmButtonColor:"#d33"})).isConfirmed&&(await Ft.subjects.delete(e.id)).success&&(br().fire("Supprim\xe9!","Mati\xe8re supprim\xe9e avec succ\xe8s","success"),b())}catch(r){var t,n;br().fire("Erreur",(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Une erreur est survenue","error")}})(e),title:"Supprimer",children:(0,Ae.jsx)(Ha,{size:14})})]})})]},e.id);var t}):(0,Ae.jsx)("tr",{children:(0,Ae.jsx)("td",{colSpan:"5",className:"text-center py-4",children:(0,Ae.jsx)("div",{className:"text-muted",children:u||"all"!==h?"Aucune mati\xe8re ne correspond aux crit\xe8res de recherche":"Aucune mati\xe8re trouv\xe9e"})})})})]})}),(0,Ae.jsxs)(Aa,{show:l,onHide:w,size:"lg",children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsx)(Aa.Title,{children:c?"Modifier la Mati\xe8re":"Nouvelle Mati\xe8re"})}),(0,Ae.jsxs)(El,{onSubmit:async e=>{e.preventDefault();try{let e;e=c?await Ft.subjects.update(c.id,f):await Ft.subjects.create(f),e.success&&(br().fire("Succ\xe8s!",c?"Mati\xe8re mise \xe0 jour avec succ\xe8s":"Mati\xe8re cr\xe9\xe9e avec succ\xe8s","success"),w(),b())}catch(a){var t,n,r,s;if(null!==(t=a.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.errors)x(a.response.data.errors);else br().fire("Erreur",(null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Une erreur est survenue","error")}},children:[(0,Ae.jsx)(Aa.Body,{children:(0,Ae.jsxs)("div",{className:"row g-3",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsxs)(El.Label,{children:["Nom de la mati\xe8re ",(0,Ae.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Ae.jsx)(El.Control,{type:"text",name:"name",value:f.name,onChange:N,isInvalid:!!g.name,placeholder:"Ex: Math\xe9matiques",required:!0}),(0,Ae.jsx)(El.Control.Feedback,{type:"invalid",children:g.name&&g.name[0]})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsxs)(El.Label,{children:["Code ",(0,Ae.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Ae.jsx)(El.Control,{type:"text",name:"code",value:f.code,onChange:N,isInvalid:!!g.code,placeholder:"Ex: MATH",maxLength:"10",style:{textTransform:"uppercase"},required:!0}),(0,Ae.jsx)(El.Control.Feedback,{type:"invalid",children:g.code&&g.code[0]}),(0,Ae.jsx)(El.Text,{className:"text-muted",children:"Code unique pour identifier la mati\xe8re (max 10 caract\xe8res)"})]})}),(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{children:"Description"}),(0,Ae.jsx)(El.Control,{as:"textarea",rows:3,name:"description",value:f.description,onChange:N,placeholder:"Description optionnelle de la mati\xe8re..."})]})}),(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)(El.Check,{type:"checkbox",name:"is_active",checked:f.is_active,onChange:N,label:"Mati\xe8re active"})})]})}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:w,children:"Annuler"}),(0,Ae.jsx)(Da,{variant:"primary",type:"submit",disabled:e,children:e?"Enregistrement...":c?"Mettre \xe0 jour":"Cr\xe9er"})]})]})]})]})};var cg=["color","size","title","className"];function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dg.apply(null,arguments)}var ug=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,cg);return t.createElement("svg",dg({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-journal-bookmark-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{fillRule:"evenodd",d:"M6 1h6v7a.5.5 0 0 1-.757.429L9 7.083 6.757 8.43A.5.5 0 0 1 6 8z"}),t.createElement("path",{d:"M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"}),t.createElement("path",{d:"M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"}))});ug.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const mg=ug;function hg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Une erreur est survenue";if(console.error("Erreur API:",e),e.message)return e.message;if(e.response&&e.response.data){const t=e.response.data;if(t.message)return t.message;if(t.errors){const e=Object.keys(t.errors)[0];if(e&&t.errors[e][0])return t.errors[e][0]}if(t.error)return t.error}return e.status||e.statusText?`Erreur ${e.status||""}: ${e.statusText||"Erreur de r\xe9seau"}`:t}const pg=()=>{const[e,n]=(0,t.useState)(!1),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[l,o]=(0,t.useState)([]),[c,d]=(0,t.useState)(!1),[u,m]=(0,t.useState)(null),[h,p]=(0,t.useState)([]),[f,v]=(0,t.useState)({subject_id:"",coefficient:1});(0,t.useEffect)(()=>{g()},[]);const g=async()=>{try{n(!0);const[e,t]=await Promise.all([Ft.schoolClasses.getAll(),Ft.subjects.getAll({active:!0})]);e.success&&s(e.data),t.success&&i(t.data),x()}catch(e){console.error("Erreur lors du chargement des donn\xe9es:",e),br().fire("Erreur","Impossible de charger les donn\xe9es","error")}finally{n(!1)}},x=async()=>{try{const e=await Ft.seriesSubjects.getAll({active:!0});e.success&&o(e.data)}catch(e){console.error("Erreur lors du chargement des configurations:",e)}},b=()=>{d(!1),m(null),p([]),v({subject_id:"",coefficient:1})},y=e=>{const t=a.find(t=>t.id===e);return t?t.name:"Mati\xe8re inconnue"};return e?(0,Ae.jsx)("div",{className:"container-fluid py-4",children:(0,Ae.jsx)("div",{className:"text-center",children:(0,Ae.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement..."})})})}):(0,Ae.jsxs)("div",{className:"container-fluid py-4",children:[(0,Ae.jsxs)("div",{className:"mb-4",children:[(0,Ae.jsx)("h2",{children:"Configuration des Mati\xe8res par S\xe9rie"}),(0,Ae.jsx)("p",{className:"text-muted",children:"D\xe9finissez quelles mati\xe8res sont enseign\xe9es dans chaque s\xe9rie et leurs coefficients"})]}),(0,Ae.jsxs)(gi,{variant:"info",className:"mb-4",children:[(0,Ae.jsx)("strong",{children:"\xc9tape importante :"})," Vous devez d'abord configurer les mati\xe8res pour chaque s\xe9rie avant de pouvoir affecter des enseignants. Le coefficient d\xe9fini ici sera utilis\xe9 pour tous les enseignants de cette mati\xe8re dans cette s\xe9rie."]}),(0,Ae.jsx)("div",{className:"row g-4",children:r.map(e=>{const t=(n=e.id,l.filter(e=>e.school_class_id===n).map(e=>({...e,subject:a.find(t=>t.id===e.subject_id)})));var n;return(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4",children:(0,Ae.jsxs)(Fi,{className:"h-100",children:[(0,Ae.jsxs)(Fi.Header,{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(Kf,{className:"text-primary me-2"}),(0,Ae.jsx)("strong",{children:e.name}),e.level&&(0,Ae.jsx)(qi,{bg:"info",className:"ms-2",children:e.level.name})]}),(0,Ae.jsxs)(Da,{variant:"outline-primary",size:"sm",onClick:()=>(e=>{m(e);const t=l.filter(t=>t.school_class_id===e.id).map(e=>e.subject_id),n=a.filter(e=>!t.includes(e.id));p(n),v({subject_id:"",coefficient:1}),d(!0)})(e),children:[(0,Ae.jsx)(rg,{size:14,className:"me-1"}),"Ajouter Mati\xe8re"]})]}),(0,Ae.jsx)(Fi.Body,{children:t.length>0?(0,Ae.jsx)("div",{className:"space-y-2",children:t.map(t=>{var n;return(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-2 bg-light rounded",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("strong",{className:"text-primary",children:(null===(n=t.subject)||void 0===n?void 0:n.name)||y(t.subject_id)}),(0,Ae.jsx)("div",{children:(0,Ae.jsxs)(qi,{bg:"secondary",children:["Coeff: ",t.coefficient]})})]}),(0,Ae.jsx)(Da,{variant:"outline-danger",size:"sm",onClick:()=>(async(e,t)=>{try{if((await br().fire({title:"Confirmation",text:"\xcates-vous s\xfbr de vouloir retirer cette mati\xe8re de la s\xe9rie ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, retirer",cancelButtonText:"Annuler",confirmButtonColor:"#d33"})).isConfirmed){const r=l.find(n=>n.school_class_id===e&&n.subject_id===t);if(r)try{const e=await Ft.seriesSubjects.delete(r.id);e.success?(br().fire("Supprim\xe9!",e.message||"Mati\xe8re retir\xe9e de la s\xe9rie","success"),g()):br().fire("Erreur",e.message||"Erreur lors de la suppression","error")}catch(n){const e=hg(n,"Erreur lors de la suppression de la configuration");br().fire("Erreur",e,"error")}else br().fire("Erreur","Configuration introuvable","error")}}catch(r){br().fire("Erreur","Une erreur est survenue","error")}})(e.id,t.subject_id),children:(0,Ae.jsx)(Ha,{size:12})})]},t.subject_id)})}):(0,Ae.jsxs)("div",{className:"text-center text-muted py-4",children:[(0,Ae.jsx)(mg,{size:24,className:"mb-2"}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("small",{children:"Aucune mati\xe8re configur\xe9e"}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("small",{className:"text-info",children:'Cliquez sur "Ajouter Mati\xe8re" pour commencer'})]})})]})},e.id)})}),(0,Ae.jsxs)(Aa,{show:c,onHide:b,children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsxs)(Aa.Title,{children:["Ajouter une mati\xe8re \xe0 ",null===u||void 0===u?void 0:u.name]})}),(0,Ae.jsxs)(El,{onSubmit:async e=>{if(e.preventDefault(),u&&f.subject_id)try{const e=await Ft.seriesSubjects.create({school_class_id:u.id,subject_id:f.subject_id,coefficient:f.coefficient});e.success?(br().fire("Succ\xe8s!",e.message||"Mati\xe8re ajout\xe9e \xe0 la s\xe9rie avec succ\xe8s","success"),b(),g()):br().fire("Erreur",e.message||"Erreur lors de l'ajout","error")}catch(t){const e=hg(t,"Erreur lors de l'ajout de la mati\xe8re");br().fire("Erreur",e,"error")}else br().fire("Erreur","Veuillez s\xe9lectionner une mati\xe8re","error")},children:[(0,Ae.jsxs)(Aa.Body,{children:[(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:8,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:["Mati\xe8re ",(0,Ae.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Ae.jsxs)(El.Select,{value:f.subject_id,onChange:e=>v(t=>({...t,subject_id:e.target.value})),required:!0,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner une mati\xe8re..."}),h.map(e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.name," (",e.code,")"]},e.id))]}),0===h.length&&(0,Ae.jsx)(El.Text,{className:"text-warning",children:"Toutes les mati\xe8res sont d\xe9j\xe0 configur\xe9es pour cette s\xe9rie"})]})}),(0,Ae.jsx)(Ja,{md:4,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Coefficient"}),(0,Ae.jsx)(El.Control,{type:"number",min:"0.5",max:"10",step:"0.5",value:f.coefficient,onChange:e=>v(t=>({...t,coefficient:parseFloat(e.target.value)||1})),required:!0})]})})]}),(0,Ae.jsxs)(gi,{variant:"info",className:"small",children:[(0,Ae.jsx)("strong",{children:"Information :"})," Ce coefficient sera appliqu\xe9 \xe0 tous les enseignants qui enseigneront cette mati\xe8re dans cette s\xe9rie."]})]}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsxs)(Da,{variant:"secondary",onClick:b,children:[(0,Ae.jsx)(ot,{className:"me-2"}),"Annuler"]}),(0,Ae.jsxs)(Da,{variant:"primary",type:"submit",disabled:!f.subject_id||0===h.length,children:[(0,Ae.jsx)(cc,{className:"me-2"}),"Ajouter"]})]})]})]})]})};function fg(e){let n;return function(e,n){let r=0;t.Children.forEach(e,e=>{t.isValidElement(e)&&n(e,r++)})}(e,e=>{null==n&&(n=e.props.eventKey)}),n}function vg(e){const{title:t,eventKey:n,disabled:r,tabClassName:s,tabAttrs:a,id:i}=e.props;return null==t?null:(0,Ae.jsx)(eo,{as:"li",role:"presentation",children:(0,Ae.jsx)(no,{as:"button",type:"button",eventKey:n,disabled:r,id:i,className:s,...a,children:t})})}const gg=e=>{const{id:t,onSelect:n,transition:r,mountOnEnter:s=!1,unmountOnExit:a=!1,variant:i="tabs",children:l,activeKey:o=fg(l),...c}=ri(e,{activeKey:"onSelect"});return(0,Ae.jsxs)(yv,{id:t,activeKey:o,onSelect:n,transition:jv(r),mountOnEnter:s,unmountOnExit:a,children:[(0,Ae.jsx)(so,{id:t,...c,role:"tablist",as:"ul",variant:i,children:el(l,vg)}),(0,Ae.jsx)(Ev,{children:el(l,e=>{const t={...e.props};return delete t.title,delete t.disabled,delete t.tabClassName,delete t.tabAttrs,(0,Ae.jsx)(kv,{...t})})})]})};gg.displayName="Tabs";const xg=gg;var bg=["color","size","title","className"];function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yg.apply(null,arguments)}var jg=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,bg);return t.createElement("svg",yg({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-telephone-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{fillRule:"evenodd",d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"}))});jg.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const wg=jg;var Ng=["color","size","title","className"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cg.apply(null,arguments)}var Eg=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Ng);return t.createElement("svg",Cg({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-envelope-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586zm3.436-.586L16 11.801V4.697z"}))});Eg.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Sg=Eg,kg=()=>{const[e,n]=(0,t.useState)(!1),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[u,m]=(0,t.useState)(""),[h,p]=(0,t.useState)("all"),[f,v]=(0,t.useState)({first_name:"",last_name:"",phone_number:"",email:"",address:"",date_of_birth:"",gender:"",qualification:"",hire_date:"",is_active:!0,create_user_account:!1,username:"",password:""}),[g,x]=(0,t.useState)({});(0,t.useEffect)(()=>{b()},[]),(0,t.useEffect)(()=>{y()},[r,u,h]);const b=async()=>{try{n(!0);const e=await Ft.teachers.getAll({with_details:!0});e.success?s(e.data):(console.error("R\xe9ponse API non r\xe9ussie:",e),br().fire("Erreur",e.message||"Impossible de charger les enseignants","error"))}catch(e){console.error("Erreur lors du chargement des enseignants:",e),br().fire("Erreur",e.message||"Impossible de charger les enseignants","error")}finally{n(!1)}},y=()=>{let e=r;if(u&&(e=e.filter(e=>e.first_name.toLowerCase().includes(u.toLowerCase())||e.last_name.toLowerCase().includes(u.toLowerCase())||e.phone_number.includes(u)||e.email&&e.email.toLowerCase().includes(u.toLowerCase()))),"all"!==h){const t="active"===h;e=e.filter(e=>e.is_active===t)}i(e)},j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(d(e),v({first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number,email:e.email||"",address:e.address||"",date_of_birth:e.date_of_birth||"",gender:e.gender||"",qualification:e.qualification||"",hire_date:e.hire_date||"",is_active:e.is_active,create_user_account:!1,username:"",password:""})):(d(null),v({first_name:"",last_name:"",phone_number:"",email:"",address:"",date_of_birth:"",gender:"",qualification:"",hire_date:(new Date).toISOString().split("T")[0],is_active:!0,create_user_account:!1,username:"",password:""})),x({}),o(!0)},w=()=>{o(!1),d(null),v({first_name:"",last_name:"",phone_number:"",email:"",address:"",date_of_birth:"",gender:"",qualification:"",hire_date:"",is_active:!0,create_user_account:!1,username:"",password:""}),x({})},N=e=>{const{name:t,value:n,type:r,checked:s}=e.target;if(v(e=>({...e,[t]:"checkbox"===r?s:n})),"first_name"===t||"last_name"===t){const e="first_name"===t?n:f.first_name,r="last_name"===t?n:f.last_name;if(e&&r&&f.create_user_account){const t=(e.charAt(0)+r).toLowerCase().replace(/\s+/g,"");v(e=>({...e,username:t}))}}g[t]&&x(e=>({...e,[t]:null}))},C=e=>{switch(e){case"m":return"Masculin";case"f":return"F\xe9minin";default:return"-"}};return e&&0===r.length?(0,Ae.jsx)(_t,{}):(0,Ae.jsxs)("div",{className:"container-fluid",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Ae.jsx)("h2",{children:"Gestion des Enseignants"}),(0,Ae.jsxs)(Da,{variant:"primary",onClick:()=>j(),children:[(0,Ae.jsx)(rg,{className:"me-2"}),"Nouvel Enseignant"]})]}),(0,Ae.jsx)(Fi,{className:"mb-4",children:(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)("div",{className:"row g-3",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)("div",{className:"position-relative",children:[(0,Ae.jsx)(Nn,{className:"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted",size:16}),(0,Ae.jsx)(El.Control,{type:"text",placeholder:"Rechercher par nom, pr\xe9nom, t\xe9l\xe9phone ou email...",value:u,onChange:e=>m(e.target.value),className:"ps-5"})]})}),(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsxs)(El.Select,{value:h,onChange:e=>p(e.target.value),children:[(0,Ae.jsx)("option",{value:"all",children:"Tous les statuts"}),(0,Ae.jsx)("option",{value:"active",children:"Actifs uniquement"}),(0,Ae.jsx)("option",{value:"inactive",children:"Inactifs uniquement"})]})}),(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsxs)("div",{className:"text-muted",children:["Total: ",a.length," enseignant(s)"]})})]})})}),(0,Ae.jsx)(Fi,{children:(0,Ae.jsxs)(Hi,{responsive:!0,children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Nom complet"}),(0,Ae.jsx)("th",{children:"Contact"}),(0,Ae.jsx)("th",{children:"Qualification"}),(0,Ae.jsx)("th",{children:"Date d'embauche"}),(0,Ae.jsx)("th",{children:"Statut"}),(0,Ae.jsx)("th",{width:"150",children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:a.length>0?a.map(e=>{return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(Vn,{className:"text-muted me-2"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("strong",{children:e.full_name}),(0,Ae.jsx)("div",{className:"small text-muted",children:C(e.gender)})]})]})}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("div",{className:"small",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[(0,Ae.jsx)(wg,{className:"text-muted me-2",size:12}),e.phone_number]}),e.email&&(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(Sg,{className:"text-muted me-2",size:12}),e.email]})]})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("small",{className:"text-muted",children:e.qualification||"-"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("small",{children:e.hire_date?new Date(e.hire_date).toLocaleDateString("fr-FR"):"-"})}),(0,Ae.jsxs)("td",{children:[(t=e.is_active,(0,Ae.jsx)(qi,{bg:t?"success":"secondary",children:t?"Actif":"Inactif"})),e.user&&(0,Ae.jsx)(qi,{bg:"info",className:"ms-1",size:"sm",children:"Compte utilisateur"})]}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)(gc,{size:"sm",children:[(0,Ae.jsx)(Da,{variant:"outline-primary",onClick:()=>j(e),title:"Modifier",children:(0,Ae.jsx)(lg,{size:14})}),(0,Ae.jsx)(Da,{variant:e.is_active?"outline-warning":"outline-success",onClick:()=>(async e=>{try{(await br().fire({title:"Confirmation",text:`Voulez-vous ${e.is_active?"d\xe9sactiver":"activer"} cet enseignant ?`,icon:"question",showCancelButton:!0,confirmButtonText:"Oui",cancelButtonText:"Annuler"})).isConfirmed&&(await Ft.teachers.toggleStatus(e.id)).success&&(br().fire("Succ\xe8s!","Statut mis \xe0 jour avec succ\xe8s","success"),b())}catch(r){var t,n;br().fire("Erreur",(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Une erreur est survenue","error")}})(e),title:e.is_active?"D\xe9sactiver":"Activer",children:e.is_active?(0,Ae.jsx)(Jn,{size:14}):(0,Ae.jsx)(Mr,{size:14})}),(0,Ae.jsx)(Da,{variant:"outline-danger",onClick:()=>(async e=>{try{(await br().fire({title:"Confirmation",text:"\xcates-vous s\xfbr de vouloir supprimer cet enseignant ? Cette action est irr\xe9versible.",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler",confirmButtonColor:"#d33"})).isConfirmed&&(await Ft.teachers.delete(e.id)).success&&(br().fire("Supprim\xe9!","Enseignant supprim\xe9 avec succ\xe8s","success"),b())}catch(r){var t,n;br().fire("Erreur",(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Une erreur est survenue","error")}})(e),title:"Supprimer",children:(0,Ae.jsx)(Ha,{size:14})})]})})]},e.id);var t}):(0,Ae.jsx)("tr",{children:(0,Ae.jsx)("td",{colSpan:"6",className:"text-center py-4",children:(0,Ae.jsx)("div",{className:"text-muted",children:u||"all"!==h?"Aucun enseignant ne correspond aux crit\xe8res de recherche":"Aucun enseignant trouv\xe9"})})})})]})}),(0,Ae.jsxs)(Aa,{show:l,onHide:w,size:"xl",children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsx)(Aa.Title,{children:c?"Modifier l'Enseignant":"Nouvel Enseignant"})}),(0,Ae.jsxs)(El,{onSubmit:async e=>{e.preventDefault();try{let e;e=c?await Ft.teachers.update(c.id,f):await Ft.teachers.create(f),e.success&&(br().fire("Succ\xe8s!",c?"Enseignant mis \xe0 jour avec succ\xe8s":"Enseignant cr\xe9\xe9 avec succ\xe8s","success"),w(),b())}catch(a){var t,n,r,s;if(null!==(t=a.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.errors)x(a.response.data.errors);else br().fire("Erreur",(null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Une erreur est survenue","error")}},children:[(0,Ae.jsx)(Aa.Body,{children:(0,Ae.jsxs)(xg,{defaultActiveKey:"personal",className:"mb-3",children:[(0,Ae.jsx)(Pv,{eventKey:"personal",title:"Informations personnelles",children:(0,Ae.jsxs)("div",{className:"row g-3",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsxs)(El.Label,{children:["Pr\xe9nom ",(0,Ae.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Ae.jsx)(El.Control,{type:"text",name:"first_name",value:f.first_name,onChange:N,isInvalid:!!g.first_name,required:!0}),(0,Ae.jsx)(El.Control.Feedback,{type:"invalid",children:g.first_name&&g.first_name[0]})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsxs)(El.Label,{children:["Nom de famille ",(0,Ae.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Ae.jsx)(El.Control,{type:"text",name:"last_name",value:f.last_name,onChange:N,isInvalid:!!g.last_name,required:!0}),(0,Ae.jsx)(El.Control.Feedback,{type:"invalid",children:g.last_name&&g.last_name[0]})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsxs)(El.Label,{children:["T\xe9l\xe9phone ",(0,Ae.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Ae.jsx)(El.Control,{type:"tel",name:"phone_number",value:f.phone_number,onChange:N,isInvalid:!!g.phone_number,required:!0}),(0,Ae.jsx)(El.Control.Feedback,{type:"invalid",children:g.phone_number&&g.phone_number[0]})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{children:"Email"}),(0,Ae.jsx)(El.Control,{type:"email",name:"email",value:f.email,onChange:N,isInvalid:!!g.email}),(0,Ae.jsx)(El.Control.Feedback,{type:"invalid",children:g.email&&g.email[0]})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{children:"Date de naissance"}),(0,Ae.jsx)(El.Control,{type:"date",name:"date_of_birth",value:f.date_of_birth,onChange:N})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{children:"Genre"}),(0,Ae.jsxs)(El.Select,{name:"gender",value:f.gender,onChange:N,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner..."}),(0,Ae.jsx)("option",{value:"m",children:"Masculin"}),(0,Ae.jsx)("option",{value:"f",children:"F\xe9minin"})]})]})}),(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{children:"Adresse"}),(0,Ae.jsx)(El.Control,{as:"textarea",rows:2,name:"address",value:f.address,onChange:N})]})})]})}),(0,Ae.jsx)(Pv,{eventKey:"professional",title:"Informations professionnelles",children:(0,Ae.jsxs)("div",{className:"row g-3",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{children:"Qualification/Dipl\xf4me"}),(0,Ae.jsx)(El.Control,{type:"text",name:"qualification",value:f.qualification,onChange:N,placeholder:"Ex: Licence en Math\xe9matiques"})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{children:"Date d'embauche"}),(0,Ae.jsx)(El.Control,{type:"date",name:"hire_date",value:f.hire_date,onChange:N})]})}),(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)(El.Check,{type:"checkbox",name:"is_active",checked:f.is_active,onChange:N,label:"Enseignant actif"})})]})}),!c&&(0,Ae.jsx)(Pv,{eventKey:"account",title:"Compte utilisateur",children:(0,Ae.jsxs)("div",{className:"row g-3",children:[(0,Ae.jsxs)("div",{className:"col-12",children:[(0,Ae.jsx)(El.Check,{type:"checkbox",name:"create_user_account",checked:f.create_user_account,onChange:N,label:"Cr\xe9er un compte utilisateur pour cet enseignant"}),(0,Ae.jsx)(El.Text,{className:"text-muted",children:"Permet \xe0 l'enseignant de se connecter au syst\xe8me"})]}),f.create_user_account&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsxs)(El.Label,{children:["Nom d'utilisateur ",(0,Ae.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Ae.jsx)(El.Control,{type:"text",name:"username",value:f.username,onChange:N,isInvalid:!!g.username,required:f.create_user_account}),(0,Ae.jsx)(El.Control.Feedback,{type:"invalid",children:g.username&&g.username[0]})]})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsxs)(El.Label,{children:["Mot de passe ",(0,Ae.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Ae.jsx)(El.Control,{type:"password",name:"password",value:f.password,onChange:N,isInvalid:!!g.password,required:f.create_user_account,minLength:"6"}),(0,Ae.jsx)(El.Control.Feedback,{type:"invalid",children:g.password&&g.password[0]})]})})]})]})})]})}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:w,children:"Annuler"}),(0,Ae.jsx)(Da,{variant:"primary",type:"submit",disabled:e,children:e?"Enregistrement...":c?"Mettre \xe0 jour":"Cr\xe9er"})]})]})]})]})},_g=()=>{const[e,n]=(0,t.useState)(!1),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[l,o]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)(null),[f,v]=(0,t.useState)({subject_id:"",class_series_id:"",coefficient:1,is_main_teacher:!1}),[g,x]=(0,t.useState)("assignments");(0,t.useEffect)(()=>{b()},[]);const b=async()=>{try{n(!0);const[e,t,r]=await Promise.all([Ft.teachers.getAll({with_details:!0}),Ft.subjects.getAll({active:!0}),Ft.schoolClasses.getAll()]);e.success&&s(e.data),t.success&&i(t.data),r.success&&o(r.data)}catch(e){console.error("Erreur lors du chargement des donn\xe9es:",e),br().fire("Erreur","Impossible de charger les donn\xe9es","error")}finally{n(!1)}},y=()=>{m(!1),p(null),v({subject_id:"",class_series_id:"",coefficient:1,is_main_teacher:!1})},j=(e,t)=>{v(n=>({...n,[e]:t}))},w=e=>{const t=a.find(t=>t.id===e);return t?t.name:"Mati\xe8re inconnue"},N=e=>{var t;const n=l.find(t=>t.id===e);return n?`${n.name} (${(null===(t=n.level)||void 0===t?void 0:t.name)||""})`:"Classe inconnue"};return e?(0,Ae.jsx)("div",{className:"container-fluid py-4",children:(0,Ae.jsx)("div",{className:"text-center",children:(0,Ae.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement..."})})})}):(0,Ae.jsxs)("div",{className:"container-fluid py-4",children:[(0,Ae.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{children:"Affectation des Enseignants"}),(0,Ae.jsx)("p",{className:"text-muted",children:"G\xe9rez les affectations des enseignants aux mati\xe8res et classes"})]})}),(0,Ae.jsx)(Fi,{className:"mb-4",children:(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)(xg,{activeKey:g,onSelect:x,className:"mb-3",children:[(0,Ae.jsx)(Pv,{eventKey:"assignments",title:"Vue par Enseignant",children:(0,Ae.jsx)("div",{className:"row g-4",children:r.map(e=>(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4",children:(0,Ae.jsxs)(Fi,{className:"h-100",children:[(0,Ae.jsxs)(Fi.Header,{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(Vn,{className:"text-primary me-2"}),(0,Ae.jsx)("strong",{children:e.full_name})]}),(0,Ae.jsxs)(Da,{variant:"outline-primary",size:"sm",onClick:()=>(e=>{p(e),v({subject_id:"",class_series_id:"",coefficient:1,is_main_teacher:!1}),m(!0)})(e),children:[(0,Ae.jsx)(rg,{size:14,className:"me-1"}),"Affecter"]})]}),(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)("div",{className:"mb-2",children:(0,Ae.jsxs)("small",{className:"text-muted",children:[(0,Ae.jsx)("strong",{children:"Contact:"})," ",e.phone_number]})}),e.teacher_subjects&&e.teacher_subjects.length>0?(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("small",{className:"text-muted mb-2 d-block",children:"Affectations actuelles:"}),e.teacher_subjects.map((t,n)=>(0,Ae.jsx)("div",{className:"mb-2 p-2 bg-light rounded",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("strong",{className:"text-primary",children:w(t.subject_id)}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("small",{className:"text-muted",children:N(t.class_series_id)}),(0,Ae.jsx)("br",{}),(0,Ae.jsxs)(qi,{bg:"secondary",className:"me-1",children:["Coeff: ",t.coefficient]}),t.is_main_teacher&&(0,Ae.jsx)(qi,{bg:"success",children:"Professeur Principal"})]}),(0,Ae.jsx)(Da,{variant:"outline-danger",size:"sm",onClick:()=>(async(e,t,n)=>{try{(await br().fire({title:"Confirmation",text:"\xcates-vous s\xfbr de vouloir supprimer cette affectation ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler",confirmButtonColor:"#d33"})).isConfirmed&&(await Ft.teachers.removeAssignment(e,{subject_id:t,class_series_id:n})).success&&(br().fire("Succ\xe8s!","Affectation supprim\xe9e avec succ\xe8s","success"),b())}catch(a){var r,s;console.error("Erreur lors de la suppression:",a),br().fire("Erreur",(null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Une erreur est survenue","error")}})(e.id,t.subject_id,t.class_series_id),children:(0,Ae.jsx)(Ha,{size:12})})]})},n))]}):(0,Ae.jsxs)("div",{className:"text-center text-muted py-3",children:[(0,Ae.jsx)(mg,{size:24,className:"mb-2"}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("small",{children:"Aucune affectation"})]})]})]})},e.id))})}),(0,Ae.jsx)(Pv,{eventKey:"subjects",title:"Vue par Mati\xe8re",children:(0,Ae.jsx)("div",{className:"row g-4",children:a.map(e=>(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4",children:(0,Ae.jsxs)(Fi,{className:"h-100",children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(mg,{className:"text-primary me-2"}),(0,Ae.jsx)("strong",{children:e.name}),(0,Ae.jsx)(qi,{bg:"secondary",className:"ms-2",children:e.code})]})}),(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)("div",{className:"text-center text-muted py-3",children:[(0,Ae.jsx)("small",{children:"Enseignants affect\xe9s \xe0 cette mati\xe8re"}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("small",{className:"text-info",children:"Fonctionnalit\xe9 en d\xe9veloppement"})]})})]})},e.id))})}),(0,Ae.jsx)(Pv,{eventKey:"classes",title:"Vue par Classe",children:(0,Ae.jsx)("div",{className:"row g-4",children:l.map(e=>(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4",children:(0,Ae.jsxs)(Fi,{className:"h-100",children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(Kf,{className:"text-primary me-2"}),(0,Ae.jsx)("strong",{children:e.name}),e.level&&(0,Ae.jsx)(qi,{bg:"info",className:"ms-2",children:e.level.name})]})}),(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)("div",{className:"text-center text-muted py-3",children:[(0,Ae.jsx)("small",{children:"Enseignants de cette classe"}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("small",{className:"text-info",children:"Fonctionnalit\xe9 en d\xe9veloppement"})]})})]})},e.id))})})]})})}),(0,Ae.jsxs)(Aa,{show:u,onHide:y,size:"lg",children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsxs)(Aa.Title,{children:["Affecter une mati\xe8re \xe0 ",null===h||void 0===h?void 0:h.full_name]})}),(0,Ae.jsxs)(El,{onSubmit:async e=>{if(e.preventDefault(),h&&f.subject_id&&f.class_series_id)try{(await Ft.teachers.assignSubjects(h.id,{assignments:[{subject_id:f.subject_id,class_series_id:f.class_series_id,coefficient:f.coefficient,is_main_teacher:f.is_main_teacher}]})).success&&(br().fire("Succ\xe8s!","Affectation cr\xe9\xe9e avec succ\xe8s","success"),y(),b())}catch(r){var t,n;console.error("Erreur lors de l'affectation:",r),br().fire("Erreur",(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Une erreur est survenue","error")}else br().fire("Erreur","Veuillez remplir tous les champs obligatoires","error")},children:[(0,Ae.jsxs)(Aa.Body,{children:[(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:["Mati\xe8re ",(0,Ae.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Ae.jsxs)(El.Select,{value:f.subject_id,onChange:e=>j("subject_id",e.target.value),required:!0,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner une mati\xe8re..."}),a.map(e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.name," (",e.code,")"]},e.id))]})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:["Classe ",(0,Ae.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Ae.jsxs)(El.Select,{value:f.class_series_id,onChange:e=>j("class_series_id",e.target.value),required:!0,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner une classe..."}),l.map(e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.name," ",e.level&&`(${e.level.name})`]},e.id))]})]})})]}),(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Coefficient"}),(0,Ae.jsx)(El.Control,{type:"number",min:"1",max:"10",step:"0.5",value:f.coefficient,onChange:e=>j("coefficient",parseFloat(e.target.value)||1)}),(0,Ae.jsx)(El.Text,{className:"text-muted",children:"Coefficient de la mati\xe8re pour cette classe"})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Check,{type:"checkbox",label:"Professeur principal de cette classe",checked:f.is_main_teacher,onChange:e=>j("is_main_teacher",e.target.checked)}),(0,Ae.jsx)(El.Text,{className:"text-muted",children:"Cet enseignant sera le professeur principal de la classe s\xe9lectionn\xe9e"})]})})]})]}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:y,children:"Annuler"}),(0,Ae.jsxs)(Da,{variant:"primary",type:"submit",children:[(0,Ae.jsx)(rg,{className:"me-2"}),"Affecter"]})]})]})]})]})},Og=()=>{const[e,n]=(0,t.useState)(!1),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[l,o]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,m]=(0,t.useState)([]),[h,p]=(0,t.useState)(!1),[f,v]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null),[b,y]=(0,t.useState)("current"),[j,w]=(0,t.useState)([]),[N,C]=(0,t.useState)([]),[E,S]=(0,t.useState)({series_subject_id:""}),[k,_]=(0,t.useState)({school_class_id:""}),[O,P]=(0,t.useState)("assignments");(0,t.useEffect)(()=>{z()},[]),(0,t.useEffect)(()=>{b&&T()},[b]);const z=async()=>{try{n(!0);const[e,t,r]=await Promise.all([Ft.teachers.getAll({active:!0}),Ft.schoolYears.getActiveYears(),Ft.seriesSubjects.getAll({active:!0})]);e.success&&s(e.data),t.success&&o(t.data),r.success&&i(r.data)}catch(e){console.error("Erreur lors du chargement des donn\xe9es:",e),br().fire("Erreur","Impossible de charger les donn\xe9es","error")}finally{n(!1)}},T=async()=>{try{const e="current"===b?null:b,t={active:!0},n={active:!0};null!==e&&(t.school_year_id=e,n.school_year_id=e);const[r,s]=await Promise.all([Ft.teacherAssignments.getAll(t),Ft.mainTeachers.getAll(n)]);r.success&&d(r.data),s.success&&m(s.data)}catch(e){console.error("Erreur lors du chargement des donn\xe9es de l'ann\xe9e:",e)}};return e?(0,Ae.jsx)("div",{className:"container-fluid py-4",children:(0,Ae.jsx)("div",{className:"text-center",children:(0,Ae.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement..."})})})}):(0,Ae.jsxs)("div",{className:"container-fluid py-4",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{children:"Affectation des Enseignants"}),(0,Ae.jsx)("p",{className:"text-muted",children:"G\xe9rez les affectations des enseignants aux mati\xe8res configur\xe9es et d\xe9signez les professeurs principaux"})]}),(0,Ae.jsx)("div",{className:"d-flex gap-2",children:(0,Ae.jsxs)(Da,{variant:"success",onClick:async()=>{try{const e="current"===b?null:b,t={};null!==e&&(t.school_year_id=e);const[n,r]=await Promise.all([Ft.mainTeachers.getAvailableTeachers(t),Ft.mainTeachers.getClassesWithoutMainTeacher(t)]);n.success&&s(e=>e.filter(e=>n.data.some(t=>t.id===e.id))),r.success&&C(r.data)}catch(e){console.error("Erreur lors du chargement des donn\xe9es:",e)}_({school_class_id:""}),v(!0)},children:[(0,Ae.jsx)(rg,{className:"me-2"}),"D\xe9signer Professeur Principal"]})})]}),(0,Ae.jsx)(Fi,{className:"mb-4",children:(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)(Xa,{className:"align-items-center",children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsxs)(El.Label,{className:"d-flex align-items-center",children:[(0,Ae.jsx)(Do,{className:"me-2"}),"Ann\xe9e scolaire"]}),(0,Ae.jsxs)(El.Select,{value:b,onChange:e=>y(e.target.value),children:[(0,Ae.jsx)("option",{value:"current",children:"Ann\xe9e courante"}),l.map(e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.name," ",e.is_current&&"(Courante)"]},e.id))]})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(gi,{variant:"info",className:"mb-0",children:[(0,Ae.jsx)("strong",{children:"Ann\xe9e s\xe9lectionn\xe9e:"})," ",(()=>{if("current"===b){const e=l.find(e=>e.is_current);return e?e.name:"Ann\xe9e courante"}const e=l.find(e=>e.id===parseInt(b));return e?e.name:"Ann\xe9e s\xe9lectionn\xe9e"})()]})})]})})}),(0,Ae.jsx)(Fi,{children:(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)(xg,{activeKey:O,onSelect:P,className:"mb-3",children:[(0,Ae.jsx)(Pv,{eventKey:"assignments",title:"Affectations Mati\xe8res",children:(0,Ae.jsx)("div",{className:"row g-4",children:r.map(e=>{const t=(n=e.id,c.filter(e=>e.teacher_id===n));var n;const r=(e=>u.filter(t=>t.teacher_id===e))(e.id);return(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4",children:(0,Ae.jsxs)(Fi,{className:"h-100",children:[(0,Ae.jsxs)(Fi.Header,{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(Vn,{className:"text-primary me-2"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("strong",{children:e.full_name||`${e.last_name} ${e.first_name}`}),r.length>0&&(0,Ae.jsx)("div",{children:(0,Ae.jsx)(qi,{bg:"success",className:"ms-1",children:"Prof. Principal"})})]})]}),(0,Ae.jsxs)(Da,{variant:"outline-primary",size:"sm",onClick:()=>(async e=>{x(e);try{const t="current"===b?null:b,n={};null!==t&&(n.school_year_id=t);const r=await Ft.teacherAssignments.getAvailableSubjects(e.id,n);r.success&&w(r.data)}catch(t){console.error("Erreur lors du chargement des mati\xe8res disponibles:",t)}S({series_subject_id:""}),p(!0)})(e),children:[(0,Ae.jsx)(rg,{size:14,className:"me-1"}),"Affecter"]})]}),(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsx)("div",{className:"mb-2",children:(0,Ae.jsxs)("small",{className:"text-muted",children:[(0,Ae.jsx)("strong",{children:"T\xe9l\xe9phone:"})," ",e.phone_number]})}),t.length>0?(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("small",{className:"text-muted mb-2 d-block",children:(0,Ae.jsx)("strong",{children:"Mati\xe8res assign\xe9es:"})}),t.map(e=>{var t,n,r,s,a,i,l;return(0,Ae.jsx)("div",{className:"mb-2 p-2 bg-light rounded",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("strong",{className:"text-primary",children:null===(t=e.series_subject)||void 0===t||null===(n=t.subject)||void 0===n?void 0:n.name}),(0,Ae.jsx)("br",{}),(0,Ae.jsxs)("small",{className:"text-muted",children:[null===(r=e.series_subject)||void 0===r||null===(s=r.school_class)||void 0===s?void 0:s.name,(null===(a=e.series_subject)||void 0===a||null===(i=a.school_class)||void 0===i?void 0:i.level)&&` (${e.series_subject.school_class.level.name})`]}),(0,Ae.jsx)("br",{}),(0,Ae.jsxs)(qi,{bg:"secondary",children:["Coeff: ",null===(l=e.series_subject)||void 0===l?void 0:l.coefficient]})]}),(0,Ae.jsx)(Da,{variant:"outline-danger",size:"sm",onClick:()=>(async e=>{try{if((await br().fire({title:"Confirmation",text:"\xcates-vous s\xfbr de vouloir supprimer cette affectation ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler",confirmButtonColor:"#d33"})).isConfirmed){const t=await Ft.teacherAssignments.delete(e);t.success&&(br().fire("Supprim\xe9!",t.message||"Affectation supprim\xe9e avec succ\xe8s","success"),T())}}catch(t){console.error("Erreur lors de la suppression:",t);let e="Une erreur est survenue";t.message?e=t.message:t.response&&t.response.data&&t.response.data.message&&(e=t.response.data.message),br().fire("Erreur",e,"error")}})(e.id),children:(0,Ae.jsx)(Ha,{size:12})})]})},e.id)})]}):(0,Ae.jsxs)("div",{className:"text-center text-muted py-2",children:[(0,Ae.jsx)(mg,{size:20,className:"mb-1"}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("small",{children:"Aucune mati\xe8re assign\xe9e"})]}),r.length>0&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("small",{className:"text-muted mb-2 d-block",children:(0,Ae.jsx)("strong",{children:"Professeur principal de:"})}),r.map(e=>{var t,n;return(0,Ae.jsx)("div",{className:"mb-2 p-2 bg-success bg-opacity-10 rounded",children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("strong",{className:"text-success",children:null===(t=e.school_class)||void 0===t?void 0:t.name}),(null===(n=e.school_class)||void 0===n?void 0:n.level)&&(0,Ae.jsxs)("span",{className:"text-muted ms-1",children:["(",e.school_class.level.name,")"]})]}),(0,Ae.jsx)(Da,{variant:"outline-danger",size:"sm",onClick:()=>(async e=>{try{if((await br().fire({title:"Confirmation",text:"\xcates-vous s\xfbr de vouloir retirer ce professeur principal ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, retirer",cancelButtonText:"Annuler",confirmButtonColor:"#d33"})).isConfirmed){const t=await Ft.mainTeachers.delete(e);t.success&&(br().fire("Retir\xe9!",t.message||"Professeur principal retir\xe9 avec succ\xe8s","success"),T())}}catch(t){console.error("Erreur lors du retrait:",t);let e="Une erreur est survenue";t.message?e=t.message:t.response&&t.response.data&&t.response.data.message&&(e=t.response.data.message),br().fire("Erreur",e,"error")}})(e.id),children:(0,Ae.jsx)(Ha,{size:12})})]})},e.id)})]})]})]})},e.id)})})}),(0,Ae.jsx)(Pv,{eventKey:"summary",title:"R\xe9sum\xe9",children:(0,Ae.jsx)(Xa,{children:(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(Fi,{children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsx)("h5",{children:"Statistiques des Affectations"})}),(0,Ae.jsxs)(Fi.Body,{children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between py-2",children:[(0,Ae.jsx)("span",{children:"Enseignants actifs:"}),(0,Ae.jsx)(qi,{bg:"primary",children:r.length})]}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-between py-2",children:[(0,Ae.jsx)("span",{children:"Affectations mati\xe8res:"}),(0,Ae.jsx)(qi,{bg:"info",children:c.length})]}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-between py-2",children:[(0,Ae.jsx)("span",{children:"Professeurs principaux:"}),(0,Ae.jsx)(qi,{bg:"success",children:u.length})]}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-between py-2",children:[(0,Ae.jsx)("span",{children:"Mati\xe8res configur\xe9es:"}),(0,Ae.jsx)(qi,{bg:"secondary",children:a.length})]})]})]})})})})]})})}),(0,Ae.jsxs)(Aa,{show:h,onHide:()=>p(!1),size:"lg",children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsxs)(Aa.Title,{children:["Affecter une mati\xe8re \xe0 ",(null===g||void 0===g?void 0:g.full_name)||`${null===g||void 0===g?void 0:g.last_name} ${null===g||void 0===g?void 0:g.first_name}`]})}),(0,Ae.jsxs)(El,{onSubmit:async e=>{if(e.preventDefault(),g&&E.series_subject_id)try{const e="current"===b?null:b,t={teacher_id:g.id,series_subject_id:E.series_subject_id};null!==e&&(t.school_year_id=e);const n=await Ft.teacherAssignments.create(t);n.success?(br().fire("Succ\xe8s!",n.message||"Enseignant affect\xe9 avec succ\xe8s","success"),p(!1),T()):br().fire("Erreur",n.message||"Erreur lors de l'affectation","error")}catch(t){console.error("Erreur lors de l'affectation:",t);let e="Une erreur est survenue";t.message?e=t.message:t.response&&t.response.data&&t.response.data.message&&(e=t.response.data.message),br().fire("Erreur",e,"error")}else br().fire("Erreur","Veuillez s\xe9lectionner une mati\xe8re","error")},children:[(0,Ae.jsxs)(Aa.Body,{children:[(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:["Mati\xe8re disponible ",(0,Ae.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Ae.jsxs)(El.Select,{value:E.series_subject_id,onChange:e=>S(t=>({...t,series_subject_id:e.target.value})),required:!0,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner une mati\xe8re configur\xe9e..."}),j.map(e=>{var t,n,r;return(0,Ae.jsxs)("option",{value:e.id,children:[null===(t=e.subject)||void 0===t?void 0:t.name," - ",null===(n=e.school_class)||void 0===n?void 0:n.name,(null===(r=e.school_class)||void 0===r?void 0:r.level)&&` (${e.school_class.level.name})`,"- Coeff: ",e.coefficient]},e.id)})]}),0===j.length&&(0,Ae.jsx)(El.Text,{className:"text-warning",children:"Aucune mati\xe8re disponible pour cet enseignant. Assurez-vous que les mati\xe8res sont configur\xe9es dans les s\xe9ries."})]}),(0,Ae.jsxs)(gi,{variant:"info",children:[(0,Ae.jsx)("strong",{children:"Information:"}),' Seules les mati\xe8res pr\xe9alablement configur\xe9es pour les s\xe9ries apparaissent ici. Pour ajouter de nouvelles mati\xe8res, utilisez d\'abord la "Configuration S\xe9rie-Mati\xe8res".']})]}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:()=>p(!1),children:"Annuler"}),(0,Ae.jsxs)(Da,{variant:"primary",type:"submit",disabled:!E.series_subject_id||0===j.length,children:[(0,Ae.jsx)(rg,{className:"me-2"}),"Affecter"]})]})]})]}),(0,Ae.jsxs)(Aa,{show:f,onHide:()=>v(!1),size:"lg",children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsx)(Aa.Title,{children:"D\xe9signer un Professeur Principal"})}),(0,Ae.jsxs)(El,{onSubmit:async e=>{if(e.preventDefault(),g&&k.school_class_id)try{const e="current"===b?null:b,t={teacher_id:g.id,school_class_id:k.school_class_id};null!==e&&(t.school_year_id=e);const n=await Ft.mainTeachers.create(t);n.success?(br().fire("Succ\xe8s!",n.message||"Professeur principal d\xe9sign\xe9 avec succ\xe8s","success"),v(!1),T()):br().fire("Erreur",n.message||"Erreur lors de la d\xe9signation","error")}catch(t){console.error("Erreur lors de la d\xe9signation:",t);let e="Une erreur est survenue";t.message?e=t.message:t.response&&t.response.data&&t.response.data.message&&(e=t.response.data.message),br().fire("Erreur",e,"error")}else br().fire("Erreur","Veuillez s\xe9lectionner un enseignant et une classe","error")},children:[(0,Ae.jsxs)(Aa.Body,{children:[(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:["Enseignant ",(0,Ae.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Ae.jsxs)(El.Select,{value:(null===g||void 0===g?void 0:g.id)||"",onChange:e=>{const t=r.find(t=>t.id===parseInt(e.target.value));x(t)},required:!0,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner un enseignant..."}),r.map(e=>(0,Ae.jsx)("option",{value:e.id,children:e.full_name||`${e.last_name} ${e.first_name}`},e.id))]})]})}),(0,Ae.jsx)(Ja,{md:6,children:(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsxs)(El.Label,{children:["Classe ",(0,Ae.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Ae.jsxs)(El.Select,{value:k.school_class_id,onChange:e=>_(t=>({...t,school_class_id:e.target.value})),required:!0,children:[(0,Ae.jsx)("option",{value:"",children:"S\xe9lectionner une classe..."}),N.map(e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.name," ",e.level&&`(${e.level.name})`]},e.id))]})]})})]}),(0,Ae.jsxs)(gi,{variant:"warning",children:[(0,Ae.jsx)("strong",{children:"Important:"})," Un enseignant ne peut \xeatre professeur principal que d'une seule classe par ann\xe9e scolaire. Une classe ne peut avoir qu'un seul professeur principal."]})]}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:()=>v(!1),children:"Annuler"}),(0,Ae.jsxs)(Da,{variant:"success",type:"submit",disabled:!g||!k.school_class_id,children:[(0,Ae.jsx)(Vn,{className:"me-2"}),"D\xe9signer"]})]})]})]})]})},Pg=t.forwardRef((e,t)=>{let{active:n=!1,disabled:r=!1,className:s,style:a,activeLabel:i="(current)",children:l,linkStyle:o,linkClassName:c,as:d=hi,...u}=e;const m=n||r?"span":d;return(0,Ae.jsx)("li",{ref:t,style:a,className:vt()(s,"page-item",{active:n,disabled:r}),children:(0,Ae.jsxs)(m,{className:vt()("page-link",c),style:o,...u,children:[l,n&&i&&(0,Ae.jsx)("span",{className:"visually-hidden",children:i})]})})});Pg.displayName="PageItem";const zg=Pg;function Tg(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const s=t.forwardRef((e,t)=>{let{children:s,...a}=e;return(0,Ae.jsxs)(Pg,{...a,ref:t,children:[(0,Ae.jsx)("span",{"aria-hidden":"true",children:s||n}),(0,Ae.jsx)("span",{className:"visually-hidden",children:r})]})});return s.displayName=e,s}const Ag=Tg("First","\xab"),Rg=Tg("Prev","\u2039","Previous"),Lg=Tg("Ellipsis","\u2026","More"),Mg=Tg("Next","\u203a"),Bg=Tg("Last","\xbb"),Ig=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,size:s,...a}=e;const i=wt(n,"pagination");return(0,Ae.jsx)("ul",{ref:t,...a,className:vt()(r,i,s&&`${i}-${s}`)})});Ig.displayName="Pagination";const Dg=Object.assign(Ig,{First:Ag,Prev:Rg,Ellipsis:Lg,Item:zg,Next:Mg,Last:Bg});var $g=["color","size","title","className"];function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fg.apply(null,arguments)}var Ug=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,$g);return t.createElement("svg",Fg({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-clock",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z"}),t.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0"}))});Ug.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Hg=Ug;var Vg=["color","size","title","className"];function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qg.apply(null,arguments)}var Wg=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Vg);return t.createElement("svg",qg({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-x-circle",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),t.createElement("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"}))});Wg.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Gg=Wg,Kg=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[a,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[u,m]=(0,t.useState)({name:"",description:"",amount:""}),[h,p]=(0,t.useState)(1),[f,v]=(0,t.useState)(1),[g,x]=(0,t.useState)({status:""}),[b,y]=(0,t.useState)(""),[j,w]=(0,t.useState)("");(0,t.useEffect)(()=>{N()},[h,g]);const N=async()=>{try{s(!0);const e={page:h,per_page:10,...g},t=await Ft.needs.getMyNeeds(e);t.success?(n(t.data.data),p(t.data.current_page),v(t.data.last_page)):y(t.message)}catch(b){y(hg(b))}finally{s(!1)}},C=async e=>{e.preventDefault();try{i(!0),y(""),w("");const e=await Ft.needs.create(u);e.success?(w("Besoin soumis avec succ\xe8s"),o(!1),m({name:"",description:"",amount:""}),N(),br().fire({title:"Succ\xe8s !",text:"Votre besoin a \xe9t\xe9 soumis avec succ\xe8s. Vous recevrez une notification une fois qu'il aura \xe9t\xe9 trait\xe9.",icon:"success",confirmButtonText:"OK"})):y(e.message)}catch(b){y(hg(b))}finally{i(!1)}},E=e=>{const t={pending:{variant:"warning",icon:Hg,text:"En attente"},approved:{variant:"success",icon:Qo,text:"Approuv\xe9"},rejected:{variant:"danger",icon:Gg,text:"Rejet\xe9"}},n=t[e]||t.pending,r=n.icon;return(0,Ae.jsxs)(qi,{bg:n.variant,className:"d-flex align-items-center gap-1",children:[(0,Ae.jsx)(r,{size:12}),n.text]})},S=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XAF",minimumFractionDigits:0,maximumFractionDigits:0}).format(e).replace("XAF","FCFA"),k=e=>new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,Ae.jsxs)(Ka,{fluid:!0,className:"py-4",children:[(0,Ae.jsx)(Xa,{className:"mb-4",children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{children:"Mes Besoins"}),(0,Ae.jsx)("p",{className:"text-muted",children:"G\xe9rez vos demandes de besoins"})]}),(0,Ae.jsxs)(Da,{variant:"primary",onClick:()=>{d(null),m({name:"",description:"",amount:""}),o(!0)},children:[(0,Ae.jsx)(nn,{className:"me-2"}),"Nouveau Besoin"]})]})})}),b&&(0,Ae.jsx)(gi,{variant:"danger",dismissible:!0,onClose:()=>y(""),children:b}),j&&(0,Ae.jsx)(gi,{variant:"success",dismissible:!0,onClose:()=>w(""),children:j}),(0,Ae.jsx)(Fi,{className:"mb-4",children:(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsx)(Xa,{children:(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{children:"Statut"}),(0,Ae.jsxs)(El.Select,{value:g.status,onChange:e=>{x({...g,status:e.target.value}),p(1)},children:[(0,Ae.jsx)("option",{value:"",children:"Tous les statuts"}),(0,Ae.jsx)("option",{value:"pending",children:"En attente"}),(0,Ae.jsx)("option",{value:"approved",children:"Approuv\xe9"}),(0,Ae.jsx)("option",{value:"rejected",children:"Rejet\xe9"})]})]})})})})}),(0,Ae.jsxs)(Fi,{children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsx)("h5",{className:"mb-0",children:"Liste de mes besoins"})}),(0,Ae.jsx)(Fi.Body,{children:r?(0,Ae.jsx)("div",{className:"text-center py-4",children:(0,Ae.jsx)(kt,{animation:"border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement..."})})}):0===e.length?(0,Ae.jsxs)("div",{className:"text-center py-4",children:[(0,Ae.jsx)(Iv,{size:48,className:"text-muted mb-3"}),(0,Ae.jsx)("p",{className:"text-muted",children:"Aucun besoin trouv\xe9"}),(0,Ae.jsxs)(Da,{variant:"primary",onClick:()=>{d(null),m({name:"",description:"",amount:""}),o(!0)},children:[(0,Ae.jsx)(nn,{className:"me-2"}),"Soumettre votre premier besoin"]})]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)(Hi,{responsive:!0,hover:!0,children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Besoin"}),(0,Ae.jsx)("th",{children:"Montant"}),(0,Ae.jsx)("th",{children:"Statut"}),(0,Ae.jsx)("th",{children:"Date de soumission"}),(0,Ae.jsx)("th",{children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:e.map(e=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("strong",{children:e.name}),(0,Ae.jsx)("div",{className:"text-muted small",children:e.description.length>100?`${e.description.substring(0,100)}...`:e.description})]})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("strong",{className:"text-primary",children:S(e.amount)})}),(0,Ae.jsx)("td",{children:E(e.status)}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("small",{className:"text-muted",children:k(e.created_at)})}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)(Da,{variant:"outline-primary",size:"sm",onClick:()=>(async e=>{try{const t=await Ft.needs.getById(e.id);t.success&&(d(t.data),o(!0))}catch(b){y(hg(b))}})(e),children:[(0,Ae.jsx)(Mr,{size:14,className:"me-1"}),"Voir"]})})]},e.id))})]}),f>1&&(0,Ae.jsx)("div",{className:"d-flex justify-content-center",children:(0,Ae.jsxs)(Dg,{children:[(0,Ae.jsx)(Dg.Prev,{disabled:1===h,onClick:()=>p(h-1)}),[...Array(f)].map((e,t)=>(0,Ae.jsx)(Dg.Item,{active:t+1===h,onClick:()=>p(t+1),children:t+1},t+1)),(0,Ae.jsx)(Dg.Next,{disabled:h===f,onClick:()=>p(h+1)})]})})]})})]}),(0,Ae.jsxs)(Aa,{show:l,onHide:()=>o(!1),size:"lg",children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsx)(Aa.Title,{children:c?"D\xe9tails du Besoin":"Nouveau Besoin"})}),(0,Ae.jsx)(Aa.Body,{children:c?(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)(Xa,{className:"mb-3",children:[(0,Ae.jsxs)(Ja,{md:6,children:[(0,Ae.jsx)("strong",{children:"Nom du besoin:"}),(0,Ae.jsx)("p",{children:c.name})]}),(0,Ae.jsxs)(Ja,{md:6,children:[(0,Ae.jsx)("strong",{children:"Montant:"}),(0,Ae.jsx)("p",{className:"text-primary",children:S(c.amount)})]})]}),(0,Ae.jsxs)(Xa,{className:"mb-3",children:[(0,Ae.jsxs)(Ja,{md:6,children:[(0,Ae.jsx)("strong",{children:"Statut:"}),(0,Ae.jsx)("p",{children:E(c.status)})]}),(0,Ae.jsxs)(Ja,{md:6,children:[(0,Ae.jsx)("strong",{children:"Date de soumission:"}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)(Do,{className:"me-1"}),k(c.created_at)]})]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("strong",{children:"Description:"}),(0,Ae.jsx)("p",{children:c.description})]}),c.approved_by&&(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("strong",{children:"Trait\xe9 par:"}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)(kc,{className:"me-1"}),c.approved_by.name]}),(0,Ae.jsxs)("small",{className:"text-muted",children:["Le ",k(c.approved_at)]})]}),c.rejection_reason&&(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("strong",{children:"Motif du rejet:"}),(0,Ae.jsx)("div",{className:"alert alert-danger",children:c.rejection_reason})]})]}):(0,Ae.jsxs)(El,{onSubmit:C,children:[(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Nom du besoin *"}),(0,Ae.jsx)(El.Control,{type:"text",placeholder:"Ex: Mat\xe9riel informatique, Fournitures...",value:u.name,onChange:e=>m({...u,name:e.target.value}),required:!0})]}),(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Montant estim\xe9 (FCFA) *"}),(0,Ae.jsx)(El.Control,{type:"number",min:"0",step:"1",placeholder:"0",value:u.amount,onChange:e=>m({...u,amount:e.target.value}),required:!0})]}),(0,Ae.jsxs)(El.Group,{className:"mb-3",children:[(0,Ae.jsx)(El.Label,{children:"Description d\xe9taill\xe9e *"}),(0,Ae.jsx)(El.Control,{as:"textarea",rows:4,placeholder:"D\xe9crivez pr\xe9cis\xe9ment votre besoin, sa justification et son usage pr\xe9vu...",value:u.description,onChange:e=>m({...u,description:e.target.value}),required:!0}),(0,Ae.jsx)(El.Text,{className:"text-muted",children:"Plus votre description est d\xe9taill\xe9e, plus votre demande a de chances d'\xeatre approuv\xe9e."})]})]})}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:()=>o(!1),children:c?"Fermer":"Annuler"}),!c&&(0,Ae.jsx)(Da,{variant:"primary",onClick:C,disabled:a,children:a?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(kt,{animation:"border",size:"sm",className:"me-2"}),"Soumission..."]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Lo,{className:"me-2"}),"Soumettre le Besoin"]})})]})]})]})};const Yg=2**31-1;function Xg(e,t,n){const r=n-Date.now();e.current=r<=Yg?setTimeout(t,r):setTimeout(()=>Xg(e,t,n),Yg)}function Qg(){const e=function(){const e=(0,t.useRef)(!0),n=(0,t.useRef)(()=>e.current);return(0,t.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),n.current}(),n=(0,t.useRef)();return Xr(()=>clearTimeout(n.current)),(0,t.useMemo)(()=>{const t=()=>clearTimeout(n.current);return{set:function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(t(),s<=Yg?n.current=setTimeout(r,s):Xg(n,r,Date.now()+s))},clear:t,handleRef:n}},[])}const Jg=()=>{};const Zg=function(e,n){let{disabled:r,clickTrigger:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=n||Jg;Zu(e,a,{disabled:r,clickTrigger:s});const i=ms(e=>{Cs(e)&&a(e)});(0,t.useEffect)(()=>{if(r||null==e)return;const t=Ur(Qu(e));let n=(t.defaultView||window).event;const s=rs(t,"keyup",e=>{e!==n?i(e):n=void 0});return()=>{s()}},[e,r,i])},ex=t.forwardRef((e,n)=>{const{flip:r,offset:s,placement:i,containerPadding:l,popperConfig:o={},transition:c,runTransition:d}=e,[u,m]=di(),[h,p]=di(),f=js(m,n),v=bs(e.container),g=bs(e.target),[x,b]=(0,t.useState)(!e.show),y=Yu(g,u,tm({placement:i,enableEvents:!!e.show,containerPadding:l||5,flip:r,offset:s,arrowElement:h,popperConfig:o}));e.show&&x&&b(!1);const j=e.show||!x;if(Zg(u,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!j)return null;const{onExit:w,onExiting:N,onEnter:C,onEntering:E,onEntered:S}=e;let k=e.children(Object.assign({},y.attributes.popper,{style:y.styles.popper,ref:f}),{popper:y,placement:i,show:!!e.show,arrowProps:Object.assign({},y.attributes.arrow,{style:y.styles.arrow,ref:p})});return k=zs(c,d,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:k,onExit:w,onExiting:N,onExited:function(){b(!0),e.onExited&&e.onExited(...arguments)},onEnter:C,onEntering:E,onEntered:S}),v?a.createPortal(k,v):null});ex.displayName="Overlay";const tx=ex,nx=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="div",...a}=e;return r=wt(r,"popover-header"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});nx.displayName="PopoverHeader";const rx=nx,sx=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:s="div",...a}=e;return r=wt(r,"popover-body"),(0,Ae.jsx)(s,{ref:t,className:vt()(n,r),...a})});sx.displayName="PopoverBody";const ax=sx;t.Component;function ix(e,t){let n=e;return"left"===e?n=t?"end":"start":"right"===e&&(n=t?"start":"end"),n}function lx(){return{position:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"absolute",top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const ox=t.forwardRef((e,t)=>{let{bsPrefix:n,placement:r="right",className:s,style:a,children:i,body:l,arrowProps:o,hasDoneInitialMeasure:c,popper:d,show:u,...m}=e;const h=wt(n,"popover"),p=Et(),[f]=(null==r?void 0:r.split("-"))||[],v=ix(f,p);let g=a;return u&&!c&&(g={...a,...lx(null==d?void 0:d.strategy)}),(0,Ae.jsxs)("div",{ref:t,role:"tooltip",style:g,"x-placement":f,className:vt()(s,h,f&&`bs-popover-${v}`),...m,children:[(0,Ae.jsx)("div",{className:"popover-arrow",...o}),l?(0,Ae.jsx)(ax,{children:i}):i]})});ox.displayName="Popover";const cx=Object.assign(ox,{Header:rx,Body:ax,POPPER_OFFSET:[0,8]}),dx=t.forwardRef((e,t)=>{let{bsPrefix:n,placement:r="right",className:s,style:a,children:i,arrowProps:l,hasDoneInitialMeasure:o,popper:c,show:d,...u}=e;n=wt(n,"tooltip");const m=Et(),[h]=(null==r?void 0:r.split("-"))||[],p=ix(h,m);let f=a;return d&&!o&&(f={...a,...lx(null==c?void 0:c.strategy)}),(0,Ae.jsxs)("div",{ref:t,style:f,role:"tooltip","x-placement":h,className:vt()(s,n,`bs-tooltip-${p}`),...u,children:[(0,Ae.jsx)("div",{className:"tooltip-arrow",...l}),(0,Ae.jsx)("div",{className:`${n}-inner`,children:i})]})});dx.displayName="Tooltip";const ux=Object.assign(dx,{TOOLTIP_OFFSET:[0,6]});const mx=t.forwardRef((e,n)=>{let{children:r,transition:s=ua,popperConfig:a={},rootClose:i=!1,placement:l="top",show:o=!1,...c}=e;const d=(0,t.useRef)({}),[u,m]=(0,t.useState)(null),[h,p]=function(e){const n=(0,t.useRef)(null),r=wt(void 0,"popover"),s=wt(void 0,"tooltip"),a=(0,t.useMemo)(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(n.current){if(Bs(n.current,r))return cx.POPPER_OFFSET;if(Bs(n.current,s))return ux.TOOLTIP_OFFSET}return[0,0]}}}),[e,r,s]);return[n,[a]]}(c.offset),f=Yr(n,h),v=!0===s?ua:s||void 0,g=Gr(e=>{m(e),null==a||null==a.onFirstUpdate||a.onFirstUpdate(e)});return Dm(()=>{u&&c.target&&(null==d.current.scheduleUpdate||d.current.scheduleUpdate())},[u,c.target]),(0,t.useEffect)(()=>{o||m(null)},[o]),(0,Ae.jsx)(tx,{...c,ref:f,popperConfig:{...a,modifiers:p.concat(a.modifiers||[]),onFirstUpdate:g},transition:v,rootClose:i,placement:l,show:o,children:(e,n)=>{let{arrowProps:i,popper:l,show:o}=n;var c;!function(e,t){const{ref:n}=e,{ref:r}=t;e.ref=n.__wrapped||(n.__wrapped=e=>n(ia(e))),t.ref=r.__wrapped||(r.__wrapped=e=>r(ia(e)))}(e,i);const m=null==l?void 0:l.placement,h=Object.assign(d.current,{state:null==l?void 0:l.state,scheduleUpdate:null==l?void 0:l.update,placement:m,outOfBoundaries:(null==l||null==(c=l.state)||null==(c=c.modifiersData.hide)?void 0:c.isReferenceHidden)||!1,strategy:a.strategy}),p=!!u;return"function"===typeof r?r({...e,placement:m,show:o,...!s&&o&&{className:"show"},popper:h,arrowProps:i,hasDoneInitialMeasure:p}):t.cloneElement(r,{...e,placement:m,arrowProps:i,popper:h,hasDoneInitialMeasure:p,className:vt()(r.props.className,!s&&o&&"show"),style:{...r.props.style,...e.style}})}})});mx.displayName="Overlay";const hx=mx;function px(e,t,n){const[r]=t,s=r.currentTarget,a=r.relatedTarget||r.nativeEvent[n];a&&a===s||ls(s,a)||e(...t)}Ue().oneOf(["click","hover","focus"]);const fx=e=>{let{trigger:n=["hover","focus"],overlay:r,children:s,popperConfig:a={},show:i,defaultShow:l=!1,onToggle:o,delay:c,placement:d,flip:u=d&&-1!==d.indexOf("auto"),...m}=e;const h=(0,t.useRef)(null),p=Yr(h,Es(s)),f=Qg(),v=(0,t.useRef)(""),[g,x]=ni(i,l,o),b=function(e){return e&&"object"===typeof e?e:{show:e,hide:e}}(c),{onFocus:y,onBlur:j,onClick:w}="function"!==typeof s?t.Children.only(s).props:{},N=(0,t.useCallback)(()=>{f.clear(),v.current="show",b.show?f.set(()=>{"show"===v.current&&x(!0)},b.show):x(!0)},[b.show,x,f]),C=(0,t.useCallback)(()=>{f.clear(),v.current="hide",b.hide?f.set(()=>{"hide"===v.current&&x(!1)},b.hide):x(!1)},[b.hide,x,f]),E=(0,t.useCallback)(function(){N(),null==y||y(...arguments)},[N,y]),S=(0,t.useCallback)(function(){C(),null==j||j(...arguments)},[C,j]),k=(0,t.useCallback)(function(){x(!g),null==w||w(...arguments)},[w,x,g]),_=(0,t.useCallback)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];px(N,t,"fromElement")},[N]),O=(0,t.useCallback)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];px(C,t,"toElement")},[C]),P=null==n?[]:[].concat(n),z={ref:e=>{p(ia(e))}};return-1!==P.indexOf("click")&&(z.onClick=k),-1!==P.indexOf("focus")&&(z.onFocus=E,z.onBlur=S),-1!==P.indexOf("hover")&&(z.onMouseOver=_,z.onMouseOut=O),(0,Ae.jsxs)(Ae.Fragment,{children:["function"===typeof s?s(z):(0,t.cloneElement)(s,z),(0,Ae.jsx)(hx,{...m,show:g,onHide:C,flip:u,placement:d,popperConfig:a,target:h.current,children:r})]})};var vx=["color","size","title","className"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gx.apply(null,arguments)}var xx=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,vx);return t.createElement("svg",gx({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-bar-chart",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M4 11H2v3h2zm5-4H7v7h2zm5-5v12h-2V2zm-2-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM6 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm-5 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1z"}))});xx.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const bx=xx,yx=()=>{var e;const[n,r]=(0,t.useState)([]),[s,a]=(0,t.useState)({}),[i,l]=(0,t.useState)(!0),[o,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(!1),[v,g]=(0,t.useState)(""),[x,b]=(0,t.useState)(1),[y,j]=(0,t.useState)(1),[w,N]=(0,t.useState)({status:"",search:"",from_date:"",to_date:""}),[C,E]=(0,t.useState)(""),[S,k]=(0,t.useState)("");(0,t.useEffect)(()=>{_(),O()},[x,w]);const _=async()=>{try{l(!0);const e={page:x,per_page:15,...w};Object.keys(e).forEach(t=>{""===e[t]&&delete e[t]});const t=await Ft.needs.getAll(e);t.success?(r(t.data.data),b(t.data.current_page),j(t.data.last_page)):E(t.message)}catch(C){E(hg(C))}finally{l(!1)}},O=async()=>{try{const e=await Ft.needs.getStatistics();e.success&&a(e.data)}catch(C){console.error("Erreur lors du chargement des statistiques:",C)}},P=async e=>{if((await br().fire({title:"Approuver ce besoin ?",text:"Cette action enverra une notification au demandeur.",icon:"question",showCancelButton:!0,confirmButtonText:"Oui, approuver",cancelButtonText:"Annuler",confirmButtonColor:"#28a745"})).isConfirmed)try{c(!0);const t=await Ft.needs.approve(e);t.success?(k("Besoin approuv\xe9 avec succ\xe8s"),_(),O(),u(!1)):E(t.message)}catch(C){E(hg(C))}finally{c(!1)}},z=e=>{h(e),g(""),f(!0)},T=e=>{const t={pending:{variant:"warning",icon:Hg,text:"En attente"},approved:{variant:"success",icon:Qo,text:"Approuv\xe9"},rejected:{variant:"danger",icon:Gg,text:"Rejet\xe9"}},n=t[e]||t.pending,r=n.icon;return(0,Ae.jsxs)(qi,{bg:n.variant,className:"d-flex align-items-center gap-1",children:[(0,Ae.jsx)(r,{size:12}),n.text]})},A=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XAF",minimumFractionDigits:0,maximumFractionDigits:0}).format(e).replace("XAF","FCFA"),R=e=>new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,Ae.jsxs)(Ka,{fluid:!0,className:"py-4",children:[(0,Ae.jsx)(Xa,{className:"mb-4",children:(0,Ae.jsx)(Ja,{children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{children:"Gestion des Besoins"}),(0,Ae.jsx)("p",{className:"text-muted",children:"G\xe9rez les demandes de besoins des utilisateurs"})]}),(0,Ae.jsxs)(Da,{variant:"outline-success",onClick:async()=>{try{c(!0);const e=await Ft.needs.testWhatsApp();e.success?br().fire({title:"Test r\xe9ussi !",text:e.message,icon:"success",confirmButtonText:"OK"}):br().fire({title:"Test \xe9chou\xe9",text:e.message,icon:"error",confirmButtonText:"OK"})}catch(C){br().fire({title:"Erreur",text:hg(C),icon:"error",confirmButtonText:"OK"})}finally{c(!1)}},disabled:o,children:[(0,Ae.jsx)(Go,{className:"me-2"}),"Tester WhatsApp"]})]})})}),C&&(0,Ae.jsx)(gi,{variant:"danger",dismissible:!0,onClose:()=>E(""),children:C}),S&&(0,Ae.jsx)(gi,{variant:"success",dismissible:!0,onClose:()=>k(""),children:S}),s.summary&&(0,Ae.jsxs)(Xa,{className:"mb-4",children:[(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"bg-primary text-white",children:(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h5",{children:"Total"}),(0,Ae.jsx)("h3",{children:s.summary.total})]}),(0,Ae.jsx)(bx,{size:40})]})})})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"bg-warning text-white",children:(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h5",{children:"En attente"}),(0,Ae.jsx)("h3",{children:s.summary.pending}),(0,Ae.jsx)("small",{children:A(s.summary.total_amount_pending)})]}),(0,Ae.jsx)(Hg,{size:40})]})})})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"bg-success text-white",children:(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h5",{children:"Approuv\xe9s"}),(0,Ae.jsx)("h3",{children:s.summary.approved}),(0,Ae.jsx)("small",{children:A(s.summary.total_amount_approved)})]}),(0,Ae.jsx)(Qo,{size:40})]})})})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsx)(Fi,{className:"bg-danger text-white",children:(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h5",{children:"Rejet\xe9s"}),(0,Ae.jsx)("h3",{children:s.summary.rejected}),(0,Ae.jsx)("small",{children:A(s.summary.total_amount_rejected)})]}),(0,Ae.jsx)(Gg,{size:40})]})})})})]}),(0,Ae.jsx)(Fi,{className:"mb-4",children:(0,Ae.jsx)(Fi.Body,{children:(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{children:"Statut"}),(0,Ae.jsxs)(El.Select,{value:w.status,onChange:e=>{N({...w,status:e.target.value}),b(1)},children:[(0,Ae.jsx)("option",{value:"",children:"Tous les statuts"}),(0,Ae.jsx)("option",{value:"pending",children:"En attente"}),(0,Ae.jsx)("option",{value:"approved",children:"Approuv\xe9"}),(0,Ae.jsx)("option",{value:"rejected",children:"Rejet\xe9"})]})]})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{children:"Recherche"}),(0,Ae.jsx)(El.Control,{type:"text",placeholder:"Nom ou description...",value:w.search,onChange:e=>{N({...w,search:e.target.value}),b(1)}})]})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{children:"Date de d\xe9but"}),(0,Ae.jsx)(El.Control,{type:"date",value:w.from_date,onChange:e=>{N({...w,from_date:e.target.value}),b(1)}})]})}),(0,Ae.jsx)(Ja,{md:3,children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{children:"Date de fin"}),(0,Ae.jsx)(El.Control,{type:"date",value:w.to_date,onChange:e=>{N({...w,to_date:e.target.value}),b(1)}})]})})]})})}),(0,Ae.jsxs)(Fi,{children:[(0,Ae.jsx)(Fi.Header,{children:(0,Ae.jsxs)("h5",{className:"mb-0",children:["Liste des besoins (",(null===(e=s.summary)||void 0===e?void 0:e.total)||0,")"]})}),(0,Ae.jsx)(Fi.Body,{children:i?(0,Ae.jsx)("div",{className:"text-center py-4",children:(0,Ae.jsx)(kt,{animation:"border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Chargement..."})})}):0===n.length?(0,Ae.jsxs)("div",{className:"text-center py-4",children:[(0,Ae.jsx)(Iv,{size:48,className:"text-muted mb-3"}),(0,Ae.jsx)("p",{className:"text-muted",children:"Aucun besoin trouv\xe9"})]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)(Hi,{responsive:!0,hover:!0,children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Demandeur"}),(0,Ae.jsx)("th",{children:"Besoin"}),(0,Ae.jsx)("th",{children:"Montant"}),(0,Ae.jsx)("th",{children:"Statut"}),(0,Ae.jsx)("th",{children:"Date"}),(0,Ae.jsx)("th",{children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:n.map(e=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)(kc,{className:"me-1"}),(0,Ae.jsx)("strong",{children:e.user.name}),(0,Ae.jsx)("div",{className:"text-muted small",children:e.user.email})]})}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("strong",{children:e.name}),(0,Ae.jsx)("div",{className:"text-muted small",children:e.description.length>80?`${e.description.substring(0,80)}...`:e.description})]})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("strong",{className:"text-primary",children:A(e.amount)})}),(0,Ae.jsx)("td",{children:T(e.status)}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("small",{className:"text-muted",children:R(e.created_at)})}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)(gc,{size:"sm",children:[(0,Ae.jsx)(fx,{overlay:(0,Ae.jsx)(ux,{children:"Voir les d\xe9tails"}),children:(0,Ae.jsx)(Da,{variant:"outline-primary",onClick:()=>(async e=>{try{const t=await Ft.needs.getById(e.id);t.success&&(h(t.data),u(!0))}catch(C){E(hg(C))}})(e),children:(0,Ae.jsx)(Mr,{size:14})})}),"pending"===e.status&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(fx,{overlay:(0,Ae.jsx)(ux,{children:"Approuver"}),children:(0,Ae.jsx)(Da,{variant:"outline-success",onClick:()=>P(e.id),disabled:o,children:(0,Ae.jsx)(Qo,{size:14})})}),(0,Ae.jsx)(fx,{overlay:(0,Ae.jsx)(ux,{children:"Rejeter"}),children:(0,Ae.jsx)(Da,{variant:"outline-danger",onClick:()=>z(e),disabled:o,children:(0,Ae.jsx)(Gg,{size:14})})})]})]})})]},e.id))})]}),y>1&&(0,Ae.jsx)("div",{className:"d-flex justify-content-center",children:(0,Ae.jsxs)(Dg,{children:[(0,Ae.jsx)(Dg.Prev,{disabled:1===x,onClick:()=>b(x-1)}),[...Array(y)].map((e,t)=>(0,Ae.jsx)(Dg.Item,{active:t+1===x,onClick:()=>b(t+1),children:t+1},t+1)),(0,Ae.jsx)(Dg.Next,{disabled:x===y,onClick:()=>b(x+1)})]})})]})})]}),(0,Ae.jsxs)(Aa,{show:d,onHide:()=>u(!1),size:"lg",children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsx)(Aa.Title,{children:"D\xe9tails du Besoin"})}),(0,Ae.jsx)(Aa.Body,{children:m&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)(Xa,{className:"mb-3",children:[(0,Ae.jsxs)(Ja,{md:6,children:[(0,Ae.jsx)("strong",{children:"Demandeur:"}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)(kc,{className:"me-1"}),m.user.name]}),(0,Ae.jsx)("small",{className:"text-muted",children:m.user.email})]}),(0,Ae.jsxs)(Ja,{md:6,children:[(0,Ae.jsx)("strong",{children:"Statut:"}),(0,Ae.jsx)("p",{children:T(m.status)})]})]}),(0,Ae.jsxs)(Xa,{className:"mb-3",children:[(0,Ae.jsxs)(Ja,{md:6,children:[(0,Ae.jsx)("strong",{children:"Nom du besoin:"}),(0,Ae.jsx)("p",{children:m.name})]}),(0,Ae.jsxs)(Ja,{md:6,children:[(0,Ae.jsx)("strong",{children:"Montant:"}),(0,Ae.jsx)("p",{className:"text-primary",children:A(m.amount)})]})]}),(0,Ae.jsx)(Xa,{className:"mb-3",children:(0,Ae.jsxs)(Ja,{children:[(0,Ae.jsx)("strong",{children:"Description:"}),(0,Ae.jsx)("p",{children:m.description})]})}),(0,Ae.jsxs)(Xa,{className:"mb-3",children:[(0,Ae.jsxs)(Ja,{md:6,children:[(0,Ae.jsx)("strong",{children:"Date de soumission:"}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)(Do,{className:"me-1"}),R(m.created_at)]})]}),m.approved_by&&(0,Ae.jsxs)(Ja,{md:6,children:[(0,Ae.jsx)("strong",{children:"Trait\xe9 par:"}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)(kc,{className:"me-1"}),m.approved_by.name]}),(0,Ae.jsxs)("small",{className:"text-muted",children:["Le ",R(m.approved_at)]})]})]}),m.rejection_reason&&(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("strong",{children:"Motif du rejet:"}),(0,Ae.jsx)("div",{className:"alert alert-danger",children:m.rejection_reason})]})]})}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:()=>u(!1),children:"Fermer"}),m&&"pending"===m.status&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)(Da,{variant:"success",onClick:()=>P(m.id),disabled:o,children:[(0,Ae.jsx)(Qo,{className:"me-2"}),"Approuver"]}),(0,Ae.jsxs)(Da,{variant:"danger",onClick:()=>z(m),disabled:o,children:[(0,Ae.jsx)(Gg,{className:"me-2"}),"Rejeter"]})]})]})]}),(0,Ae.jsxs)(Aa,{show:p,onHide:()=>f(!1),children:[(0,Ae.jsx)(Aa.Header,{closeButton:!0,children:(0,Ae.jsx)(Aa.Title,{children:"Rejeter le Besoin"})}),(0,Ae.jsx)(Aa.Body,{children:(0,Ae.jsxs)(El.Group,{children:[(0,Ae.jsx)(El.Label,{children:"Motif du rejet *"}),(0,Ae.jsx)(El.Control,{as:"textarea",rows:4,placeholder:"Expliquez pourquoi ce besoin ne peut pas \xeatre approuv\xe9...",value:v,onChange:e=>g(e.target.value),required:!0}),(0,Ae.jsx)(El.Text,{className:"text-muted",children:"Ce motif sera communiqu\xe9 au demandeur via WhatsApp."})]})}),(0,Ae.jsxs)(Aa.Footer,{children:[(0,Ae.jsx)(Da,{variant:"secondary",onClick:()=>f(!1),children:"Annuler"}),(0,Ae.jsx)(Da,{variant:"danger",onClick:async()=>{if(v.trim())try{c(!0);const e=await Ft.needs.reject(m.id,{rejection_reason:v});e.success?(k("Besoin rejet\xe9 avec succ\xe8s"),_(),O(),f(!1),u(!1)):E(e.message)}catch(C){E(hg(C))}finally{c(!1)}else E("Le motif du rejet est obligatoire")},disabled:o||!v.trim(),children:o?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(kt,{animation:"border",size:"sm",className:"me-2"}),"Rejet..."]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Gg,{className:"me-2"}),"Confirmer le Rejet"]})})]})]})]})};var jx=["color","size","title","className"];function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wx.apply(null,arguments)}var Nx=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,jx);return t.createElement("svg",wx({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-hospital-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M6 0a1 1 0 0 0-1 1v1a1 1 0 0 0-1 1v4H1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h6v-2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5V16h6a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1h-3V3a1 1 0 0 0-1-1V1a1 1 0 0 0-1-1zm2.5 5.034v1.1l.953-.55.5.867L9 7l.953.55-.5.866-.953-.55v1.1h-1v-1.1l-.953.55-.5-.866L7 7l-.953-.55.5-.866.953.55v-1.1zM2.25 9h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 2 9.75v-.5A.25.25 0 0 1 2.25 9m0 2h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5a.25.25 0 0 1 .25-.25M2 13.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zM13.25 9h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5a.25.25 0 0 1 .25-.25M13 11.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm.25 1.75h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5a.25.25 0 0 1 .25-.25"}))});Nx.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Cx=Nx;var Ex=["color","size","title","className"];function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sx.apply(null,arguments)}var kx=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Ex);return t.createElement("svg",Sx({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-book-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"}))});kx.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const _x=kx;var Ox=["color","size","title","className"];function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Px.apply(null,arguments)}var zx=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Ox);return t.createElement("svg",Px({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-file-text-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2M5 4h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1m-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5M5 8h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1m0 2h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1"}))});zx.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Tx=zx;var Ax=["color","size","title","className"];function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rx.apply(null,arguments)}var Lx=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Ax);return t.createElement("svg",Rx({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-bar-chart-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M1 11a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1zm5-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1z"}))});Lx.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Mx=Lx;var Bx=["color","size","title","className"];function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ix.apply(null,arguments)}var Dx=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Bx);return t.createElement("svg",Ix({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-clipboard-check-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5z"}),t.createElement("path",{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708"}))});Dx.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const $x=Dx;var Fx=["color","size","title","className"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ux.apply(null,arguments)}var Hx=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Fx);return t.createElement("svg",Ux({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-clipboard2-plus-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0 0-.5-.5.5.5 0 0 1-.5-.5"}),t.createElement("path",{d:"M4.085 1H3.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1h-.585q.084.236.085.5V2a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 4 2v-.5q.001-.264.085-.5M8.5 6.5V8H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V9H6a.5.5 0 0 1 0-1h1.5V6.5a.5.5 0 0 1 1 0"}))});Hx.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Vx=Hx;var qx=["color","size","title","className"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wx.apply(null,arguments)}var Gx=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,qx);return t.createElement("svg",Wx({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-person-circle",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"}),t.createElement("path",{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"}))});Gx.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Kx=Gx;var Yx=["color","size","title","className"];function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xx.apply(null,arguments)}var Qx=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Yx);return t.createElement("svg",Xx({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-box-arrow-right",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{fillRule:"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"}),t.createElement("path",{fillRule:"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"}))});Qx.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const Jx=Qx;const Zx=function(e){var n;let{isCollapsed:r,onToggle:s}=e;const a=J(),i=ee(),[l,o]=(0,t.useState)(window.innerWidth<=768),[c,d]=(0,t.useState)(!1),{user:u,isAuthenticated:m,logout:h,isLoading:p}=De(),{schoolSettings:f,getLogoUrl:v}=Ht(),{primaryColor:g,darkenColor:x,lightenColor:b,hexToRgba:y}=Wt();(0,t.useEffect)(()=>{const e=()=>{o(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const j=()=>p||!u?"":"admin"===u.role||"accountant"===u.role?u.username||u.name||"":u.name||"";if(!m||!u)return null;const w=(()=>{if(!u||!u.role)return[];const e=u.role;return"admin"===e?[{title:"Gestion Acad\xe9mique",items:[{name:"Sections",href:"/sections",icon:(0,Ae.jsx)(Cx,{})},{name:"Niveaux",href:"/levels",icon:(0,Ae.jsx)(_x,{})},{name:"Classes",href:"/school-classes",icon:(0,Ae.jsx)(Kf,{})},{name:"Mati\xe8res",href:"/subjects",icon:(0,Ae.jsx)(mg,{})},{name:"Configuration S\xe9rie-Mati\xe8res",href:"/series-subject-configuration",icon:(0,Ae.jsx)(mg,{})},{name:"Enseignants",href:"/teachers",icon:(0,Ae.jsx)(Vf,{})},{name:"Affectations & Prof. Principaux",href:"/teacher-assignments",icon:(0,Ae.jsx)(Vf,{})},{name:"Tranches Paiement",href:"/payment-tranches",icon:(0,Ae.jsx)(cr,{})}]},{title:"Outils",items:[{name:"Rechercher",href:"/search",icon:(0,Ae.jsx)(Nn,{})},{name:"Documents",href:"/docs",icon:(0,Ae.jsx)(Tx,{})},{name:"Statistiques",href:"/stats",icon:(0,Ae.jsx)(Mx,{})}]},{title:"Administration",items:[{name:"Gestion des Besoins",href:"/needs-management",icon:(0,Ae.jsx)($x,{})},{name:"Mes Besoins",href:"/my-needs",icon:(0,Ae.jsx)(Vx,{})},{name:"Utilisateurs",href:"/user-management",icon:(0,Ae.jsx)(Tr,{})},{name:"Profil",href:"/profile",icon:(0,Ae.jsx)(Kx,{})},{name:"Param\xe8tres",href:"/settings",icon:(0,Ae.jsx)(ho,{})}]}]:"accountant"===e?[{title:"Comptabilit\xe9",items:[{name:"Classes",href:"/class-comp",icon:(0,Ae.jsx)(Kf,{})},{name:"Statistiques",href:"/stats",icon:(0,Ae.jsx)(Mx,{})},{name:"Rechercher",href:"/search",icon:(0,Ae.jsx)(Nn,{})}]},{title:"Paiements",items:[{name:"\xc9tats de Paiements",href:"/payment-reports",icon:(0,Ae.jsx)(dv,{})}]},{title:"Rapports",items:[{name:"Rapports Financiers",href:"/reports",icon:(0,Ae.jsx)(Tx,{})}]},{title:"Compte",items:[{name:"Mes Besoins",href:"/my-needs",icon:(0,Ae.jsx)(Vx,{})},{name:"Profil",href:"/profile",icon:(0,Ae.jsx)(Kx,{})}]}]:[{title:"Enseignement",items:[{name:"\xc9l\xe8ves",href:"/students/"+(u.class_id||"1"),icon:(0,Ae.jsx)(Vf,{})},{name:"S\xe9quences",href:"/seqs",icon:(0,Ae.jsx)(zn,{})},{name:"Trimestres",href:"/trims",icon:(0,Ae.jsx)(_x,{})}]},{title:"Outils",items:[{name:"Mes Besoins",href:"/my-needs",icon:(0,Ae.jsx)(Vx,{})},{name:"Rechercher",href:"/search",icon:(0,Ae.jsx)(Nn,{})},{name:"Profil",href:"/profile",icon:(0,Ae.jsx)(Kx,{})}]}]})();return(0,Ae.jsxs)(Ae.Fragment,{children:[l&&c&&(0,Ae.jsx)("div",{className:"sidebar-overlay",onClick:()=>d(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:999}}),(0,Ae.jsxs)("div",{className:`sidebar ${r?"collapsed":""} ${l&&c?"mobile-open":""}`,style:{position:"fixed",left:0,top:0,width:r&&!l?"80px":"280px",height:"100vh",backgroundColor:x(g,40),color:"white",zIndex:1e3,transition:"width 0.3s ease",transform:l&&!c?"translateX(-100%)":"translateX(0)",boxShadow:`2px 0 10px ${y(g,.2)}`,display:"flex",flexDirection:"column"},children:[(0,Ae.jsxs)("div",{style:{padding:"20px",borderBottom:`1px solid ${y(g,.3)}`,display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ae.jsx)("img",{src:rr,alt:`${f.school_name||"CPBD"} Logo`,style:{width:"40px",height:"40px",objectFit:"contain"},onError:e=>{e.target.src=rr}}),(!r||l)&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{style:{fontSize:"18px",fontWeight:"bold",color:b(g,0)},children:(null===(n=f.school_name)||void 0===n?void 0:n.split(" ").map(e=>e.charAt(0)).join(""))||"CPBD"}),(0,Ae.jsx)("div",{style:{fontSize:"12px",color:b(g,30)},children:f.school_name||"College Polyvalent Bilingue de Douala"})]})]}),(0,Ae.jsx)("div",{style:{flex:1,padding:"20px 0",overflowY:"auto"},children:w.map((e,t)=>(0,Ae.jsxs)("div",{style:{marginBottom:"30px"},children:[(!r||l)&&(0,Ae.jsx)("div",{style:{padding:"0 20px 10px",fontSize:"12px",color:b(g,20),textTransform:"uppercase",letterSpacing:"0.05em",fontWeight:"600"},children:e.title}),e.items.map((e,t)=>(0,Ae.jsxs)(_e,{to:e.href,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 20px",color:a.pathname===e.href?b(g,10):"rgba(0,0,0,0.6)",backgroundColor:a.pathname===e.href?y(g,.2):"transparent",textDecoration:"none",transition:"all 0.2s ease",borderLeft:a.pathname===e.href?`3px solid ${g}`:"3px solid transparent"},onClick:()=>(e.href,void(l&&d(!1))),onMouseEnter:t=>{a.pathname!==e.href&&(t.target.style.backgroundColor=y(g,.15),t.target.style.color=b(g,20))},onMouseLeave:t=>{a.pathname!==e.href&&(t.target.style.backgroundColor="transparent",t.target.style.color="rgba(0,0,0,0.6)")},children:[(0,Ae.jsx)("div",{style:{fontSize:"18px",minWidth:"18px"},children:e.icon}),(!r||l)&&(0,Ae.jsx)("span",{style:{fontSize:"14px",fontWeight:"500"},children:e.name})]},t))]},t))}),(0,Ae.jsxs)("div",{style:{padding:"20px",borderTop:`1px solid ${y(g,.3)}`,display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ae.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:g,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"bold",color:"white"},children:(()=>{const e=j();if(!e)return"U";const t=e.split(" ").filter(e=>e.length>0);return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e[0].toUpperCase()})()}),(!r||l)&&(0,Ae.jsxs)("div",{style:{flex:1},children:[(0,Ae.jsx)("div",{style:{fontSize:"14px",fontWeight:"500",color:b(g,0)},children:j()}),(0,Ae.jsx)("div",{style:{fontSize:"12px",color:b(g,30)},children:(()=>{if(p||!u)return"";switch(u.role){case"admin":return"Administrateur";case"accountant":return"Comptable";case"teacher":return"Enseignant";default:return"Utilisateur"}})()})]}),(0,Ae.jsx)("button",{onClick:async()=>{try{await h(),i("/login")}catch(e){console.error("Erreur lors de la d\xe9connexion:",e),i("/login")}},title:"Se d\xe9connecter",style:{background:"transparent",border:"none",color:b(g,20),padding:"8px",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease",fontSize:"16px"},onMouseEnter:e=>{e.target.style.backgroundColor=y(g,.2),e.target.style.color="#f8fafc"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent",e.target.style.color=b(g,20)},children:(0,Ae.jsx)(Jx,{size:16})})]})]})]})};var eb=["color","size","title","className"];function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tb.apply(null,arguments)}var nb=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,eb);return t.createElement("svg",tb({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-bell",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2M8 1.918l-.797.161A4 4 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4 4 0 0 0-3.203-3.92zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5 5 0 0 1 13 6c0 .88.32 4.2 1.22 6"}))});nb.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const rb=nb;var sb=["color","size","title","className"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ab.apply(null,arguments)}var ib=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,sb);return t.createElement("svg",ab({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-chat-dots",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2"}),t.createElement("path",{d:"m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9 9 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.4 10.4 0 0 1-.524 2.318l-.003.011a11 11 0 0 1-.244.637c-.079.186.074.394.273.362a22 22 0 0 0 .693-.125m.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6-3.004 6-7 6a8 8 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a11 11 0 0 0 .398-2"}))});ib.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const lb=ib;var ob=["color","size","title","className"];function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cb.apply(null,arguments)}var db=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,ob);return t.createElement("svg",cb({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-gear",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"}),t.createElement("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"}))});db.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const ub=db;var mb=["color","size","title","className"];function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hb.apply(null,arguments)}var pb=(0,t.forwardRef)(function(e,n){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,i=void 0===a?"1em":a,l=e.title,o=void 0===l?null:l,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,mb);return t.createElement("svg",hb({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-shield-fill",d].filter(Boolean).join(" ")},u),o?t.createElement("title",null,o):null,t.createElement("path",{d:"M5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.8 11.8 0 0 1-2.517 2.453 7 7 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7 7 0 0 1-1.048-.625 11.8 11.8 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 63 63 0 0 1 5.072.56"}))});pb.propTypes={color:Ue().string,size:Ue().oneOfType([Ue().string,Ue().number]),title:Ue().string,className:Ue().string};const fb=pb,vb=e=>{let{className:n=""}=e;const{user:r,isAuthenticated:s}=De(),{handleLogout:a,isLoggingOut:i}=(()=>{const{logout:e}=De(),[n,r]=(0,t.useState)(!1),s=(0,t.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(!0);try{if(await e(),t.clearCache&&"caches"in window){const e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}t.onSuccess&&t.onSuccess()}catch(n){console.error("Erreur lors de la d\xe9connexion:",n),t.onError&&t.onError(n)}finally{r(!1)}},[e]);return{handleLogout:s,isLoggingOut:n}})(),{tokenInfo:l,timeUntilExpiry:o}=(()=>{const{token:e}=De(),[n,r]=(0,t.useState)(null);return(0,t.useEffect)(()=>{if(!e)return void r(null);const t=()=>{const t=Ie.getTokenInfo(e);r(t)};t();const n=setInterval(t,3e4);return()=>clearInterval(n)},[e]),{tokenInfo:n,isTokenExpired:(null===n||void 0===n?void 0:n.isExpired)||!1,timeUntilExpiry:(null===n||void 0===n?void 0:n.timeUntilExpiry)||0,isTokenValid:(null===n||void 0===n?void 0:n.isValid)||!1}})(),[c,d]=(0,t.useState)(!1),u=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);if(!s||!r)return null;const m=e=>({admin:"Administrateur",teacher:"Enseignant",accountant:"Comptable",user:"Utilisateur"}[e]||e);return(0,Ae.jsxs)("div",{className:`relative ${n}`,ref:u,children:[(0,Ae.jsxs)("button",{onClick:()=>d(!c),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-violet focus:ring-offset-2",disabled:i,children:[(0,Ae.jsx)("div",{className:"w-8 h-8 bg-primary-violet rounded-full flex items-center justify-center",children:(0,Ae.jsx)(Vn,{className:"text-white",size:14})}),(0,Ae.jsxs)("div",{className:"hidden md:block text-left",children:[(0,Ae.jsx)("div",{className:"text-sm font-medium text-gray-900",children:r.name||r.username}),(0,Ae.jsx)("div",{className:"text-xs text-gray-500",children:m(r.role)})]}),(0,Ae.jsx)(Cr,{className:"text-gray-400 transition-transform "+(c?"rotate-180":""),size:16}),i&&(0,Ae.jsx)(_t,{size:"sm",className:"text-primary-violet"})]}),c&&(0,Ae.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[(0,Ae.jsx)("div",{className:"px-4 py-3 border-b border-gray-100",children:(0,Ae.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ae.jsx)("div",{className:"w-12 h-12 bg-primary-violet rounded-full flex items-center justify-center",children:(0,Ae.jsx)(Vn,{className:"text-white",size:20})}),(0,Ae.jsxs)("div",{className:"flex-1",children:[(0,Ae.jsx)("div",{className:"font-medium text-gray-900",children:r.name||r.username}),(0,Ae.jsx)("div",{className:"text-sm text-gray-500",children:r.email}),(0,Ae.jsx)("div",{className:"mt-1",children:(0,Ae.jsxs)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(e=>{const t={admin:"bg-red-100 text-red-800",teacher:"bg-blue-100 text-blue-800",accountant:"bg-green-100 text-green-800",user:"bg-gray-100 text-gray-800"};return t[e]||t.user})(r.role)}`,children:[(0,Ae.jsx)(fb,{size:12,className:"mr-1"}),m(r.role)]})})]})]})}),l&&(0,Ae.jsx)("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:(0,Ae.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ae.jsx)("span",{children:"Session expire dans:"}),(0,Ae.jsx)("span",{className:"font-medium "+(o<600?"text-red-600":"text-green-600"),children:(e=>{if(e<=0)return"Expir\xe9";const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t>0?`${t}h ${n}m`:`${n}m`})(o)})]})}),(0,Ae.jsxs)("div",{className:"py-1",children:[(0,Ae.jsxs)("button",{onClick:()=>{d(!1),console.log("Ouvrir le profil")},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[(0,Ae.jsx)(Vn,{size:16,className:"mr-3 text-gray-400"}),"Mon profil"]}),(0,Ae.jsxs)("button",{onClick:()=>{d(!1),console.log("Ouvrir les param\xe8tres")},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[(0,Ae.jsx)(ho,{size:16,className:"mr-3 text-gray-400"}),"Param\xe8tres"]})]}),(0,Ae.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,Ae.jsx)("div",{className:"px-4 py-2",children:(0,Ae.jsxs)(dt,{onClick:async()=>{d(!1),await a({clearCache:!0,onSuccess:()=>{console.log("D\xe9connexion r\xe9ussie")}})},variant:"outline",size:"sm",fullWidth:!0,disabled:i,loading:i,className:"text-red-600 border-red-200 hover:bg-red-50 hover:border-red-300",children:[(0,Ae.jsx)(Jx,{size:16,className:"mr-2"}),i?"D\xe9connexion...":"Se d\xe9connecter"]})})]})]})},gb=e=>{let{onSidebarToggle:n,showSidebarToggle:r=!1}=e;const s=J(),[a,i]=(0,t.useState)(""),[l,o]=(0,t.useState)(!1),{user:c,isAuthenticated:d}=De(),{canManageUsers:u,canAccess:m}=$e(),h=(()=>{const e=s.pathname.split("/").filter(e=>e),t={"":"Accueil",class:"Classes",teachers:"Enseignants",students:"\xc9l\xe8ves",matieres:"Mati\xe8res",search:"Recherche",params:"Profil",profile:"Profil",settings:"Param\xe8tres",docs:"Documents",stats:"Statistiques",seqs:"S\xe9quences",trims:"Trimestres",competences:"Comp\xe9tences",login:"Connexion",register:"Inscription"};if(0===e.length)return[{name:"Accueil",path:"/"}];const n=[{name:"Accueil",path:"/"}];return e.forEach((r,s)=>{const a="/"+e.slice(0,s+1).join("/"),i=t[r]||r;n.push({name:i,path:a})}),n})();return(0,Ae.jsxs)("div",{className:"topbar",children:[(0,Ae.jsxs)("div",{className:"topbar-left",children:[r&&(0,Ae.jsx)("button",{className:"sidebar-toggle",onClick:n,"aria-label":"Toggle sidebar",children:(0,Ae.jsx)(zn,{size:20})}),(0,Ae.jsx)("nav",{className:"breadcrumb",children:h.map((e,n)=>(0,Ae.jsxs)(t.Fragment,{children:[n>0&&(0,Ae.jsx)(_r,{className:"breadcrumb-separator",size:14}),(0,Ae.jsx)("span",{className:"breadcrumb-item "+(n===h.length-1?"active":""),children:n===h.length-1?e.name:(0,Ae.jsx)(_e,{to:e.path,children:e.name})})]},n))})]}),(0,Ae.jsxs)("div",{className:"topbar-right",children:[d&&c&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)("div",{className:"search-box",children:[(0,Ae.jsx)(Nn,{className:"search-icon",size:16}),(0,Ae.jsx)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&(window.location.href=`/search?q=${encodeURIComponent(a)}`)},children:(0,Ae.jsx)("input",{type:"text",className:"search-input",placeholder:"Rechercher \xe9l\xe8ves, enseignants...",value:a,onChange:e=>i(e.target.value)})})]}),(0,Ae.jsxs)("div",{className:"topbar-actions",children:[(0,Ae.jsx)("button",{className:"action-btn",title:"Langue",children:(0,Ae.jsx)(zo,{size:18})}),(0,Ae.jsxs)("div",{className:"relative",children:[(0,Ae.jsx)("button",{className:"action-btn has-notification",title:"Notifications",onClick:()=>o(!l),children:(0,Ae.jsx)(rb,{size:18})}),l&&(0,Ae.jsxs)("div",{className:"absolute right-0 top-12 w-80 bg-white rounded-xl shadow-xl border border-gray-200 z-50",children:[(0,Ae.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Ae.jsx)("h3",{className:"font-semibold text-gray-800",children:"Notifications"})}),(0,Ae.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Aucune nouvelle notification"})]})]}),(0,Ae.jsx)("button",{className:"action-btn",title:"Messages",children:(0,Ae.jsx)(lb,{size:18})}),u()&&(0,Ae.jsx)(_e,{to:"/settings",className:"action-btn",title:"Param\xe8tres",children:(0,Ae.jsx)(ub,{size:18})}),(0,Ae.jsx)(_e,{to:"/profile",className:"action-btn",title:"Profil",children:(0,Ae.jsx)(Kx,{size:18})}),(0,Ae.jsx)(vb,{className:"ml-2"})]})]}),!d&&(0,Ae.jsx)("div",{className:"flex gap-2",children:(0,Ae.jsx)(_e,{to:"/login",className:"btn btn-secondary",children:"Connexion"})})]})]})},xb=()=>{const{isAuthenticated:e,user:n}=De(),[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(window.innerWidth<=768);(0,t.useEffect)(()=>{const e=()=>{i(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const l=()=>{s(!r)};return(0,Ae.jsx)("div",{className:"app",children:(0,Ae.jsxs)(Ee,{children:[e&&(0,Ae.jsx)(Zx,{isCollapsed:r,onToggle:l}),(0,Ae.jsxs)("div",{className:"main-content",style:{marginLeft:e?r&&!a?"80px":"280px":"0",transition:"margin-left 0.3s ease"},children:[e&&(0,Ae.jsx)(gb,{onSidebarToggle:l,showSidebarToggle:a}),(0,Ae.jsx)("div",{className:"view animate-fade-in",children:(0,Ae.jsxs)(be,{children:[(0,Ae.jsx)(ge,{path:"/login",element:(0,Ae.jsx)(Bt,{redirectPath:"/",children:(0,Ae.jsx)(ar,{})})}),(0,Ae.jsx)(ge,{path:"/",element:(0,Ae.jsx)(It,{children:(0,Ae.jsx)(Ll,{})})}),(0,Ae.jsx)(ge,{path:"/profile",element:(0,Ae.jsx)(Dt,{children:(0,Ae.jsx)($c,{})})}),(0,Ae.jsx)(ge,{path:"/students/series/:seriesId",element:(0,Ae.jsx)(Dt,{children:(0,Ae.jsx)($f,{})})}),(0,Ae.jsx)(ge,{path:"/my-needs",element:(0,Ae.jsx)(Dt,{children:(0,Ae.jsx)(Kg,{})})}),(0,Ae.jsx)(ge,{path:"/sections",element:(0,Ae.jsx)(Lt,{children:(0,Ae.jsx)(Ll,{})})}),(0,Ae.jsx)(ge,{path:"/levels",element:(0,Ae.jsx)(Lt,{children:(0,Ae.jsx)($n,{})})}),(0,Ae.jsx)(ge,{path:"/school-classes",element:(0,Ae.jsx)(Lt,{children:(0,Ae.jsx)(Wa,{})})}),(0,Ae.jsx)(ge,{path:"/payment-tranches",element:(0,Ae.jsx)(Lt,{children:(0,Ae.jsx)(yr,{})})}),(0,Ae.jsx)(ge,{path:"/settings",element:(0,Ae.jsx)(Lt,{children:(0,Ae.jsx)(Nc,{})})}),(0,Ae.jsx)(ge,{path:"/school-years",element:(0,Ae.jsx)(Lt,{children:(0,Ae.jsx)(Rl,{})})}),(0,Ae.jsx)(ge,{path:"/user-management",element:(0,Ae.jsx)(Lt,{children:(0,Ae.jsx)(Zv,{})})}),(0,Ae.jsx)(ge,{path:"/subjects",element:(0,Ae.jsx)(Lt,{children:(0,Ae.jsx)(og,{})})}),(0,Ae.jsx)(ge,{path:"/series-subject-configuration",element:(0,Ae.jsx)(Lt,{children:(0,Ae.jsx)(pg,{})})}),(0,Ae.jsx)(ge,{path:"/teachers",element:(0,Ae.jsx)(Lt,{children:(0,Ae.jsx)(kg,{})})}),(0,Ae.jsx)(ge,{path:"/teacher-assignments",element:(0,Ae.jsx)(Lt,{children:(0,Ae.jsx)(Og,{})})}),(0,Ae.jsx)(ge,{path:"/teacher-assignments-old",element:(0,Ae.jsx)(Lt,{children:(0,Ae.jsx)(_g,{})})}),(0,Ae.jsx)(ge,{path:"/needs-management",element:(0,Ae.jsx)(Lt,{children:(0,Ae.jsx)(yx,{})})}),(0,Ae.jsx)(ge,{path:"/students-comp",element:(0,Ae.jsx)(Mt,{children:(0,Ae.jsx)(av,{})})}),(0,Ae.jsx)(ge,{path:"/class-comp",element:(0,Ae.jsx)(Mt,{children:(0,Ae.jsx)(Yf,{})})}),(0,Ae.jsx)(ge,{path:"/class-comp/:id",element:(0,Ae.jsx)(Mt,{children:(0,Ae.jsx)(iv,{})})}),(0,Ae.jsx)(ge,{path:"/params-comp",element:(0,Ae.jsx)(Mt,{children:(0,Ae.jsx)(sv,{})})}),(0,Ae.jsx)(ge,{path:"/payment-reports",element:(0,Ae.jsx)(Mt,{children:(0,Ae.jsx)(mv,{})})}),(0,Ae.jsx)(ge,{path:"/reports",element:(0,Ae.jsx)(Mt,{children:(0,Ae.jsx)(Dv,{})})}),(0,Ae.jsx)(ge,{path:"/student-payment/:studentId",element:(0,Ae.jsx)(Mt,{children:(0,Ae.jsx)(uv,{})})}),(0,Ae.jsx)(ge,{path:"*",element:(0,Ae.jsx)(Dt,{children:(0,Ae.jsx)(Jt,{})})})]})})]})]})})};const bb=function(){return(0,Ae.jsx)(At,{children:(0,Ae.jsx)(Vt,{children:(0,Ae.jsx)(Gt,{children:(0,Ae.jsx)(xb,{})})})})};s.createRoot(document.getElementById("root")).render((0,Ae.jsx)(t.StrictMode,{children:(0,Ae.jsx)(bb,{})}))})()})();
//# sourceMappingURL=main.2a99be77.js.map